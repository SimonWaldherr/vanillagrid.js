{"version":3,"file":"vanillagrid.esm.js","sources":["../src/vanillagrid.ts"],"sourcesContent":["/*!\n * VanillaGrid — a tiny table library\n * Features: sorting, multiple filtering modes (simple/CS/RegExp/tree),\n * pagination, grouping (sum/min/max), selection, resizing, basic editing,\n * context menu, export, tree data, and optional pivot-like view.\n * No dependencies. MIT License.\n */\n\n// @ts-nocheck - Temporarily disable type checking for the large conversion\n// TODO: Gradually enable strict typing by removing this and fixing errors\n\n// ============================================================================\n// Type Definitions\n// ============================================================================\n\nexport type VGCellType = 'text' | 'number' | 'date' | 'button' | 'image' | 'html' | 'progress' | 'rating' | 'badge' | 'color' | string;\nexport type VGSortDirection = 'asc' | 'desc';\nexport type VGFilterMode = 'simple' | 'case-sensitive' | 'regex' | 'tree';\nexport type VGExportFormat = 'csv' | 'md';\nexport type VGExportScope = 'page' | 'all';\nexport type VGThemeValue = 'light' | 'dark-blue' | 'dark-grey' | 'midnight' | 'forest' | 'ocean' | 'sand' | string;\nexport type VGDensityValue = 'comfortable' | 'compact';\nexport type VGAggregation = 'sum' | 'avg' | 'min' | 'max' | 'count';\nexport type VGFilterOperator = 'equals' | 'contains' | 'starts' | 'greater' | 'less';\nexport type VGDropPosition = 'before' | 'after';\n\n/** Column definition for VanillaGrid */\nexport interface VGColumn {\n  key: string;\n  label?: string;\n  type?: VGCellType;\n  sortable?: boolean;\n  filterable?: boolean;\n  format?: (val: any, row?: any) => string;\n  render?: (val: any, row?: any) => string | HTMLElement;\n  aggregations?: VGAggregation[];\n  link?: {\n    text?: string;\n    target?: string;\n  };\n  image?: {\n    alt?: string;\n    width?: number;\n    height?: number;\n  };\n  button?: {\n    text?: string;\n    onClick?: (row: any, btn: HTMLElement) => void;\n  };\n}\n\n/** Export configuration */\nexport interface VGExporting {\n  enabled: boolean;\n  formats: VGExportFormat[];\n  scope: VGExportScope;\n  filename: string;\n}\n\n/** Tree/hierarchical grid options */\nexport interface VGTreeOptions {\n  enabled: boolean;\n  childrenKey: string;\n  indent: number;\n  lazy: boolean;\n  initiallyExpanded: boolean;\n  hasChildrenKey: string;\n}\n\n/** Pivot table configuration */\nexport interface VGPivotConfig {\n  rows: string[];\n  columns: string[];\n  values: string[];\n  aggregations: Record<string, VGAggregation>;\n  filters?: Record<string, { operator: VGFilterOperator; value: string }> | any[];\n}\n\n/** Style controls configuration */\nexport interface VGStyleControls {\n  enabled: boolean;\n  persistKey?: string | false;\n  scope?: 'global' | 'instance';\n}\n\n/** Columns menu configuration */\nexport interface VGColumnsMenu {\n  location?: 'pager' | 'toolbar';\n  label?: string;\n  showSearch?: boolean;\n  showSelectAll?: boolean;\n  include?: string[];\n  exclude?: string[];\n  persistKey?: string;\n  initialHidden?: string[];\n}\n\n/** i18n strings */\nexport interface VGI18n {\n  tableLabel: string;\n  filterPlaceholder: string;\n  regexLabel: string;\n  invalidRegex: string;\n  noGroup: string;\n  groupByPrefix: string;\n  perPageSuffix: string;\n  search: {\n    simple: string;\n    caseSensitive: string;\n    regex: string;\n    treeFilter: string;\n  };\n  pager: {\n    pageInfo: (page: number, total: number) => string;\n    prev: string;\n    next: string;\n    first: string;\n    last: string;\n    totalRows: (n: number) => string;\n    totalGroups: (n: number) => string;\n  };\n  group: {\n    count: string;\n    min: string;\n    max: string;\n  };\n  aria: {\n    toggleGroup: string;\n    expandRow: string;\n    collapseRow: string;\n  };\n  export: {\n    button: string;\n    csv: string;\n    markdown: string;\n    format: string;\n  };\n}\n\n/** Options for VanillaGrid constructor */\nexport interface VanillaGridOptions<T extends Record<string, any> = Record<string, any>> {\n  data: T[];\n  columns: VGColumn[];\n  pageSize?: number;\n  pageSizes?: number[];\n  sortable?: boolean;\n  filterable?: boolean;\n  pagination?: boolean;\n  groupable?: boolean;\n  groupBy?: string | null;\n  regexFilter?: boolean;\n  className?: string;\n  emptyMessage?: string;\n  theme?: VGThemeValue;\n  density?: VGDensityValue;\n  striped?: boolean;\n  styleControls?: VGStyleControls | boolean;\n  i18n?: Partial<VGI18n>;\n  tree?: Partial<VGTreeOptions>;\n  loadChildren?: (row: T) => Promise<T[]>;\n  serverPagination?: boolean;\n  serverSorting?: boolean;\n  serverFiltering?: boolean;\n  loadPage?: (args: {\n    page: number;\n    pageSize: number;\n    sortKey?: string;\n    sortDir?: VGSortDirection;\n    filter?: string;\n    regexMode?: boolean;\n    caseSensitive?: boolean;\n  }) => Promise<{ rows: T[]; total: number }>;\n  exporting?: Partial<VGExporting>;\n  selectable?: boolean;\n  onSelectionChange?: (rows: T[]) => void;\n  columnsMenu?: boolean | Partial<VGColumnsMenu>;\n  onColumnsVisibilityChange?: (hidden: Set<string>) => void;\n  resizableColumns?: boolean;\n  editableRows?: boolean;\n  rowDragDrop?: boolean;\n  frozenColumns?: number;\n  keyboardNavigation?: boolean;\n  contextMenu?: boolean;\n  onRowEdit?: (row: T, field: string, newValue: any, oldValue: any) => void;\n  onRowDrop?: (draggedRow: T, targetRow: T, position: VGDropPosition) => void;\n  customCellTypes?: Record<string, (value: any, column: VGColumn, row: T) => string | HTMLElement>;\n  pivotMode?: boolean;\n  pivotConfig?: Partial<VGPivotConfig>;\n  onPivotChange?: (pivotData: any, config: VGPivotConfig) => void;\n}\n\n/** Internal row with assigned ID */\ninterface VGRow extends Record<string, any> {\n  __vgid?: number;\n  children?: VGRow[];\n}\n\n/** Internal state */\ninterface VGState {\n  sortKey: string | null;\n  sortDir: VGSortDirection;\n  filter: string;\n  filterMode: VGFilterMode;\n  regexMode: boolean;\n  caseSensitive: boolean;\n  treeFilterExpanded: Set<string>;\n  page: number;\n  pageSize: number;\n  groupBy: string | null;\n  regexError: string;\n  collapsed: Set<string>;\n  expanded: Set<number>;\n  loadingChildren: Set<number>;\n  serverTotalRows: number | null;\n  selected: Set<number>;\n  hiddenCols: Set<string>;\n  columnWidths: Map<string, number>;\n  editingCell: { rowId: number; columnKey: string } | null;\n  draggedRow: any | null;\n  focusedCell: { rowId: number; columnKey: string } | null;\n  pivotData: any | null;\n  originalData: any[] | null;\n  originalColumns: VGColumn[] | null;\n  pivotControlsCollapsed: boolean;\n}\n\n/** Style state */\ninterface VGStyleState {\n  theme: VGThemeValue;\n  density: VGDensityValue;\n  striped: boolean;\n}\n\n// ============================================================================\n// Constants\n// ============================================================================\n\nconst VG_STYLE_THEMES: Array<{ value: VGThemeValue; label: string; dark: boolean }> = [\n  { value: 'light', label: 'Light', dark: false },\n  { value: 'dark-blue', label: 'Dark Blue', dark: true },\n  { value: 'dark-grey', label: 'Dark Grey', dark: true },\n  { value: 'midnight', label: 'Midnight Violet', dark: true },\n  { value: 'forest', label: 'Forest Night', dark: true },\n  { value: 'ocean', label: 'Ocean Breeze', dark: false },\n  { value: 'sand', label: 'Sand Dune', dark: false }\n];\n\nconst VG_STYLE_DEFAULT_STATE: VGStyleState = {\n  theme: 'light',\n  density: 'comfortable',\n  striped: false,\n};\n\n// ============================================================================\n// Main Class\n// ============================================================================\n\n/**\n * VanillaGrid - A tiny, dependency-free data grid\n * \n * @template T - The type of data rows in the grid\n */\nclass VanillaGrid<T extends Record<string, any> = Record<string, any>> {\n\n  container: HTMLElement;\n  root: HTMLElement;\n  opts: any; // Using any to avoid deep Required issues with optional nested objects\n  columns: VGColumn[];\n  data: VGRow[];\n  state: VGState;\n  styleState: VGStyleState;\n  rowById: Map<number, VGRow>;\n  toolbarEl: HTMLElement | null = null;\n  headerEl: HTMLElement | null = null;\n  bodyEl: HTMLElement | null = null;\n  pagerEl: HTMLElement | null = null;\n  tableEl: HTMLTableElement | null = null;\n  theadEl: HTMLTableSectionElement | null = null;\n  tbodyEl: HTMLTableSectionElement | null = null;\n  \n  private _idCounter: number = 0;\n  private _totalPages: number = 1;\n  private _onDocClickFilterMode: ((e: Event) => void) | null = null;\n  private _onDocClickTreeFilter: ((e: Event) => void) | null = null;\n  private _onToolbarTreeClick: ((e: Event) => void) | null = null;\n  private _onBodyClick: ((e: Event) => void) | null = null;\n  private _onBodyDblClick: ((e: Event) => void) | null = null;\n  private _onBodyContextMenu: ((e: Event) => void) | null = null;\n  private _onBodyKeyDown: ((e: KeyboardEvent) => void) | null = null;\n  private _onHeaderClick: ((e: Event) => void) | null = null;\n  private _onHeaderMouseDown: ((e: MouseEvent) => void) | null = null;\n  private _onToolbarClick: ((e: Event) => void) | null = null;\n  private _onToolbarChange: ((e: Event) => void) | null = null;\n  private _onPagerClick: ((e: Event) => void) | null = null;\n  private _resizeState: {\n    column: string | null;\n    startX: number;\n    startWidth: number;\n  } | null = null;\n\n    /**\n     * Create a VanillaGrid instance.\n     * @param {string|HTMLElement} container - CSS selector or DOM node to mount into\n     * @param {VanillaGridOptions} options - Configuration and data\n     */\n    constructor(container: string | HTMLElement, options: VanillaGridOptions<T>) {\n      const el = (typeof container === 'string')\n        ? document.querySelector<HTMLElement>(container)\n        : container;\n\n      if (!el) throw new Error('VanillaGrid: container not found');\n      this.container = el;\n\n      // Options\n      const defaults = {\n        data: [],\n        columns: [], // [{ key, label, type, sortable, filterable, format, render, aggregations:['sum','min','max'], link:{text,target}, image:{alt,width,height}, button:{text, onClick} }]\n        pageSize: 10,\n        pageSizes: [10, 25, 50, 100, 1000],\n        sortable: true,\n        filterable: false,\n        pagination: true,\n        groupable: false,\n        groupBy: null, // key or null\n        regexFilter: false,\n        className: '',\n        emptyMessage: 'No rows to display.',\n        theme: 'light',\n        density: 'comfortable',\n        striped: false,\n        styleControls: {\n          enabled: true,\n          persistKey: 'vanillagrid:style',\n        },\n        // i18n strings (override any to localize)\n        i18n: {\n          tableLabel: 'Data table',\n          filterPlaceholder: 'Filter...',\n          regexLabel: 'RegExp',\n          invalidRegex: 'Invalid RegExp',\n          noGroup: 'No group',\n          groupByPrefix: 'Group by',\n          perPageSuffix: ' / page',\n          search: {\n            simple: 'Simple',\n            caseSensitive: 'Case-sensitive',\n            regex: 'RegExp',\n            treeFilter: 'Tree/Filter'\n          },\n          pager: {\n            pageInfo: (p, t) => `Page ${p} of ${t}`,\n            prev: 'Previous page',\n            next: 'Next page',\n            first: 'First page',\n            last: 'Last page',\n            totalRows: n => `${n} row(s)`,\n            totalGroups: n => `${n} group(s)`,\n          },\n          group: { count: 'Count', min: 'min', max: 'max' },\n          aria: { toggleGroup: 'Toggle group', expandRow: 'Expand', collapseRow: 'Collapse' },\n          export: { button: 'Export', csv: 'CSV', markdown: 'Markdown', format: 'Format' }\n        },\n        // Tree options\n        tree: {\n          enabled: false,\n          childrenKey: 'children',\n          indent: 16,\n          lazy: false,\n          initiallyExpanded: false,\n          hasChildrenKey: 'hasChildren',\n        },\n        loadChildren: null, // async (row) => children array\n        // Remote/server-side options\n        serverPagination: false,\n        serverSorting: false,\n        serverFiltering: false,\n  loadPage: null, // async ({page,pageSize,sortKey,sortDir,filter,regexMode}) => { rows, total }\n  // Export options\n        exporting: {\n          enabled: false,\n          formats: ['csv', 'md'], // supported: 'csv', 'md'\n          scope: 'page', // 'page' | 'all'\n          filename: 'vanillagrid'\n        },\n        // Selection\n        selectable: false, // adds a checkbox column and selection API\n        onSelectionChange: null, // (selectedRows) => void\n  // Column visibility\n  // columnsMenu can be:\n  // - false to disable\n  // - true for defaults\n  // - object for configuration: { location:'pager'|'toolbar', label:string, showSearch:boolean, showSelectAll:boolean, include:string[], exclude:string[], persistKey:string, initialHidden:string[] }\n  columnsMenu: false,\n  onColumnsVisibilityChange: null, // (hiddenCols:Set<string>) => void\n        // New features\n        resizableColumns: false, // allow column resizing by dragging borders\n        editableRows: false, // enable inline row editing\n        rowDragDrop: false, // enable row reordering via drag and drop\n        frozenColumns: 0, // number of columns to freeze on the left\n        keyboardNavigation: true, // enable arrow key navigation\n        contextMenu: true, // enable right-click context menu\n        onRowEdit: null, // (row, field, newValue, oldValue) => void\n        onRowDrop: null, // (draggedRow, targetRow, position) => void\n        customCellTypes: {}, // custom cell renderers: { typeName: renderFunction }\n        // Pivot table options\n        pivotMode: false, // enable pivot table mode\n        pivotConfig: {\n          rows: [], // field names for row grouping\n          columns: [], // field names for column grouping  \n          values: [], // field names for value aggregation\n          aggregations: {}, // field -> aggregation function mapping\n        },\n        onPivotChange: null, // (pivotData, config) => void\n      };\n      this.opts = Object.assign({}, defaults, options || {});\n      if (options && options.tree) this.opts.tree = Object.assign({}, defaults.tree, options.tree);\n      if (options) {\n        if (options.styleControls === false) {\n          this.opts.styleControls = false;\n        } else if (options.styleControls && typeof options.styleControls === 'object') {\n          this.opts.styleControls = Object.assign({}, defaults.styleControls, options.styleControls);\n        }\n      }\n      this.columns = this.opts.columns;\n      this.data = Array.isArray(this.opts.data) ? this.opts.data.slice() : [];\n\n  // Stable row ids for event delegation (deep for tree)\n  this._idCounter = 0;\n  this._assignIdsDeep(this.data);\n  this.rowById = new Map();\n  this._indexRowsDeep(this.data);\n\n      // State\n      this.state = {\n        sortKey: null,\n        sortDir: 'asc',\n        filter: '',\n        filterMode: 'simple', // 'simple' | 'case-sensitive' | 'regex' | 'tree'\n        regexMode: !!this.opts.regexFilter,\n        caseSensitive: false,\n        treeFilterExpanded: new Set(), // for tree filter navigation\n        page: 1,\n        pageSize: this.opts.pageSize,\n        groupBy: this.opts.groupBy,\n        regexError: '',\n  collapsed: new Set(), // group value -> collapsed\n  // Tree state\n  expanded: new Set(), // row id -> expanded\n  loadingChildren: new Set(),\n  // Remote total (for serverPagination)\n  serverTotalRows: null,\n        // Selection state\n        selected: new Set(), // row ids\n        // Column visibility state\n        hiddenCols: new Set(),\n        // New feature states\n        columnWidths: new Map(), // column key -> width in px\n        editingCell: null, // { rowId, columnKey }\n        draggedRow: null, // row being dragged\n        focusedCell: null, // { rowId, columnKey } for keyboard navigation\n        // Pivot state\n        pivotData: null, // processed pivot table data\n        originalData: null, // backup of original data when in pivot mode\n        originalColumns: null, // backup of original columns when in pivot mode\n        // Pivot UI state\n        pivotControlsCollapsed: false,\n      };\n\n      // Root\n      this.root = document.createElement('div');\n      this.root.className = `vg-container ${this.opts.className}`.trim();\n      this.container.innerHTML = '';\n      this.container.appendChild(this.root);\n\n  this._initStyleState();\n\n      this._render();\n    }\n\n  // ------------- Public API ----------------\n  /** Replace all data rows and reset page. */\n  setData(data) {\n  this.data = Array.isArray(data) ? data.slice() : [];\n  this._idCounter = 0;\n  this._assignIdsDeep(this.data);\n  this.rowById = new Map();\n  this._indexRowsDeep(this.data);\n      this.state.page = 1;\n      this._renderBody();\n      this._renderPager();\n    }\n\n  /** Get a shallow copy of current data. */\n  getData() { return this.data.slice(); }\n\n  /**\n   * Set grouping by a column key (or null to disable).\n   * Re-renders body and pager.\n   */\n  setGroupBy(key) {\n      this.state.groupBy = key || null;\n      this.state.page = 1;\n      this._renderBody();\n      this._renderPager();\n    }\n\n  /**\n   * Update filter text and options.\n   * For server mode, triggers remote load; otherwise re-renders body and pager.\n   * @param {string} text\n   * @param {{regexMode?:boolean, caseSensitive?:boolean}} [options]\n   */\n  setFilter(text, options = {}) {\n      this.state.filter = text ?? '';\n      if (options.regexMode != null) this.state.regexMode = !!options.regexMode;\n      if (options.caseSensitive != null) this.state.caseSensitive = !!options.caseSensitive;\n      this.state.page = 1;\n  this._updateFilterError();\n      if (this._shouldRemoteFetch('filter')) {\n        this._remoteLoad(1);\n      } else {\n        this._renderBody();\n        this._renderPager();\n      }\n    }\n\n  /**\n   * Apply sorting by column key and direction.\n   * @param {string} key\n   * @param {'asc'|'desc'} [dir='asc']\n   */\n  setSort(key, dir = 'asc') {\n      this.state.sortKey = key;\n      this.state.sortDir = dir === 'desc' ? 'desc' : 'asc';\n      this._renderHeader();\n  if (this._shouldRemoteFetch('sort')) this._remoteLoad(1);\n  else this._renderBody();\n    }\n\n    setPageSize(size) {\n      this.state.pageSize = +size || 10;\n      this.state.page = 1;\n      this._renderPager();\n  if (this._shouldRemoteFetch('page')) this._remoteLoad(1);\n  else this._renderBody();\n    }\n\n    // -------- Public: Markdown input --------\n    setMarkdown(markdown, options = {}) {\n      const tables = this._parseMarkdownTables(String(markdown || ''));\n      const idx = Math.max(0, Math.min(options.tableIndex || 0, tables.length - 1));\n      const table = tables[idx];\n      if (!table) {\n        // No table found: clear data\n        this.columns = [];\n        this.setData([]);\n        return;\n      }\n      const keys = this._uniqueKeys(table.headers.map(h => this._slugify(String(h || 'col'))));\n      const cols = keys.map((k, i) => ({ key: k, label: table.headers[i], type: 'html', sortable: true }));\n      const data = table.rows.map(row => {\n        const obj = {};\n        row.forEach((cell, i) => obj[keys[i]] = this._mdInlineToHtml(cell));\n        return obj;\n      });\n      this.columns = cols;\n      this._renderHeader();\n      this.setData(data);\n    }\n\n    async loadMarkdown(url, fetchOptions) {\n      const res = await fetch(url, fetchOptions);\n      const text = await res.text();\n      this.setMarkdown(text);\n    }\n\n    // -------- Public: Export --------\n    downloadCSV(filename) {\n      const name = (filename || this.opts.exporting.filename || 'vanillagrid') + '.csv';\n      const { headers, rows } = this._exportMatrix();\n      const csv = this._toCSV([headers, ...rows]);\n      this._downloadBlob(csv, name, 'text/csv;charset=utf-8;');\n    }\n\n    downloadMarkdown(filename) {\n      const name = (filename || this.opts.exporting.filename || 'vanillagrid') + '.md';\n      const { headers, rows } = this._exportMatrix();\n      const md = this._toMarkdown(headers, rows);\n      this._downloadBlob(md, name, 'text/markdown;charset=utf-8;');\n    }\n\n    // -------- Public: New Features API --------\n    \n    // Row management\n    addRow(rowData, index = -1) {\n      const newRow = { ...rowData };\n      this._assignIdsDeep([newRow]);\n      this._indexRowsDeep([newRow]);\n      \n      if (index >= 0 && index < this.data.length) {\n        this.data.splice(index, 0, newRow);\n      } else {\n        this.data.push(newRow);\n      }\n      \n      this._renderBody();\n      this._renderPager();\n      return newRow;\n    }\n\n    updateRow(rowId, newData) {\n      const row = this.rowById.get(rowId);\n      if (row) {\n        Object.assign(row, newData);\n        this._renderBody();\n        return row;\n      }\n      return null;\n    }\n\n    deleteRow(rowId) {\n      const index = this.data.findIndex(row => row.__vgid === rowId);\n      if (index > -1) {\n        const deleted = this.data.splice(index, 1)[0];\n        this.rowById.delete(rowId);\n        this.state.selected.delete(rowId);\n        this._renderBody();\n        this._renderPager();\n        return deleted;\n      }\n      return null;\n    }\n\n    // Column management\n    setColumnWidth(columnKey, width) {\n      this.state.columnWidths.set(columnKey, width);\n      this._renderHeader();\n    }\n\n    getColumnWidth(columnKey) {\n      return this.state.columnWidths.get(columnKey);\n    }\n\n    resetColumnWidths() {\n      this.state.columnWidths.clear();\n      this._renderHeader();\n    }\n\n    // Cell editing\n    startEdit(rowId, columnKey) {\n      const row = this.root.querySelector(`tr[data-rowid=\"${rowId}\"]`);\n      if (row) {\n        const cell = row.querySelector(`td[data-column-key=\"${columnKey}\"]`);\n        if (cell) {\n          this._startCellEdit(cell);\n          return true;\n        }\n      }\n      return false;\n    }\n\n    // Navigation and focus\n    focusCell(rowId, columnKey) {\n      const row = this.root.querySelector(`tr[data-rowid=\"${rowId}\"]`);\n      if (row) {\n        const cell = row.querySelector(`td[data-column-key=\"${columnKey}\"]`);\n        if (cell) {\n          cell.focus();\n          this.state.focusedCell = { rowId, columnKey };\n          return true;\n        }\n      }\n      return false;\n    }\n\n    // Custom cell type registration\n    registerCellType(typeName, renderFunction) {\n      this.opts.customCellTypes[typeName] = renderFunction;\n    }\n\n    unregisterCellType(typeName) {\n      delete this.opts.customCellTypes[typeName];\n    }\n\n    // -------- Public: Pivot Table API --------\n    \n    // Enable pivot mode with configuration\n    enablePivot(config = {}) {\n      if (!this.opts.pivotMode) {\n        // Backup original data and columns\n        this.state.originalData = this.data.slice();\n        this.state.originalColumns = this.columns.slice();\n      }\n      \n      this.opts.pivotMode = true;\n      this.opts.pivotConfig = {\n        rows: config.rows || [],\n        columns: config.columns || [],\n        values: config.values || [],\n        filters: config.filters || [],\n        aggregations: config.aggregations || {}\n      };\n      \n      this._generatePivotTable();\n      this._renderPivotToolbar();\n      this._renderHeader();\n      this._renderBody();\n      this._renderPager();\n      \n      if (this.opts.onPivotChange) {\n        this.opts.onPivotChange(this.state.pivotData, this.opts.pivotConfig);\n      }\n    }\n    \n    // Disable pivot mode and restore original data\n    disablePivot() {\n      if (this.state.originalData && this.state.originalColumns) {\n        this.data = this.state.originalData;\n        this.columns = this.state.originalColumns;\n        this.state.originalData = null;\n        this.state.originalColumns = null;\n      }\n      \n      this.opts.pivotMode = false;\n      this.state.pivotData = null;\n      \n      this._renderToolbar();\n      this._renderHeader();\n      this._renderBody();\n      this._renderPager();\n    }\n    \n    // Update pivot configuration\n    updatePivotConfig(config) {\n      if (!this.opts.pivotMode) return;\n      \n      Object.assign(this.opts.pivotConfig, config);\n      this._generatePivotTable();\n      this._updatePivotFieldLists(); // Update UI to show the fields\n      this._renderHeader();\n      this._renderBody();\n      \n      if (this.opts.onPivotChange) {\n        this.opts.onPivotChange(this.state.pivotData, this.opts.pivotConfig);\n      }\n    }\n    \n    // Get pivot table data\n    getPivotData() {\n      return this.state.pivotData;\n    }\n    \n    // Get available fields for pivot configuration\n    getAvailableFields() {\n      const originalData = this.state.originalData || this.data;\n      if (!originalData.length) return [];\n      \n      const sample = originalData[0];\n      return Object.keys(sample).filter(key => !key.startsWith('__vg'));\n    }\n\n    // ------------- Internal: Rendering ----------------\n    _render() {\n    this.root.innerHTML = `\n        <div class=\"vg-toolbar\"></div>\n        <div class=\"vg-table-wrap\">\n      <table class=\"vg-table\" role=\"table\" aria-label=\"${this._escAttr(this.opts.i18n.tableLabel)}\">\n            <thead></thead>\n            <tbody></tbody>\n          </table>\n        </div>\n        <div class=\"vg-pager\"></div>\n      `;\n\n      this.toolbarEl = this.root.querySelector('.vg-toolbar');\n      this.theadEl = this.root.querySelector('thead');\n      this.tbodyEl = this.root.querySelector('tbody');\n      this.pagerEl = this.root.querySelector('.vg-pager');\n      this.tableEl = this.root.querySelector('.vg-table');\n\n      this._renderToolbar();\n      this._renderHeader();\n      this._bindTableEvents();\n      this._bindMobileTouch();\n      this._bindKeyboardNavigation();\n      this._bindContextMenu();\n      // restore columns menu state if configured\n      this._restoreColumnsMenuState();\n      if (this._shouldRemoteFetch('init')) {\n        this._remoteLoad(1);\n      } else {\n        this._renderBody();\n        this._renderPager();\n      }\n      this._applyColumnVisibility();\n    }\n\n  /**\n   * Render the toolbar row (search, group-by, export, optional columns menu).\n   * This method is called frequently; keep it fast and avoid stacking listeners.\n   */\n  _renderToolbar() {\n      // If in pivot mode, render pivot toolbar instead\n      if (this.opts.pivotMode) {\n        this._renderPivotToolbar();\n        return;\n      }\n      \n      this._closeAllSettingsPanels();\n\n      const filterable = this.opts.filterable;\n      const groupable = this.opts.groupable;\n      const i18n = this.opts.i18n;\n      const pageSizes = this.opts.pageSizes;\n\n      const groupOptions = [`<option value=\"\">${this._esc(i18n.noGroup)}</option>`]\n        .concat(this.columns.map(c =>\n          `<option value=\"${this._esc(c.key)}\" ${this.state.groupBy === c.key ? 'selected' : ''}>${this._esc(i18n.groupByPrefix)} ${this._esc(c.label ?? c.key)}</option>`));\n\n      const exportBlock = (this.opts.exporting && this.opts.exporting.enabled)\n        ? `<div class=\"vg-export\">\n            <select class=\"vg-export-format\" aria-label=\"${this._escAttr(i18n.export.format)}\">\n              ${this.opts.exporting.formats.map(f => f === 'csv'\n                ? `<option value=\"csv\">${this._esc(i18n.export.csv)}</option>`\n                : `<option value=\"md\">${this._esc(i18n.export.markdown)}</option>`).join('')}\n            </select>\n            <button class=\"vg-export-btn\" type=\"button\" aria-label=\"${this._escAttr(i18n.export.button)}\" title=\"${this._escAttr(i18n.export.button)}\">${this._esc(i18n.export.button)}</button>\n          </div>`\n        : '';\n      const settingsMarkup = this._styleControlsMarkup();\n      const actionsMarkup = (exportBlock || settingsMarkup)\n        ? `<div class=\"vg-toolbar-actions\">\n            ${exportBlock}\n            ${settingsMarkup}\n          </div>`\n        : '';\n      // Columns menu may be rendered in pager or toolbar depending on config\n\n      const colMenuCfg = this._columnsMenuConfig();\n      const renderColumnsHere = colMenuCfg && colMenuCfg.location === 'toolbar';\n\n      this.toolbarEl.innerHTML = `\n        <div class=\"vg-toolbar-row\">\n          ${filterable ? `\n          <div class=\"vg-filter\">\n            <input type=\"text\" class=\"vg-filter-input\" placeholder=\"${this._escAttr(i18n.filterPlaceholder)}\" value=\"${this._escAttr(this.state.filter)}\" aria-label=\"${this._escAttr(i18n.filterPlaceholder)}\" />\n            <div class=\"vg-filter-mode\">\n              <div class=\"vg-filter-mode-btn\" aria-label=\"Filter mode\">\n                <span class=\"vg-filter-mode-current\">${this._esc(i18n.search[this.state.filterMode])}</span>\n              </div>\n              <div class=\"vg-filter-mode-dropdown\">\n                <div class=\"vg-filter-mode-option ${this.state.filterMode === 'simple' ? 'active' : ''}\" data-mode=\"simple\">\n                  ${this._esc(i18n.search.simple)}\n                </div>\n                <div class=\"vg-filter-mode-option ${this.state.filterMode === 'case-sensitive' ? 'active' : ''}\" data-mode=\"case-sensitive\">\n                  ${this._esc(i18n.search.caseSensitive)}\n                </div>\n                <div class=\"vg-filter-mode-option ${this.state.filterMode === 'regex' ? 'active' : ''}\" data-mode=\"regex\">\n                  ${this._esc(i18n.search.regex)}\n                </div>\n                <div class=\"vg-filter-mode-option ${this.state.filterMode === 'tree' ? 'active' : ''}\" data-mode=\"tree\">\n                  ${this._esc(i18n.search.treeFilter)}\n                </div>\n              </div>\n            </div>\n            ${this.state.regexError ? `<span class=\"vg-error\" title=\"${this._escAttr(this.state.regexError)}\">${this._esc(i18n.invalidRegex)}</span>` : ''}\n            ${this.state.filterMode === 'tree' ? this._renderTreeFilter() : ''}\n          </div>` : ''}\n          ${groupable ? `\n          <div class=\"vg-groupby\">\n            <select class=\"vg-group-select\" aria-label=\"${this._escAttr(i18n.groupByPrefix)}\">\n              ${groupOptions.join('')}\n            </select>\n          </div>` : ''}\n          ${renderColumnsHere ? this._columnsMenuMarkup(colMenuCfg) : ''}\n          ${actionsMarkup}\n        </div>\n      `;\n\n      // Events\n      const input = this.toolbarEl.querySelector('.vg-filter-input');\n      const modeBtn = this.toolbarEl.querySelector('.vg-filter-mode-btn');\n      const modeDropdown = this.toolbarEl.querySelector('.vg-filter-mode');\n      const selGroup = this.toolbarEl.querySelector('.vg-group-select');\n      // page size select moved to pager\n      const btnExport = this.toolbarEl.querySelector('.vg-export-btn');\n      const selExportFmt = this.toolbarEl.querySelector('.vg-export-format');\n      // column toggles may be in toolbar depending on config\n\n      if (input) {\n        input.oninput = () => {\n          // Add typing animation\n          input.style.transform = 'scale(1.02)';\n          setTimeout(() => {\n            input.style.transform = '';\n          }, 100);\n          \n          this._applyFilter();\n        };\n        \n        // Enhanced keyboard navigation\n        input.onkeydown = (e) => {\n          switch (e.key) {\n            case 'Escape':\n              input.value = '';\n              this._applyFilter();\n              break;\n            case 'ArrowDown':\n              if (this.state.filterMode === 'tree') {\n                e.preventDefault();\n                const treePanel = this.toolbarEl.querySelector('.vg-tree-filter-panel');\n                if (treePanel && treePanel.classList.contains('show')) {\n                  const firstColumn = treePanel.querySelector('.vg-tree-filter-column-name');\n                  if (firstColumn) firstColumn.focus();\n                }\n              }\n              break;\n            case 'F3':\n            case 'Enter':\n              if (e.ctrlKey || e.metaKey) {\n                // Cycle through search modes\n                e.preventDefault();\n                const modes = ['simple', 'case-sensitive', 'regex', 'tree'];\n                const currentIndex = modes.indexOf(this.state.filterMode);\n                const nextMode = modes[(currentIndex + 1) % modes.length];\n                this.state.filterMode = nextMode;\n                this.state.regexMode = nextMode === 'regex';\n                this._renderToolbar();\n                this._applyFilter();\n              }\n              break;\n          }\n        };\n        \n        // Add search suggestions on focus (for tree mode)\n        input.onfocus = () => {\n          if (this.state.filterMode === 'tree' && !input.value) {\n            // Show tree panel on focus if in tree mode\n            setTimeout(() => this._renderToolbar(), 100);\n          }\n        };\n      }\n      \n      // Filter mode dropdown (simple/CS/regex/tree)\n      if (modeBtn && modeDropdown) {\n        this._setupFilterModeDropdown(modeBtn, modeDropdown);\n      }\n      if (selGroup) {\n        selGroup.onchange = () => {\n          this.state.groupBy = selGroup.value || null;\n          this.state.page = 1;\n          this.state.collapsed.clear();\n          this._renderBody();\n          this._renderPager();\n        };\n      }\n      // no page size select in toolbar anymore\n      if (btnExport && selExportFmt) {\n        btnExport.onclick = () => {\n          const fmt = selExportFmt.value;\n          if (fmt === 'csv') this.downloadCSV();\n          else this.downloadMarkdown();\n        };\n      }\n      // bind column toggles if present in toolbar\n      if (renderColumnsHere) this._bindColumnsMenuEvents(this.toolbarEl);\n      this._bindStyleControls(this.toolbarEl);\n      \n      // Bind tree filter events if present (delegated, single handler)\n      this._bindTreeFilterEvents();\n    }\n\n    /**\n     * Setup filter mode dropdown interactions without stacking global listeners.\n     * @param {HTMLElement} modeBtn\n     * @param {HTMLElement} modeDropdown\n     */\n  /**\n   * Wire up filter mode dropdown interactions and a single outside-click handler.\n   * Re-entrant safe: replaces previous document handler via instance property.\n   * @param {HTMLElement} modeBtn\n   * @param {HTMLElement} modeDropdown\n   */\n  _setupFilterModeDropdown(modeBtn, modeDropdown) {\n      // Toggle dropdown\n      modeBtn.onclick = (e) => {\n        e.stopPropagation();\n        const isOpen = modeDropdown.classList.contains('open');\n        // Close all other open dropdowns first\n        document.querySelectorAll('.vg-filter-mode.open').forEach(d => {\n          if (d !== modeDropdown) d.classList.remove('open');\n        });\n        modeDropdown.classList.toggle('open');\n        if (!isOpen) {\n          setTimeout(() => {\n            const firstOption = modeDropdown.querySelector('.vg-filter-mode-option');\n            if (firstOption) firstOption.focus();\n          }, 100);\n        }\n      };\n\n      // Close dropdown when clicking outside — ensure only one document handler\n      if (this._onDocClickFilterMode) {\n        document.removeEventListener('click', this._onDocClickFilterMode);\n      }\n      this._onDocClickFilterMode = (e) => {\n        const target = e.target;\n        if (!modeDropdown.contains(target) && !modeBtn.contains(target)) {\n          modeDropdown.classList.remove('open');\n        }\n      };\n      document.addEventListener('click', this._onDocClickFilterMode);\n\n      // Keyboard navigation for dropdown\n      modeDropdown.addEventListener('keydown', (e) => {\n        const options = modeDropdown.querySelectorAll('.vg-filter-mode-option');\n        const currentIndex = Array.from(options).findIndex(o => o === document.activeElement);\n        switch (e.key) {\n          case 'ArrowDown':\n            e.preventDefault();\n            {\n              const nextIndex = (currentIndex + 1) % options.length;\n              options[nextIndex].focus();\n            }\n            break;\n          case 'ArrowUp':\n            e.preventDefault();\n            {\n              const prevIndex = (currentIndex - 1 + options.length) % options.length;\n              options[prevIndex].focus();\n            }\n            break;\n          case 'Enter':\n          case ' ':\n            e.preventDefault();\n            if (document.activeElement.classList.contains('vg-filter-mode-option')) {\n              document.activeElement.click();\n            }\n            break;\n          case 'Escape':\n            modeDropdown.classList.remove('open');\n            modeBtn.focus();\n            break;\n        }\n      });\n\n  // Handle mode selection and re-render toolbar accordingly\n      modeDropdown.addEventListener('click', (e) => {\n        const option = e.target.closest('.vg-filter-mode-option');\n        if (!option) return;\n        e.stopPropagation();\n        const newMode = option.dataset.mode;\n        // Selection animation\n        option.style.transform = 'scale(0.95)';\n        setTimeout(() => { option.style.transform = ''; }, 150);\n        this.state.filterMode = newMode;\n        this.state.regexMode = newMode === 'regex';\n        modeDropdown.classList.remove('open');\n        this._renderToolbar();\n        this._applyFilter();\n        // Focus back to input\n        setTimeout(() => {\n          const input = this.toolbarEl.querySelector('.vg-filter-input');\n          if (input) input.focus();\n        }, 100);\n      });\n\n      // Make options focusable for keyboard navigation\n      modeDropdown.querySelectorAll('.vg-filter-mode-option').forEach(option => {\n        option.setAttribute('tabindex', '0');\n      });\n    }\n\n    _styleControlsEnabled() {\n      const cfg = this.opts.styleControls;\n      if (cfg === false) return false;\n      if (cfg && typeof cfg.enabled === 'boolean') return cfg.enabled;\n      return true;\n    }\n\n    _normalizeThemeValue(theme) {\n      if (theme == null) return null;\n      const value = String(theme).trim().toLowerCase();\n      if (!value) return null;\n      return value === 'dark' ? 'dark-blue' : value;\n    }\n\n    _humanizeTheme(value) {\n      const normal = this._normalizeThemeValue(value) || '';\n      return normal.split(/[-_]/).filter(Boolean).map(part => part.charAt(0).toUpperCase() + part.slice(1)).join(' ') || 'Light';\n    }\n\n    _getThemeDefs() {\n      const cfg = this.opts.styleControls;\n      const custom = cfg && Array.isArray(cfg.themes) ? cfg.themes : null;\n      const source = (custom && custom.length ? custom : VG_STYLE_THEMES).map(def => ({\n        value: this._normalizeThemeValue(def && def.value != null ? def.value : def),\n        label: def && typeof def === 'object' && def.label ? String(def.label) : null,\n        dark: !!(def && typeof def === 'object' && def.dark)\n      }));\n      const seen = new Set();\n      const defs = [];\n      for (const def of source) {\n        if (!def.value || seen.has(def.value)) continue;\n        defs.push({\n          value: def.value,\n          label: def.label || this._humanizeTheme(def.value),\n          dark: def.dark\n        });\n        seen.add(def.value);\n      }\n      if (!seen.has('light')) {\n        defs.unshift({ value: 'light', label: 'Light', dark: false });\n      }\n      return defs;\n    }\n\n    _stylePersistKey() {\n      const cfg = this.opts.styleControls;\n      if (!cfg || cfg.persistKey === false) return null;\n      const key = typeof cfg.persistKey === 'string' ? cfg.persistKey.trim() : 'vanillagrid:style';\n      if (!key) return null;\n      // Namespace by container id if available to avoid collisions across unrelated grids when requested.\n      if (cfg && cfg.scope === 'instance') {\n        const suffix = this.container && this.container.id ? this.container.id : this._instanceId || (this._instanceId = Math.random().toString(36).slice(2));\n        return `${key}:${suffix}`;\n      }\n      return key;\n    }\n\n    _loadPersistedStyleState() {\n      const key = this._stylePersistKey();\n      if (!key || typeof window === 'undefined' || !window.localStorage) return null;\n      try {\n        const raw = window.localStorage.getItem(key);\n        if (!raw) return null;\n        const parsed = JSON.parse(raw);\n        if (parsed && typeof parsed === 'object') return parsed;\n      } catch (err) {\n        console.warn('[VanillaGrid] Failed to read persisted style state', err);\n      }\n      return null;\n    }\n\n    _persistStyleState() {\n      if (!this._styleControlsEnabled()) return;\n      const key = this._stylePersistKey();\n      if (!key || typeof window === 'undefined' || !window.localStorage) return;\n      try {\n        const payload = {\n          theme: this.styleState.theme,\n          density: this.styleState.density,\n          striped: !!this.styleState.striped,\n        };\n        window.localStorage.setItem(key, JSON.stringify(payload));\n      } catch (err) {\n        console.warn('[VanillaGrid] Failed to persist style state', err);\n      }\n    }\n\n    _extractThemeFromClassName() {\n      if (!this.root || !this.root.className) return null;\n      const match = String(this.root.className).match(/vg-theme-([a-z0-9-]+)/i);\n      return match ? this._normalizeThemeValue(match[1]) : null;\n    }\n\n    _initStyleState() {\n      const persisted = this._styleControlsEnabled() ? this._loadPersistedStyleState() : null;\n      const classTheme = this._extractThemeFromClassName();\n      const initialTheme = this._normalizeThemeValue((persisted && persisted.theme) || this.opts.theme || classTheme || VG_STYLE_DEFAULT_STATE.theme);\n      const densityOpt = (persisted && persisted.density) || this.opts.density || (this.root.classList.contains('vg-compact') ? 'compact' : VG_STYLE_DEFAULT_STATE.density);\n      const density = densityOpt === 'compact' ? 'compact' : 'comfortable';\n      const striped = (persisted && typeof persisted.striped === 'boolean') ? persisted.striped : (this.opts.striped || this.root.classList.contains('vg-striped'));\n\n      this.styleState = {\n        theme: initialTheme || 'light',\n        density,\n        striped: !!striped,\n      };\n\n      this._applyStyleState();\n      if (this._styleControlsEnabled()) {\n        this._persistStyleState();\n      }\n    }\n\n    _applyStyleState() {\n      if (!this.root) return;\n      const themeDefs = this._getThemeDefs();\n      const themeClassNames = themeDefs.map(def => `vg-theme-${def.value}`);\n      themeClassNames.push('vg-theme-light', 'vg-theme-dark', 'vg-theme-dark-base');\n      themeClassNames.forEach(cls => this.root.classList.remove(cls));\n\n      const themeValue = this.styleState.theme || 'light';\n      const matchedTheme = themeDefs.find(def => def.value === themeValue) || themeDefs.find(def => def.value === 'light');\n      const appliedTheme = matchedTheme ? matchedTheme.value : 'light';\n\n      if (appliedTheme === 'light') {\n        this.root.classList.add('vg-theme-light');\n      } else {\n        this.root.classList.add(`vg-theme-${appliedTheme}`);\n        if (matchedTheme && matchedTheme.dark) {\n          this.root.classList.add('vg-theme-dark-base');\n        }\n      }\n\n      this.root.classList.toggle('vg-compact', this.styleState.density === 'compact');\n      this.root.classList.toggle('vg-striped', !!this.styleState.striped);\n\n      this.opts.theme = appliedTheme;\n      this.opts.density = this.styleState.density;\n      this.opts.striped = !!this.styleState.striped;\n\n      this._syncStyleControlsUI();\n    }\n\n    _updateStyleState(partial) {\n      const next = Object.assign({}, this.styleState || VG_STYLE_DEFAULT_STATE, partial);\n      next.theme = this._normalizeThemeValue(next.theme) || 'light';\n      next.density = next.density === 'compact' ? 'compact' : 'comfortable';\n      next.striped = !!next.striped;\n      this.styleState = next;\n      this._applyStyleState();\n      if (this._styleControlsEnabled()) this._persistStyleState();\n    }\n\n    _styleControlsMarkup() {\n      if (!this._styleControlsEnabled()) return '';\n      const themes = this._getThemeDefs();\n      const currentTheme = this.styleState?.theme || 'light';\n      const themeOptions = themes.map(def =>\n        `<option value=\"${this._escAttr(def.value)}\"${def.value === currentTheme ? ' selected' : ''}>${this._esc(def.label)}</option>`\n      ).join('');\n      const density = this.styleState?.density === 'compact' ? 'compact' : 'comfortable';\n      const striped = !!this.styleState?.striped;\n      const persistKey = this._stylePersistKey();\n\n      return `<div class=\"vg-settings\">\n        <button class=\"vg-btn vg-settings-btn\" type=\"button\" aria-haspopup=\"true\" aria-expanded=\"false\">⚙ Settings</button>\n        <div class=\"vg-settings-panel\" role=\"menu\">\n          <div class=\"vg-settings-group\">\n            <label>Theme</label>\n            <select class=\"vg-settings-theme\">\n              ${themeOptions}\n            </select>\n          </div>\n          <div class=\"vg-settings-group\">\n            <label>Density</label>\n            <select class=\"vg-settings-density\">\n              <option value=\"comfortable\"${density === 'comfortable' ? ' selected' : ''}>Comfortable</option>\n              <option value=\"compact\"${density === 'compact' ? ' selected' : ''}>Compact</option>\n            </select>\n          </div>\n          <div class=\"vg-settings-group\">\n            <label class=\"vg-settings-checkbox\">\n              <input type=\"checkbox\" class=\"vg-settings-striped\"${striped ? ' checked' : ''} />\n              <span>Striped rows</span>\n            </label>\n          </div>\n          ${persistKey ? '<div class=\"vg-settings-divider\"></div><div class=\"vg-settings-meta\">Saved for this browser.</div>' : ''}\n        </div>\n      </div>`;\n    }\n\n    _bindStyleControls(container) {\n      if (!this._styleControlsEnabled() || !container) return;\n      const wrappers = container.querySelectorAll('.vg-settings');\n      if (!wrappers.length) return;\n\n      wrappers.forEach(wrapper => {\n        const btn = wrapper.querySelector('.vg-settings-btn');\n        const panel = wrapper.querySelector('.vg-settings-panel');\n        if (!btn || !panel) return;\n\n        const closeCurrent = () => {\n          panel.classList.remove('open');\n          btn.setAttribute('aria-expanded', 'false');\n          if (!this.root.querySelector('.vg-settings-panel.open')) {\n            this._detachSettingsDocHandler();\n          }\n        };\n\n        btn.onclick = (event) => {\n          event.preventDefault();\n          event.stopPropagation();\n          const isOpen = panel.classList.contains('open');\n          if (isOpen) {\n            closeCurrent();\n          } else {\n            this._closeAllSettingsPanels(wrapper);\n            panel.classList.add('open');\n            btn.setAttribute('aria-expanded', 'true');\n            this._ensureSettingsDocHandler();\n          }\n        };\n\n        panel.onclick = (event) => event.stopPropagation();\n        panel.onkeydown = (event) => {\n          if (event.key === 'Escape') {\n            closeCurrent();\n            btn.focus();\n          }\n        };\n\n        const themeSelect = panel.querySelector('.vg-settings-theme');\n        if (themeSelect) {\n          themeSelect.onchange = (event) => {\n            this._updateStyleState({ theme: this._normalizeThemeValue(event.target.value) || 'light' });\n          };\n        }\n\n        const densitySelect = panel.querySelector('.vg-settings-density');\n        if (densitySelect) {\n          densitySelect.onchange = (event) => {\n            this._updateStyleState({ density: event.target.value === 'compact' ? 'compact' : 'comfortable' });\n          };\n        }\n\n        const stripedToggle = panel.querySelector('.vg-settings-striped');\n        if (stripedToggle) {\n          stripedToggle.onchange = (event) => {\n            this._updateStyleState({ striped: !!event.target.checked });\n          };\n        }\n      });\n\n      this._syncStyleControlsUI();\n    }\n\n    _closeAllSettingsPanels(except) {\n      const wrappers = this.root ? this.root.querySelectorAll('.vg-settings') : [];\n      wrappers.forEach(wrapper => {\n        if (except && wrapper === except) return;\n        const btn = wrapper.querySelector('.vg-settings-btn');\n        const panel = wrapper.querySelector('.vg-settings-panel');\n        if (panel) panel.classList.remove('open');\n        if (btn) btn.setAttribute('aria-expanded', 'false');\n      });\n      if (!this.root || !this.root.querySelector('.vg-settings-panel.open')) {\n        this._detachSettingsDocHandler();\n      }\n    }\n\n    _ensureSettingsDocHandler() {\n      if (this._onDocClickSettings) return;\n      this._onDocClickSettings = (event) => {\n        if (!this.root) return;\n        if (!this.root.contains(event.target) || !event.target.closest('.vg-settings')) {\n          this._closeAllSettingsPanels();\n        }\n      };\n      document.addEventListener('click', this._onDocClickSettings);\n    }\n\n    _detachSettingsDocHandler() {\n      if (!this._onDocClickSettings) return;\n      document.removeEventListener('click', this._onDocClickSettings);\n      this._onDocClickSettings = null;\n    }\n\n    _syncStyleControlsUI() {\n      if (!this._styleControlsEnabled() || !this.root || !this.styleState) return;\n      const wrappers = this.root.querySelectorAll('.vg-settings');\n      wrappers.forEach(wrapper => {\n        const themeSelect = wrapper.querySelector('.vg-settings-theme');\n        if (themeSelect && themeSelect.value !== (this.styleState.theme || 'light')) {\n          const targetValue = this.styleState.theme || 'light';\n          if (Array.from(themeSelect.options).some(opt => opt.value === targetValue)) {\n            themeSelect.value = targetValue;\n          }\n        }\n        const densitySelect = wrapper.querySelector('.vg-settings-density');\n        if (densitySelect) densitySelect.value = this.styleState.density === 'compact' ? 'compact' : 'comfortable';\n        const stripedToggle = wrapper.querySelector('.vg-settings-striped');\n        if (stripedToggle) stripedToggle.checked = !!this.styleState.striped;\n      });\n    }\n\n    _applyFilter() {\n      const input = this.toolbarEl.querySelector('.vg-filter-input');\n      if (!input) return;\n      \n      const filterText = input.value;\n      const mode = this.state.filterMode;\n      \n      if (mode === 'regex') {\n        this.setFilter(filterText, { regexMode: true });\n      } else if (mode === 'tree') {\n        // Tree filter uses different logic\n        this.state.filter = filterText;\n        this.state.page = 1;\n        this._renderBody();\n        this._renderPager();\n      } else {\n        // simple or case-sensitive\n        this.setFilter(filterText, { regexMode: false, caseSensitive: mode === 'case-sensitive' });\n      }\n    }\n\n  /**\n   * Render the Tree/Filter panel. Shows columns where values have repetitions\n   * (unique-only columns are hidden), and for each column lists top values by\n   * frequency. Clicking a value writes `column:\"value\"` into the search box.\n   */\n  _renderTreeFilter() {\n      if (this.state.filterMode !== 'tree') return '';\n      \n  // Build value frequency map per column\n  const columnStats = this._getColumnValueStats();\n      const tree = Object.entries(columnStats)\n        .filter(([colKey, values]) => {\n          // Hide columns where all values are unique (count = 1 for all values)\n          const valueCounts = Object.values(values);\n          const hasNonUniqueValues = valueCounts.some(count => count > 1);\n          return hasNonUniqueValues;\n        })\n        .map(([colKey, values]) => {\n          const col = this.columns.find(c => c.key === colKey);\n          const label = col ? (col.label || col.key) : colKey;\n          const isExpanded = this.state.treeFilterExpanded.has(colKey);\n          \n          const valueItems = Object.entries(values)\n            .filter(([, count]) => count > 1) // show values with repetitions only\n            .sort(([,a], [,b]) => b - a) // sort by frequency descending\n            .slice(0, 10) // top N values (tunable)\n            .map(([value, count]) => \n              `<div class=\"vg-tree-filter-value\" data-column=\"${colKey}\" data-value=\"${this._escAttr(value)}\">\n                <span class=\"vg-tree-filter-value-text\">${this._esc(String(value))}</span>\n                <span class=\"vg-tree-filter-value-count\">${count}</span>\n              </div>`\n            ).join('');\n          \n          return `<div class=\"vg-tree-filter-column ${isExpanded ? 'expanded' : ''}\">\n            <div class=\"vg-tree-filter-column-name\" data-column=\"${colKey}\">\n              ${this._esc(label)}\n            </div>\n            <div class=\"vg-tree-filter-values\">${valueItems}</div>\n          </div>`;\n        }).join('');\n      \n      return `<div class=\"vg-tree-filter-panel show\">\n        <div class=\"vg-tree-filter-header\">Explore Data by Column Values</div>\n        ${tree}\n      </div>`;\n    }\n\n  /**\n   * Compute value counts for each configured column across the current dataset.\n   * Empty/undefined values are grouped under the literal \"(empty)\" key.\n   * @returns {Record<string, Record<string, number>>}\n   */\n  _getColumnValueStats() {\n      const stats = {};\n      \n      this.columns.forEach(col => {\n        stats[col.key] = {};\n      });\n      \n      this.data.forEach(row => {\n        this.columns.forEach(col => {\n          const value = row[col.key];\n          const key = String(value || '(empty)');\n          if (!stats[col.key][key]) stats[col.key][key] = 0;\n          stats[col.key][key]++;\n        });\n      });\n      \n      return stats;\n    }\n\n    /**\n     * Bind delegated click handlers for the Tree/Filter UI.\n     * Ensures only one listener is attached per toolbar render.\n     */\n    _bindTreeFilterEvents() {\n      if (!this.toolbarEl) return;\n      // Avoid stacking multiple listeners across re-renders\n      if (this._onToolbarTreeClick) {\n        this.toolbarEl.removeEventListener('click', this._onToolbarTreeClick);\n      }\n      this._onToolbarTreeClick = (e) => {\n        // Column expand/collapse\n        const colHeader = e.target.closest('.vg-tree-filter-column-name');\n        if (colHeader) {\n          const column = colHeader.dataset.column;\n          const columnDiv = colHeader.closest('.vg-tree-filter-column');\n          if (this.state.treeFilterExpanded.has(column)) {\n            this.state.treeFilterExpanded.delete(column);\n            if (columnDiv) columnDiv.classList.remove('expanded');\n          } else {\n            this.state.treeFilterExpanded.add(column);\n            if (columnDiv) columnDiv.classList.add('expanded');\n          }\n          return;\n        }\n        // Value click\n        const valueEl = e.target.closest('.vg-tree-filter-value');\n        if (valueEl) {\n          const column = valueEl.dataset.column;\n          const value = valueEl.dataset.value;\n          const input = this.toolbarEl.querySelector('.vg-filter-input');\n          if (input) {\n            input.value = `${column}:\"${value}\"`;\n            this._applyFilter();\n            // Close tree filter panel but keep tree mode active\n            const treePanel = this.toolbarEl.querySelector('.vg-tree-filter-panel');\n            if (treePanel) treePanel.classList.remove('show');\n            // Focus back to input for immediate editing\n            setTimeout(() => {\n              input.focus();\n              input.setSelectionRange(input.value.length, input.value.length);\n            }, 100);\n          }\n        }\n      };\n      this.toolbarEl.addEventListener('click', this._onToolbarTreeClick);\n    }\n\n    _columnsMenuConfig() {\n      if (this.opts.columnsMenu === false) return null;\n      const defaults = {\n        location: 'pager', // 'pager' | 'toolbar'\n        label: 'Columns',\n        showSearch: false,\n        showSelectAll: true,\n        include: null,\n        exclude: null,\n        persistKey: null,\n        initialHidden: null,\n      };\n      const cfg = (this.opts.columnsMenu === true) ? {} : (this.opts.columnsMenu || {});\n      return Object.assign({}, defaults, cfg);\n    }\n\n    _columnsMenuMarkup(cfg) {\n      const label = cfg.label || 'Columns';\n      const includeSet = cfg.include ? new Set(cfg.include) : null;\n      const excludeSet = cfg.exclude ? new Set(cfg.exclude) : null;\n      const cols = this.columns.filter(c => {\n        if (includeSet && !includeSet.has(c.key)) return false;\n        if (excludeSet && excludeSet.has(c.key)) return false;\n        return true;\n      });\n      const items = cols.map(c => {\n        const hidden = this.state.hiddenCols.has(c.key);\n        return `<label style=\"display:flex;gap:6px;align-items:center;padding:4px 2px;\">\n          <input type=\"checkbox\" data-col-toggle value=\"${this._escAttr(c.key)}\" ${hidden ? '' : 'checked'} />\n          <span>${this._esc(c.label ?? c.key)}</span>\n        </label>`;\n      }).join('');\n      const search = cfg.showSearch ? `<input type=\"text\" class=\"vg-cols-search\" placeholder=\"Search columns\" style=\"width:100%;padding:6px 8px;border:1px solid var(--vg-border);border-radius:6px;\" />` : '';\n      const selectAll = cfg.showSelectAll ? `<label style=\"display:flex;gap:6px;align-items:center;padding:4px 2px;\">\n        <input type=\"checkbox\" class=\"vg-cols-selectall\" ${this._allVisible(cols) ? 'checked' : ''} />\n        <span>Select all</span>\n      </label>` : '';\n      return `\n        <details class=\"vg-cols\">\n          <summary class=\"vg-btn\" aria-haspopup=\"true\">${this._esc(label)}</summary>\n          <div class=\"vg-cols-list\" role=\"menu\">\n            ${search}\n            ${selectAll}\n            <div class=\"vg-cols-items\">${items}</div>\n          </div>\n        </details>`;\n    }\n\n    _allVisible(cols) {\n      return cols.every(c => !this.state.hiddenCols.has(c.key));\n    }\n\n    _bindColumnsMenuEvents(scopeEl) {\n      const list = scopeEl.querySelector('.vg-cols-list');\n      if (!list) return;\n      const itemsWrap = list.querySelector('.vg-cols-items') || list;\n      const toggles = itemsWrap.querySelectorAll('input[data-col-toggle]');\n      toggles.forEach(chk => {\n        chk.onchange = () => {\n          const key = chk.value;\n          if (chk.checked) this.state.hiddenCols.delete(key);\n          else this.state.hiddenCols.add(key);\n          this._applyColumnVisibility();\n          if (typeof this.opts.onColumnsVisibilityChange === 'function') {\n            this.opts.onColumnsVisibilityChange(new Set(this.state.hiddenCols));\n          }\n          this._persistColumnsMenuState();\n        };\n      });\n      const selAll = list.querySelector('.vg-cols-selectall');\n      if (selAll) {\n        selAll.onchange = () => {\n          const check = selAll.checked;\n          (this.columns || []).forEach(c => {\n            if (check) this.state.hiddenCols.delete(c.key);\n            else this.state.hiddenCols.add(c.key);\n          });\n          this._applyColumnVisibility();\n          if (typeof this.opts.onColumnsVisibilityChange === 'function') {\n            this.opts.onColumnsVisibilityChange(new Set(this.state.hiddenCols));\n          }\n          this._persistColumnsMenuState();\n          // reflect in checkboxes\n          itemsWrap.querySelectorAll('input[data-col-toggle]').forEach(cb => { cb.checked = check; });\n        };\n      }\n      const search = list.querySelector('.vg-cols-search');\n      if (search) {\n        search.oninput = () => {\n          const q = search.value.toLowerCase();\n          itemsWrap.querySelectorAll('label').forEach(lab => {\n            const txt = lab.textContent.toLowerCase();\n            lab.style.display = txt.includes(q) ? '' : 'none';\n          });\n        };\n      }\n    }\n\n    _persistColumnsMenuState() {\n      const cfg = this._columnsMenuConfig();\n      if (cfg && cfg.persistKey) {\n        try {\n          const arr = Array.from(this.state.hiddenCols);\n          localStorage.setItem(`vg:hiddenCols:${cfg.persistKey}`, JSON.stringify(arr));\n        } catch {}\n      }\n    }\n\n    _restoreColumnsMenuState() {\n      const cfg = this._columnsMenuConfig();\n      if (!cfg) return;\n      if (cfg.persistKey) {\n        try {\n          const raw = localStorage.getItem(`vg:hiddenCols:${cfg.persistKey}`);\n          if (raw) {\n            const arr = JSON.parse(raw);\n            this.state.hiddenCols = new Set(Array.isArray(arr) ? arr : []);\n            return;\n          }\n        } catch {}\n      }\n      if (Array.isArray(cfg.initialHidden)) {\n        this.state.hiddenCols = new Set(cfg.initialHidden);\n      }\n    }\n\n    _renderHeader() {\n      const { sortKey, sortDir } = this.state;\n      const head = document.createElement('tr');\n      // Selection header cell\n      if (this.opts.selectable) {\n        const thSel = document.createElement('th');\n        thSel.className = 'vg-th';\n        const cb = document.createElement('input');\n        cb.type = 'checkbox';\n        cb.className = 'vg-select-all';\n        // Set state from current page\n        const pageIds = this._currentPageRowIds();\n        const selectedOnPage = pageIds.filter(id => this.state.selected.has(id));\n        cb.checked = pageIds.length > 0 && selectedOnPage.length === pageIds.length;\n        cb.indeterminate = selectedOnPage.length > 0 && selectedOnPage.length < pageIds.length;\n        cb.onchange = () => {\n          const ids = this._currentPageRowIds();\n          if (cb.checked) ids.forEach(id => this.state.selected.add(id));\n          else ids.forEach(id => this.state.selected.delete(id));\n          this._renderBody();\n          this._renderHeader();\n          this._emitSelection();\n        };\n        thSel.appendChild(cb);\n        head.appendChild(thSel);\n      }\n      this.columns.forEach((col, idx) => {\n        const th = document.createElement('th');\n        th.setAttribute('role', 'columnheader');\n        th.tabIndex = 0;\n        th.dataset.key = col.key;\n        th.className = 'vg-th';\n        \n        // Apply custom width if set\n        if (this.state.columnWidths.has(col.key)) {\n          th.style.width = this.state.columnWidths.get(col.key) + 'px';\n        }\n        \n        if (this.opts.sortable && (col.sortable !== false)) {\n          th.classList.add('vg-sortable');\n          if (sortKey === col.key) th.classList.add(sortDir === 'asc' ? 'vg-asc' : 'vg-desc');\n        }\n        let label = this._esc(col.label ?? col.key);\n        if (this.opts.tree.enabled && idx === 0) {\n          label = `<span class=\"vg-tree-th-pad\"></span>${label}`;\n        }\n        th.innerHTML = `<span class=\"vg-th-text\">${label}</span>`;\n        \n        // Add resize handle for resizable columns\n        if (this.opts.resizableColumns && idx < this.columns.length - 1) {\n          const resizeHandle = document.createElement('div');\n          resizeHandle.className = 'vg-resize-handle';\n          resizeHandle.dataset.columnKey = col.key;\n          th.appendChild(resizeHandle);\n        }\n        \n        if (this.opts.sortable && (col.sortable !== false)) {\n          th.setAttribute('aria-sort', (sortKey === col.key) ? (sortDir === 'asc' ? 'ascending' : 'descending') : 'none');\n        }\n        head.appendChild(th);\n      });\n      this.theadEl.innerHTML = '';\n      this.theadEl.appendChild(head);\n\n      // Header sort events\n      this.theadEl.querySelectorAll('.vg-th.vg-sortable').forEach(th => {\n        th.onclick = (e) => {\n          // Don't sort if clicking on resize handle\n          if (e.target.closest('.vg-resize-handle')) return;\n          \n          const key = th.dataset.key;\n          if (this.state.sortKey === key) {\n            this.state.sortDir = this.state.sortDir === 'asc' ? 'desc' : 'asc';\n          } else {\n            this.state.sortKey = key;\n            this.state.sortDir = 'asc';\n          }\n          this._renderHeader();\n          if (this._shouldRemoteFetch('sort')) this._remoteLoad(1);\n          else this._renderBody();\n        };\n        th.onkeydown = (e) => {\n          if (e.key === 'Enter' || e.key === ' ') { e.preventDefault(); th.click(); }\n        };\n      });\n      \n      // Column resize events\n      if (this.opts.resizableColumns) {\n        this._bindColumnResize();\n      }\n    }\n\n    _bindTableEvents() {\n      // Button clicks via delegation\n      this.tableEl.addEventListener('click', (e) => {\n        const btn = e.target.closest('.vg-btn');\n        if (btn) {\n          const id = btn.dataset.rowid;\n          const colKey = btn.dataset.colkey;\n          const row = this.rowById.get(Number(id));\n          const col = this.columns.find(c => c.key === colKey);\n          if (row && col && col.button && typeof col.button.onClick === 'function') {\n            col.button.onClick(row, btn);\n          }\n        }\n\n        // Toggle group collapse\n        const grp = e.target.closest('.vg-group-header');\n        if (grp) {\n          const gval = grp.dataset.groupValue;\n          if (this.state.collapsed.has(gval)) this.state.collapsed.delete(gval);\n          else this.state.collapsed.add(gval);\n          // just toggle the next sibling rows with data-group\n          const rows = this.tbodyEl.querySelectorAll(`tr[data-group=\"${CSS.escape(gval)}\"]`);\n          const collapsed = this.state.collapsed.has(gval);\n          rows.forEach(r => r.style.display = collapsed ? 'none' : '');\n          grp.classList.toggle('is-collapsed', collapsed);\n          grp.setAttribute('aria-expanded', collapsed ? 'false' : 'true');\n        }\n\n        // Tree expand/collapse\n        const tog = e.target.closest('.vg-tree-toggle');\n        if (tog) {\n          const id = Number(tog.dataset.rowid);\n          const row = this.rowById.get(id);\n          if (!row) return;\n          const isExpanded = this.state.expanded.has(id);\n          if (isExpanded) {\n            this.state.expanded.delete(id);\n            this._renderBody();\n          } else {\n            const needLazy = this.opts.tree.enabled && this.opts.tree.lazy && !this._rowHasChildren(row) && this._rowPotentialChildren(row) && (typeof this.opts.loadChildren === 'function');\n            if (needLazy) {\n              this.state.loadingChildren.add(id);\n              this._renderBody();\n              Promise.resolve()\n                .then(() => this.opts.loadChildren(row))\n                .then(children => {\n                  const key = this.opts.tree.childrenKey;\n                  row[key] = Array.isArray(children) ? children : [];\n                  this._assignIdsDeep(row[key]);\n                  this._indexRowsDeep(row[key]);\n                })\n                .finally(() => {\n                  this.state.loadingChildren.delete(id);\n                  this.state.expanded.add(id);\n                  this._renderBody();\n                });\n            } else {\n              this.state.expanded.add(id);\n              this._renderBody();\n            }\n          }\n        }\n      });\n    }\n\n    // Column resize functionality\n    _bindColumnResize() {\n      this.theadEl.querySelectorAll('.vg-resize-handle').forEach(handle => {\n        handle.addEventListener('mousedown', (e) => {\n          e.preventDefault();\n          e.stopPropagation();\n          \n          const columnKey = handle.dataset.columnKey;\n          const th = handle.closest('th');\n          const startX = e.clientX;\n          const startWidth = th.offsetWidth;\n          \n          const onMouseMove = (e) => {\n            const newWidth = Math.max(50, startWidth + (e.clientX - startX));\n            this.state.columnWidths.set(columnKey, newWidth);\n            th.style.width = newWidth + 'px';\n          };\n          \n          const onMouseUp = () => {\n            document.removeEventListener('mousemove', onMouseMove);\n            document.removeEventListener('mouseup', onMouseUp);\n            document.body.classList.remove('vg-resizing');\n          };\n          \n          document.addEventListener('mousemove', onMouseMove);\n          document.addEventListener('mouseup', onMouseUp);\n          document.body.classList.add('vg-resizing');\n        });\n      });\n    }\n\n    // Mobile touch enhancements\n    _bindMobileTouch() {\n      if (!('ontouchstart' in window)) return; // Not a touch device\n      \n      let touchState = {\n        startX: 0,\n        startY: 0,\n        threshold: 50,\n        scrolling: false,\n        swiping: false\n      };\n      \n      // Horizontal swipe on table wrapper for pagination\n      const tableWrap = this.root.querySelector('.vg-table-wrap');\n      if (tableWrap) {\n        tableWrap.addEventListener('touchstart', (e) => {\n          touchState.startX = e.touches[0].clientX;\n          touchState.startY = e.touches[0].clientY;\n          touchState.scrolling = false;\n          touchState.swiping = false;\n        }, { passive: true });\n        \n        tableWrap.addEventListener('touchmove', (e) => {\n          if (touchState.swiping) return;\n          \n          const deltaX = Math.abs(e.touches[0].clientX - touchState.startX);\n          const deltaY = Math.abs(e.touches[0].clientY - touchState.startY);\n          \n          // Determine if this is vertical scrolling\n          if (deltaY > deltaX && deltaY > 10) {\n            touchState.scrolling = true;\n          }\n        }, { passive: true });\n        \n        tableWrap.addEventListener('touchend', (e) => {\n          if (touchState.scrolling || touchState.swiping) return;\n          \n          const deltaX = e.changedTouches[0].clientX - touchState.startX;\n          const deltaY = Math.abs(e.changedTouches[0].clientY - touchState.startY);\n          \n          // Only trigger swipe if horizontal movement is significant and vertical is minimal\n          if (Math.abs(deltaX) > touchState.threshold && deltaY < 30) {\n            touchState.swiping = true;\n            \n            // Swipe left = next page, swipe right = prev page\n            if (deltaX < -touchState.threshold && this.opts.pagination) {\n              this._nextPage();\n            } else if (deltaX > touchState.threshold && this.opts.pagination) {\n              this._prevPage();\n            }\n          }\n        }, { passive: true });\n      }\n      \n      // Touch feedback for interactive elements\n      this.root.addEventListener('touchstart', (e) => {\n        const btn = e.target.closest('button, .vg-btn, .vg-sortable, .vg-group-header, .vg-tree-toggle');\n        if (btn) {\n          btn.classList.add('vg-touch-active');\n        }\n      }, { passive: true });\n      \n      this.root.addEventListener('touchend', (e) => {\n        // Remove touch feedback\n        this.root.querySelectorAll('.vg-touch-active').forEach(el => {\n          el.classList.remove('vg-touch-active');\n        });\n      }, { passive: true });\n      \n      // Improved dropdown handling for mobile\n      this._bindMobileDropdowns();\n    }\n    \n    _bindMobileDropdowns() {\n      // Make dropdowns work better on mobile by improving touch handling\n      this.root.addEventListener('touchend', (e) => {\n        const option = e.target.closest('.vg-filter-mode-option, .vg-tree-filter-value');\n        if (option) {\n          // Prevent ghost clicks\n          e.preventDefault();\n          option.click();\n        }\n      });\n      \n      // Auto-close dropdowns when scrolling on mobile\n      let scrollTimer;\n      window.addEventListener('scroll', () => {\n        clearTimeout(scrollTimer);\n        scrollTimer = setTimeout(() => {\n          // Close any open dropdowns after scroll ends\n          const openDropdowns = this.root.querySelectorAll('.vg-filter-mode.open');\n          openDropdowns.forEach(dropdown => {\n            dropdown.classList.remove('open');\n          });\n        }, 150);\n      }, { passive: true });\n    }\n    \n    // Helper methods for touch pagination\n    _nextPage() {\n      if (this.state.page < this._totalPages()) {\n        this.state.page++;\n        this._renderBody();\n        this._renderPager();\n      }\n    }\n    \n    _prevPage() {\n      if (this.state.page > 1) {\n        this.state.page--;\n        this._renderBody();\n        this._renderPager();\n      }\n    }\n\n    // Keyboard navigation functionality\n    _bindKeyboardNavigation() {\n      if (!this.opts.keyboardNavigation) return;\n      \n      this.tableEl.addEventListener('keydown', (e) => {\n        const cell = e.target.closest('td, th');\n        if (!cell) return;\n        \n        const row = cell.closest('tr');\n        const cells = Array.from(row.children);\n        const rows = Array.from(this.tbodyEl.children);\n        \n        let currentCellIndex = cells.indexOf(cell);\n        let currentRowIndex = rows.indexOf(row);\n        \n        switch (e.key) {\n          case 'ArrowRight':\n            e.preventDefault();\n            if (currentCellIndex < cells.length - 1) {\n              cells[currentCellIndex + 1].focus();\n            }\n            break;\n          case 'ArrowLeft':\n            e.preventDefault();\n            if (currentCellIndex > 0) {\n              cells[currentCellIndex - 1].focus();\n            }\n            break;\n          case 'ArrowDown':\n            e.preventDefault();\n            if (currentRowIndex < rows.length - 1) {\n              const nextRowCells = Array.from(rows[currentRowIndex + 1].children);\n              if (nextRowCells[currentCellIndex]) {\n                nextRowCells[currentCellIndex].focus();\n              }\n            }\n            break;\n          case 'ArrowUp':\n            e.preventDefault();\n            if (currentRowIndex > 0) {\n              const prevRowCells = Array.from(rows[currentRowIndex - 1].children);\n              if (prevRowCells[currentCellIndex]) {\n                prevRowCells[currentCellIndex].focus();\n              }\n            }\n            break;\n          case 'Enter':\n          case 'F2':\n            if (this.opts.editableRows) {\n              e.preventDefault();\n              this._startCellEdit(cell);\n            }\n            break;\n        }\n      });\n    }\n\n    // Inline editing functionality\n    _startCellEdit(cell) {\n      const row = cell.closest('tr');\n      const rowId = Number(row.dataset.rowid);\n      const columnKey = cell.dataset.columnKey;\n      const rowData = this.rowById.get(rowId);\n      \n      if (!rowData || !columnKey) return;\n      \n      const column = this.columns.find(c => c.key === columnKey);\n      if (!column || column.type === 'button' || column.type === 'image') return;\n      \n      this.state.editingCell = { rowId, columnKey };\n      \n      const currentValue = rowData[columnKey] || '';\n      const input = document.createElement('input');\n      input.type = column.type === 'number' ? 'number' : 'text';\n      input.value = currentValue;\n      input.className = 'vg-edit-input';\n      \n      cell.innerHTML = '';\n      cell.appendChild(input);\n      input.focus();\n      input.select();\n      \n      const finishEdit = (save = false) => {\n        const newValue = save ? input.value : currentValue;\n        if (save && newValue !== currentValue) {\n          const oldValue = rowData[columnKey];\n          rowData[columnKey] = column.type === 'number' ? Number(newValue) : newValue;\n          if (this.opts.onRowEdit) {\n            this.opts.onRowEdit(rowData, columnKey, newValue, oldValue);\n          }\n        }\n        this.state.editingCell = null;\n        this._renderBody();\n      };\n      \n      input.addEventListener('blur', () => finishEdit(true));\n      input.addEventListener('keydown', (e) => {\n        if (e.key === 'Enter') {\n          e.preventDefault();\n          finishEdit(true);\n        } else if (e.key === 'Escape') {\n          e.preventDefault();\n          finishEdit(false);\n        }\n      });\n    }\n\n    // Context menu functionality\n    _bindContextMenu() {\n      if (!this.opts.contextMenu) return;\n      \n      this.tableEl.addEventListener('contextmenu', (e) => {\n        const row = e.target.closest('tr[data-rowid]');\n        if (!row) return;\n        \n        e.preventDefault();\n        const rowId = Number(row.dataset.rowid);\n        const rowData = this.rowById.get(rowId);\n        \n        this._showContextMenu(e.clientX, e.clientY, rowData);\n      });\n    }\n\n    _showContextMenu(x, y, rowData) {\n      // Remove existing context menu\n      const existing = document.querySelector('.vg-context-menu');\n      if (existing) existing.remove();\n      \n      const menu = document.createElement('div');\n      menu.className = 'vg-context-menu';\n      menu.style.position = 'fixed';\n      menu.style.left = x + 'px';\n      menu.style.top = y + 'px';\n      menu.style.zIndex = '10000';\n      \n      const menuItems = [\n        { label: 'Copy Row', action: () => this._copyRowToClipboard(rowData) },\n        { label: 'Edit Row', action: () => console.log('Edit:', rowData) },\n        { label: 'Delete Row', action: () => this._deleteRow(rowData) }\n      ];\n      \n      menuItems.forEach(item => {\n        const menuItem = document.createElement('div');\n        menuItem.className = 'vg-context-menu-item';\n        menuItem.textContent = item.label;\n        menuItem.onclick = () => {\n          item.action();\n          menu.remove();\n        };\n        menu.appendChild(menuItem);\n      });\n      \n      document.body.appendChild(menu);\n      \n      // Close menu when clicking outside\n      const closeMenu = (e) => {\n        if (!menu.contains(e.target)) {\n          menu.remove();\n          document.removeEventListener('click', closeMenu);\n        }\n      };\n      setTimeout(() => document.addEventListener('click', closeMenu), 0);\n    }\n\n    _copyRowToClipboard(rowData) {\n      const text = this.columns.map(col => rowData[col.key] || '').join('\\t');\n      navigator.clipboard?.writeText(text).catch(() => {\n        // Fallback for older browsers\n        const textarea = document.createElement('textarea');\n        textarea.value = text;\n        document.body.appendChild(textarea);\n        textarea.select();\n        document.execCommand('copy');\n        document.body.removeChild(textarea);\n      });\n    }\n\n    _deleteRow(rowData) {\n      const index = this.data.findIndex(row => row === rowData);\n      if (index > -1) {\n        this.data.splice(index, 1);\n        this._renderBody();\n        this._renderPager();\n      }\n    }\n\n    _renderBody() {\n  const result = this._process();\n      this.tbodyEl.innerHTML = '';\n\n      if (this.opts.tree.enabled) {\n        const rows = result.pageFlatRows || [];\n        if (rows.length === 0) {\n          const tr = document.createElement('tr');\n          const td = document.createElement('td');\n          td.colSpan = this._colCount();\n          td.className = 'vg-empty';\n          td.textContent = this.opts.emptyMessage;\n          tr.appendChild(td);\n          this.tbodyEl.appendChild(tr);\n          return;\n        }\n        rows.forEach(meta => {\n          this.tbodyEl.appendChild(this._renderRow(meta.row, meta.depth, meta));\n        });\n      } else if (!result.hasGroups) {\n        const rows = result.pageRows;\n        if (rows.length === 0) {\n          const tr = document.createElement('tr');\n          const td = document.createElement('td');\n          td.colSpan = this._colCount();\n          td.className = 'vg-empty';\n          td.textContent = this.opts.emptyMessage;\n          tr.appendChild(td);\n          this.tbodyEl.appendChild(tr);\n          return;\n        }\n        rows.forEach(row => {\n          this.tbodyEl.appendChild(this._renderRow(row));\n        });\n      } else {\n        const groups = result.pageGroups;\n        if (groups.length === 0) {\n          const tr = document.createElement('tr');\n          const td = document.createElement('td');\n          td.colSpan = this._colCount();\n          td.className = 'vg-empty';\n          td.textContent = this.opts.emptyMessage;\n          tr.appendChild(td);\n          this.tbodyEl.appendChild(tr);\n          return;\n        }\n        groups.forEach(g => {\n          // Group header\n          const trh = document.createElement('tr');\n          trh.className = 'vg-group';\n          const tdh = document.createElement('td');\n          tdh.colSpan = this._colCount();\n          const collapsed = this.state.collapsed.has(g.value);\n          tdh.innerHTML = `\n            <button class=\"vg-group-header ${collapsed ? 'is-collapsed':''}\" data-group-value=\"${this._escAttr(g.value)}\" title=\"${this._escAttr(this.opts.i18n.aria.toggleGroup)}\" aria-expanded=\"${collapsed ? 'false' : 'true'}\">\n              <span class=\"vg-caret\" aria-hidden=\"true\"></span>\n              <span class=\"vg-group-title\">${this._esc(this._headerLabelForGroup(g))}</span>\n            </button>\n            ${this._renderAggSummary(g)}\n          `;\n          trh.appendChild(tdh);\n          this.tbodyEl.appendChild(trh);\n          g.rows.forEach(row => {\n            const tr = this._renderRow(row);\n            tr.dataset.group = g.value;\n            if (collapsed) tr.style.display = 'none';\n            this.tbodyEl.appendChild(tr);\n          });\n        });\n      }\n\n      // After body render, update header select-all state and apply column visibility\n      this._updateHeaderSelectionToggle();\n      this._applyColumnVisibility();\n    }\n\n    // -------- Internal: Markdown helpers --------\n    _parseMarkdownTables(md) {\n      const lines = md.split(/\\r?\\n/);\n      const tables = [];\n      let i = 0;\n      const isSep = (s) => /^\\s*\\|?\\s*:?-{3,}:?\\s*(\\|\\s*:?-{3,}:?\\s*)+\\|?\\s*$/.test(s);\n      const splitRow = (s) => {\n        // Split by pipe, ignoring escaped \\| and trim\n        const cells = [];\n        let cur = '';\n        let esc = false;\n        // strip leading/trailing pipe\n        s = s.replace(/^\\s*\\|?\\s*/, '').replace(/\\s*\\|?\\s*$/, '');\n        for (let ch of s) {\n          if (esc) { cur += ch; esc = false; continue; }\n          if (ch === '\\\\') { esc = true; continue; }\n          if (ch === '|') { cells.push(cur.trim()); cur = ''; continue; }\n          cur += ch;\n        }\n        cells.push(cur.trim());\n        return cells;\n      };\n\n      while (i < lines.length) {\n        // Find header row\n        while (i < lines.length && !/\\|/.test(lines[i])) i++;\n        if (i >= lines.length) break;\n        const headerLine = lines[i++];\n        if (i >= lines.length) break;\n        const sepLine = lines[i];\n        if (!isSep(sepLine)) continue;\n        i++; // consume sep\n        const headers = splitRow(headerLine);\n        const rows = [];\n        while (i < lines.length && /\\|/.test(lines[i]) && !/^\\s*$/.test(lines[i])) {\n          const row = splitRow(lines[i]);\n          if (row.length >= 1) rows.push(row);\n          i++;\n        }\n        // Normalize row lengths\n        const width = headers.length;\n        const normRows = rows.map(r => {\n          const a = r.slice(0, width);\n          while (a.length < width) a.push('');\n          return a;\n        });\n        tables.push({ headers, rows: normRows });\n      }\n      return tables;\n    }\n\n    _mdInlineToHtml(src) {\n      // safe-escape first\n      let s = String(src ?? '');\n      s = s.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;');\n      // images ![alt](url)\n      s = s.replace(/!\\[([^\\]]*)\\]\\(([^\\)\\s]+)(?:\\s+\"([^\"]+)\")?\\)/g, (m, alt, url) =>\n        `<img src=\"${this._escAttr(url)}\" alt=\"${this._escAttr(alt)}\" loading=\"lazy\" class=\"vg-img\" />`);\n      // links [text](url)\n      s = s.replace(/\\[([^\\]]+)\\]\\(([^\\)\\s]+)(?:\\s+\"([^\"]+)\")?\\)/g, (m, text, url) =>\n        `<a href=\"${this._escAttr(url)}\" target=\"_blank\" rel=\"noopener noreferrer\" class=\"vg-link\">${text}</a>`);\n      // bold/italic/code\n      s = s.replace(/\\*\\*([^*]+)\\*\\*/g, '<b>$1</b>')\n           .replace(/\\*([^*]+)\\*/g, '<i>$1</i>')\n           .replace(/`([^`]+)`/g, '<code>$1</code>');\n      return s;\n    }\n\n    _slugify(s) {\n      return String(s).toLowerCase().trim().replace(/[^a-z0-9]+/g, '_').replace(/^_+|_+$/g, '') || 'col';\n    }\n\n    _uniqueKeys(keys) {\n      const out = [];\n      const seen = new Map();\n      keys.forEach(k => {\n        let base = k || 'col';\n        let n = seen.get(base) || 0;\n        let cur = base;\n        if (n > 0) cur = `${base}_${n}`;\n        seen.set(base, n + 1);\n        out.push(cur);\n      });\n      return out;\n    }\n\n    // -------- Internal: Export helpers --------\n    _exportMatrix() {\n      // Determine data scope and current pipeline\n      const cols = this.columns.filter(c => !this.state.hiddenCols.has(c.key));\n      const headers = cols.map(c => String(c.label ?? c.key));\n      const scope = (this.opts.exporting && this.opts.exporting.scope) || 'page';\n\n      if (this.opts.tree.enabled) {\n        const flat = this._filterSortTreeFlatten();\n        const list = scope === 'page'\n          ? flat.slice((this.state.page - 1) * this.state.pageSize, (this.state.page - 1) * this.state.pageSize + this.state.pageSize)\n          : flat;\n        const rows = list.map(meta => cols.map(c => this._cellText(meta.row, c)));\n        return { headers, rows };\n      }\n\n      const { rows, groups, hasGroups } = this._filterSortGroup();\n      if (!hasGroups) {\n        const view = scope === 'page'\n          ? rows.slice((this.state.page - 1) * this.state.pageSize, (this.state.page - 1) * this.state.pageSize + this.state.pageSize)\n          : rows;\n        const out = view.map(r => cols.map(c => this._cellText(r, c)));\n        return { headers, rows: out };\n      } else {\n        const viewGroups = scope === 'page'\n          ? groups.slice((this.state.page - 1) * this.state.pageSize, (this.state.page - 1) * this.state.pageSize + this.state.pageSize)\n          : groups;\n        const out = [];\n        viewGroups.forEach(g => {\n          g.rows.forEach(r => out.push(cols.map(c => this._cellText(r, c))));\n        });\n        return { headers, rows: out };\n      }\n    }\n\n    _toCSV(matrix) {\n      const esc = (s) => {\n        const v = String(s ?? '');\n        if (/[\",\\n]/.test(v)) return '\"' + v.replace(/\"/g, '\"\"') + '\"';\n        return v;\n      };\n      return matrix.map(row => row.map(esc).join(',')).join('\\n');\n    }\n\n    _toMarkdown(headers, rows) {\n      const line = arr => '| ' + arr.map(s => String(s ?? '').replace(/\\n/g, ' ')).join(' | ') + ' |';\n      const sep = '| ' + headers.map(() => '---').join(' | ') + ' |';\n      return [line(headers), sep, ...rows.map(line)].join('\\n');\n    }\n\n    _downloadBlob(text, filename, mime) {\n      const blob = new Blob([text], { type: mime });\n      const url = URL.createObjectURL(blob);\n      const a = document.createElement('a');\n      a.href = url;\n      a.download = filename;\n      document.body.appendChild(a);\n      a.click();\n      setTimeout(() => { document.body.removeChild(a); URL.revokeObjectURL(url); }, 0);\n    }\n\n    _renderRow(row, depth = 0, meta = null) {\n      const tr = document.createElement('tr');\n      tr.className = 'vg-tr';\n      tr.dataset.rowid = row.__vgid;\n      if (this.opts.selectable) {\n        const tdSel = document.createElement('td');\n        tdSel.className = 'vg-td vg-td-select';\n        const cb = document.createElement('input');\n        cb.type = 'checkbox';\n        cb.className = 'vg-select-row';\n        cb.checked = this.state.selected.has(row.__vgid);\n        cb.onchange = () => {\n          if (cb.checked) this.state.selected.add(row.__vgid);\n          else this.state.selected.delete(row.__vgid);\n          this._updateHeaderSelectionToggle();\n          this._emitSelection();\n        };\n        tdSel.appendChild(cb);\n        tr.appendChild(tdSel);\n      }\n      this.columns.forEach((col, idx) => {\n        const td = document.createElement('td');\n        td.className = 'vg-td';\n        td.dataset.key = col.key;\n        td.dataset.columnKey = col.key; // For editing support\n        td.tabIndex = this.opts.keyboardNavigation ? 0 : -1; // For keyboard navigation\n        if (this.opts.tree.enabled && idx === 0) {\n          td.classList.add('vg-tree-cell');\n          const toggle = this._renderTreeToggle(row, meta);\n          if (toggle) td.appendChild(toggle);\n        }\n        this._renderCell(td, row, col);\n        tr.appendChild(td);\n      });\n      return tr;\n    }\n\n    _renderCell(td, row, col) {\n      if (typeof col.render === 'function') {\n        td.innerHTML = '';\n        const el = col.render(row[col.key], row, col);\n        if (el instanceof Node) td.appendChild(el);\n        else td.innerHTML = el ?? '';\n        return;\n      }\n\n      const type = (col.type || 'text').toLowerCase();\n      const value = row[col.key];\n      const hasToggle = !!td.querySelector && !!td.querySelector('.vg-tree-toggle');\n\n      switch (type) {\n        case 'number': {\n          const num = this._toNumber(value);\n          const content = (typeof col.format === 'function') ? col.format(num, row) : (num ?? '');\n          if (hasToggle) {\n            const span = document.createElement('span');\n            span.textContent = content;\n            td.appendChild(span);\n          } else {\n            td.textContent = content;\n          }\n          td.classList.add('vg-num');\n          break;\n        }\n        case 'html': {\n          if (hasToggle) {\n            const span = document.createElement('span');\n            span.innerHTML = value ?? '';\n            td.appendChild(span);\n          } else {\n            td.innerHTML = value ?? '';\n          }\n          break;\n        }\n        case 'image': {\n          const img = document.createElement('img');\n          img.src = String(value || '');\n          img.alt = (col.image && col.image.alt) || '';\n          if (col.image && col.image.width) img.width = col.image.width;\n          if (col.image && col.image.height) img.height = col.image.height;\n          img.loading = 'lazy';\n          img.className = 'vg-img';\n          td.appendChild(img);\n          break;\n        }\n        case 'link': {\n          const a = document.createElement('a');\n          const url = String(value || '');\n          const txt = (col.link && col.link.text) || url;\n          a.href = url;\n          a.target = (col.link && col.link.target) || '_blank';\n          a.rel = 'noopener noreferrer';\n          a.textContent = txt;\n          a.className = 'vg-link';\n          td.appendChild(a);\n          break;\n        }\n        case 'button': {\n          const btn = document.createElement('button');\n          btn.className = 'vg-btn';\n          btn.dataset.rowid = row.__vgid;\n          btn.dataset.colkey = col.key;\n          btn.type = 'button';\n          btn.textContent = (col.button && col.button.text) || 'Action';\n          td.appendChild(btn);\n          break;\n        }\n        case 'progress': {\n          const percent = Math.max(0, Math.min(100, Number(value) || 0));\n          const progressContainer = document.createElement('div');\n          progressContainer.className = 'vg-progress';\n          \n          const progressBar = document.createElement('div');\n          progressBar.className = 'vg-progress-bar';\n          progressBar.style.width = percent + '%';\n          \n          const progressText = document.createElement('span');\n          progressText.className = 'vg-progress-text';\n          progressText.textContent = percent + '%';\n          \n          progressContainer.appendChild(progressBar);\n          progressContainer.appendChild(progressText);\n          td.appendChild(progressContainer);\n          break;\n        }\n        case 'rating': {\n          const rating = Math.max(0, Math.min(5, Number(value) || 0));\n          const ratingSpan = document.createElement('span');\n          ratingSpan.className = 'vg-rating';\n          ratingSpan.title = rating + '/5';\n          ratingSpan.textContent = '★'.repeat(Math.floor(rating)) + '☆'.repeat(5 - Math.floor(rating));\n          td.appendChild(ratingSpan);\n          break;\n        }\n        case 'badge': {\n          const badgeClass = row[col.key + '_class'] || 'default';\n          const badge = document.createElement('span');\n          badge.className = `vg-badge vg-badge-${badgeClass}`;\n          badge.textContent = value || '';\n          td.appendChild(badge);\n          break;\n        }\n        case 'color': {\n          const colorDiv = document.createElement('div');\n          colorDiv.className = 'vg-color-indicator';\n          colorDiv.style.backgroundColor = value || '';\n          colorDiv.title = value || '';\n          td.appendChild(colorDiv);\n          break;\n        }\n        default: {\n          // Check for custom cell types\n          if (this.opts.customCellTypes[type]) {\n            const customHtml = this.opts.customCellTypes[type](value, col, row);\n            if (hasToggle) {\n              const span = document.createElement('span');\n              span.innerHTML = customHtml;\n              td.appendChild(span);\n            } else {\n              td.innerHTML = customHtml;\n            }\n          } else {\n            // text (safe)\n            const txt = (typeof col.format === 'function') ? col.format(value, row) : (value ?? '');\n            if (hasToggle) {\n              const span = document.createElement('span');\n              span.textContent = txt;\n              td.appendChild(span);\n            } else {\n              td.textContent = txt;\n            }\n          }\n        }\n      }\n    }\n\n    _renderTreeToggle(row, meta) {\n      const t = this.opts.tree;\n      if (!t.enabled) return null;\n      const hasKids = (meta && meta.hasChildren != null)\n        ? meta.hasChildren\n        : (this._rowHasChildren(row) || this._rowPotentialChildren(row));\n      const isLeaf = !hasKids;\n      const btn = document.createElement('button');\n      btn.type = 'button';\n      btn.className = 'vg-tree-toggle';\n      btn.dataset.rowid = row.__vgid;\n      const depth = meta?.depth || 0;\n      btn.style.marginLeft = `${(Number(t.indent) || 16) * depth}px`;\n      if (isLeaf) {\n        btn.classList.add('is-leaf');\n        btn.innerHTML = '<span class=\"vg-tree-spacer\"></span>';\n        btn.disabled = true;\n        return btn;\n      }\n      const loading = this.state.loadingChildren.has(row.__vgid);\n      const expanded = this.state.expanded.has(row.__vgid);\n  btn.classList.toggle('is-expanded', expanded);\n      btn.classList.toggle('is-loading', loading);\n  btn.setAttribute('aria-label', expanded ? this.opts.i18n.aria.collapseRow : this.opts.i18n.aria.expandRow);\n  btn.setAttribute('aria-expanded', expanded ? 'true' : 'false');\n      btn.innerHTML = loading ? '<span class=\"vg-spinner\"></span>' : '<span class=\"vg-caret\" aria-hidden=\"true\"></span>';\n      return btn;\n    }\n\n    _renderAggSummary(group) {\n      // Build a concise summary pill line: Count + per-column aggregates defined\n      const count = group.rows.length;\n  const parts = [`<span class=\"vg-chip\">${this._esc(this.opts.i18n.group.count)}: ${count}</span>`];\n\n      const numericCols = this.columns.filter(c => Array.isArray(c.aggregations) && c.aggregations.length);\n      numericCols.forEach(col => {\n        const ag = group.aggregates[col.key] || {};\n        const want = col.aggregations;\n        const bits = [];\n        if (want.includes('sum') && ag.sum != null) bits.push(`Σ ${this._fmtAgg(col, ag.sum)}`);\n        if (want.includes('min') && ag.min != null) bits.push(`min ${this._fmtAgg(col, ag.min)}`);\n        if (want.includes('max') && ag.max != null) bits.push(`max ${this._fmtAgg(col, ag.max)}`);\n        if (bits.length) {\n          parts.push(`<span class=\"vg-chip\">${this._esc(col.label ?? col.key)}: ${this._esc(bits.join(' · '))}</span>`);\n        }\n      });\n      return parts.length ? `<div class=\"vg-agg\">${parts.join('')}</div>` : '';\n    }\n\n    _fmtAgg(col, value) {\n      if (typeof col.format === 'function') {\n        try { return col.format(value); } catch { return String(value); }\n      }\n      return (typeof value === 'number') ? value : String(value);\n    }\n\n    _headerLabelForGroup(g) {\n      const col = this.columns.find(c => c.key === this.state.groupBy);\n      const label = col ? (col.label ?? col.key) : this.state.groupBy;\n      return `${label}: ${g.value}`;\n    }\n\n    _renderPager() {\n      if (!this.opts.pagination) { this.pagerEl.innerHTML = ''; return; }\n  const remote = this.opts.serverPagination;\n  const { hasGroups, totalPages, totalCount } = remote ? this._processMetaRemote() : this._processMeta();\n      const page = Math.min(this.state.page, totalPages || 1);\n\n      const prevDisabled = page <= 1 ? 'disabled' : '';\n      const nextDisabled = page >= totalPages ? 'disabled' : '';\n      const firstDisabled = prevDisabled;\n      const lastDisabled = nextDisabled;\n\n    const sizeOptions = this.opts.pageSizes.map(n =>\n      `<option value=\"${n}\" ${+this.state.pageSize === +n ? 'selected' : ''}>${n}${this._esc(this.opts.i18n.perPageSuffix)}</option>`).join('');\n\n    const colMenuCfg = this._columnsMenuConfig();\n    const columnsBlock = (colMenuCfg && colMenuCfg.location === 'pager') ? this._columnsMenuMarkup(colMenuCfg) : '';\n\n    this.pagerEl.innerHTML = `\n        <div class=\"vg-pager-row\">\n          <div class=\"vg-pager-left\">\n            <button class=\"vg-page-btn\" data-action=\"first\" ${firstDisabled} aria-label=\"${this._escAttr(this.opts.i18n.pager.first)}\" title=\"${this._escAttr(this.opts.i18n.pager.first)}\">«</button>\n            <button class=\"vg-page-btn\" data-action=\"prev\" ${prevDisabled} aria-label=\"${this._escAttr(this.opts.i18n.pager.prev)}\" title=\"${this._escAttr(this.opts.i18n.pager.prev)}\">‹</button>\n          </div>\n          <div class=\"vg-pager-center\" style=\"display:flex;gap:10px;align-items:center;flex-wrap:wrap;\">\n            <span class=\"vg-page-info\" aria-live=\"polite\">${this._esc(this.opts.i18n.pager.pageInfo(page, totalPages || 1))}</span>\n            <span class=\"vg-total\">${this._esc(hasGroups ? this.opts.i18n.pager.totalGroups(totalCount) : this.opts.i18n.pager.totalRows(totalCount))}</span>\n            <div class=\"vg-pagesize\">\n              <select class=\"vg-size-select\" aria-label=\"Page size\">${sizeOptions}</select>\n            </div>\n            ${columnsBlock}\n          </div>\n          <div class=\"vg-pager-right\">\n            <button class=\"vg-page-btn\" data-action=\"next\" ${nextDisabled} aria-label=\"${this._escAttr(this.opts.i18n.pager.next)}\" title=\"${this._escAttr(this.opts.i18n.pager.next)}\">›</button>\n            <button class=\"vg-page-btn\" data-action=\"last\" ${lastDisabled} aria-label=\"${this._escAttr(this.opts.i18n.pager.last)}\" title=\"${this._escAttr(this.opts.i18n.pager.last)}\">»</button>\n          </div>\n        </div>\n      `;\n\n      this.state.page = page; // clamp\n\n    this.pagerEl.querySelector('[data-action=\"first\"]').onclick = () => {\n        if (this.state.page !== 1) {\n          this.state.page = 1;\n      if (remote) this._remoteLoad(this.state.page);\n      else { this._renderBody(); this._renderPager(); }\n        }\n      };\n    this.pagerEl.querySelector('[data-action=\"prev\"]').onclick = () => {\n        if (this.state.page > 1) {\n          this.state.page--;\n      if (remote) this._remoteLoad(this.state.page);\n      else { this._renderBody(); this._renderPager(); }\n        }\n      };\n    this.pagerEl.querySelector('[data-action=\"next\"]').onclick = () => {\n        if (this.state.page < totalPages) {\n          this.state.page++;\n      if (remote) this._remoteLoad(this.state.page);\n      else { this._renderBody(); this._renderPager(); }\n        }\n      };\n    this.pagerEl.querySelector('[data-action=\"last\"]').onclick = () => {\n        if (this.state.page !== totalPages) {\n          this.state.page = totalPages;\n      if (remote) this._remoteLoad(this.state.page);\n      else { this._renderBody(); this._renderPager(); }\n        }\n      };\n\n      // Bind page size change\n      const selSize = this.pagerEl.querySelector('.vg-size-select');\n      if (selSize) {\n        selSize.onchange = () => this.setPageSize(+selSize.value);\n      }\n\n      // Bind column toggle events\n      this._bindColumnsMenuEvents(this.pagerEl);\n    }\n\n    // ------------- Internal: Data pipeline ----------------\n    _processMeta() {\n      if (this.opts.tree.enabled) {\n        const flat = this._filterSortTreeFlatten();\n        const totalCount = flat.length;\n        const totalPages = Math.max(1, Math.ceil(totalCount / this.state.pageSize));\n        return { hasGroups: false, totalPages, totalCount };\n      }\n      const { rows, groups, hasGroups } = this._filterSortGroup();\n      if (!this.opts.pagination) {\n        return { hasGroups, totalPages: 1, totalCount: hasGroups ? groups.length : rows.length };\n      }\n      const totalCount = hasGroups ? groups.length : rows.length;\n      const totalPages = Math.max(1, Math.ceil(totalCount / this.state.pageSize));\n      return { hasGroups, totalPages, totalCount };\n    }\n\n    _process() {\n      if (this.opts.tree.enabled) {\n        const flat = this._filterSortTreeFlatten();\n        if (!this.opts.pagination) return { hasGroups: false, pageFlatRows: flat };\n        const { page, pageSize } = this.state;\n        const start = (page - 1) * pageSize;\n        return { hasGroups: false, pageFlatRows: flat.slice(start, start + pageSize) };\n      }\n      const { rows, groups, hasGroups } = this._filterSortGroup();\n      if (!this.opts.pagination) {\n        return hasGroups\n          ? { hasGroups, pageGroups: groups }\n          : { hasGroups, pageRows: rows };\n      }\n      const { page, pageSize } = this.state;\n      if (!hasGroups) {\n        const start = (page - 1) * pageSize;\n        const pageRows = rows.slice(start, start + pageSize);\n        return { hasGroups, pageRows };\n      } else {\n        const start = (page - 1) * pageSize;\n        const pageGroups = groups.slice(start, start + pageSize);\n        return { hasGroups, pageGroups };\n      }\n    }\n\n    _filterSortTreeFlatten() {\n      const t = this.opts.tree;\n      const ck = t.childrenKey;\n      const roots = this.data.slice();\n\n      // Sort client-side if allowed\n      const { sortKey, sortDir } = this.state;\n      const col = sortKey ? this.columns.find(c => c.key === sortKey) : null;\n      const type = (col?.type || 'text').toLowerCase();\n      const doSort = this.opts.sortable && col && !this.opts.serverSorting;\n      const cmpVal = (a, b) => this._compare(a, b, type, col || {});\n      const sortNodes = (nodes) => {\n        if (!Array.isArray(nodes)) return;\n        if (doSort) {\n          const dir = sortDir === 'desc' ? -1 : 1;\n          nodes.sort((ra, rb) => dir * cmpVal(ra[sortKey], rb[sortKey]));\n        }\n        nodes.forEach(n => sortNodes(n[ck]));\n      };\n      sortNodes(roots);\n\n      // Filter\n      const f = String(this.state.filter || '');\n      let matcher = null;\n      if (f) {\n        if (this.state.regexMode) {\n          try { matcher = { type: 'regex', rx: new RegExp(f, 'i') }; this.state.regexError = ''; }\n          catch (err) { this.state.regexError = String(err?.message || 'Invalid RegExp'); }\n        } else { this.state.regexError = ''; matcher = { type: 'text', needle: f.toLowerCase() }; }\n      }\n      // Update error feedback without re-rendering toolbar to preserve focus\n      this._updateFilterError();\n      const matchesRow = (row) => {\n        if (!matcher) return true;\n        if (matcher.type === 'regex') return this.columns.some(c => matcher.rx.test(this._cellText(row, c)));\n        const needle = matcher.needle;\n        return this.columns.some(c => this._cellText(row, c).toLowerCase().includes(needle));\n      };\n\n      const visible = new Set();\n      const mark = (node, parents) => {\n        const kids = Array.isArray(node[ck]) ? node[ck] : [];\n        let ok = matchesRow(node);\n        kids.forEach(ch => { if (mark(ch, parents.concat(node))) ok = true; });\n        if (!matcher || ok) {\n          visible.add(node);\n          parents.forEach(p => visible.add(p));\n        }\n        return ok;\n      };\n      roots.forEach(r => mark(r, []));\n\n      const flat = [];\n      const trav = (nodes, depth) => {\n        if (!Array.isArray(nodes)) return;\n        nodes.forEach(n => {\n          if (!visible.has(n)) return;\n          const id = n.__vgid;\n          const hasChildren = this._rowHasChildren(n) || this._rowPotentialChildren(n);\n          const expanded = this.state.expanded.has(id) || !!matcher || this.opts.tree.initiallyExpanded;\n          flat.push({ row: n, depth, hasChildren, expanded });\n          if (expanded && Array.isArray(n[ck])) trav(n[ck], depth + 1);\n        });\n      };\n      trav(roots, 0);\n      return flat;\n    }\n\n    // Tree/id helpers and remote\n    _assignIdsDeep(list) {\n      if (!Array.isArray(list)) return;\n      const ck = this.opts.tree.childrenKey;\n      list.forEach(row => {\n        if (row.__vgid == null) row.__vgid = this._idCounter++;\n        if (Array.isArray(row[ck])) this._assignIdsDeep(row[ck]);\n      });\n    }\n    _indexRowsDeep(list) {\n      if (!Array.isArray(list)) return;\n      const ck = this.opts.tree.childrenKey;\n      list.forEach(row => {\n        this.rowById.set(row.__vgid, row);\n        if (Array.isArray(row[ck])) this._indexRowsDeep(row[ck]);\n      });\n    }\n    _rowHasChildren(row) {\n      const ck = this.opts.tree.childrenKey;\n      return Array.isArray(row?.[ck]) && row[ck].length > 0;\n    }\n    _rowPotentialChildren(row) {\n      const hk = this.opts.tree.hasChildrenKey;\n      return !!row && !!row[hk];\n    }\n    _shouldRemoteFetch(why) {\n      if (typeof this.opts.loadPage !== 'function') return false;\n      if (this.opts.serverPagination) return true;\n      if (this.opts.serverSorting && why === 'sort') return true;\n      if (this.opts.serverFiltering && why === 'filter') return true;\n      if (why === 'init') return this.opts.serverPagination || this.opts.serverSorting || this.opts.serverFiltering;\n      if (why === 'page') return this.opts.serverPagination;\n      return false;\n    }\n    _processMetaRemote() {\n      const total = this.state.serverTotalRows ?? this.data.length;\n      const totalPages = Math.max(1, Math.ceil(total / this.state.pageSize));\n      return { hasGroups: false, totalPages, totalCount: total };\n    }\n    _remoteLoad(page) {\n      if (typeof this.opts.loadPage !== 'function') { this._renderBody(); this._renderPager(); return; }\n      const params = {\n        page: page || this.state.page || 1,\n        pageSize: this.state.pageSize,\n        sortKey: this.state.sortKey,\n        sortDir: this.state.sortDir,\n        filter: this.state.filter,\n        regexMode: this.state.regexMode,\n      };\n      Promise.resolve(this.opts.loadPage(params)).then(res => {\n        const rows = Array.isArray(res?.rows) ? res.rows : [];\n        const total = Number.isFinite(res?.total) ? res.total : rows.length;\n        this._idCounter = 0;\n        this._assignIdsDeep(rows);\n        this.data = rows;\n        this.rowById = new Map();\n        this._indexRowsDeep(this.data);\n        this.state.serverTotalRows = total;\n        this.state.page = params.page;\n      }).finally(() => {\n        this._renderBody();\n        this._renderPager();\n      });\n    }\n\n    _filterSortGroup() {\n      let rows = this.data.slice();\n\n      // Filter\n      const f = String(this.state.filter || '');\n      if (f) {\n        if (this.state.filterMode === 'tree') {\n          // Tree filter with column:value syntax\n          this.state.regexError = '';\n          const match = f.match(/^(\\w+):\"(.+)\"$/);\n          if (match) {\n            const [, column, value] = match;\n            rows = rows.filter(r => String(r[column] || '') === value);\n          } else {\n            // Fallback to simple search\n            const needle = this.state.caseSensitive ? f : f.toLowerCase();\n            rows = rows.filter(r => this.columns.some(c => {\n              const text = this.state.caseSensitive ? this._cellText(r, c) : this._cellText(r, c).toLowerCase();\n              return text.includes(needle);\n            }));\n          }\n        } else if (this.state.regexMode || this.state.filterMode === 'regex') {\n          try {\n            const flags = this.state.caseSensitive || this.state.filterMode === 'case-sensitive' ? '' : 'i';\n            const rx = new RegExp(f, flags);\n            this.state.regexError = '';\n            rows = rows.filter(r => this.columns.some(c => rx.test(this._cellText(r, c))));\n          } catch (err) {\n            this.state.regexError = String(err?.message || 'Invalid RegExp');\n          }\n        } else {\n          // Simple or case-sensitive\n          this.state.regexError = '';\n          const needle = (this.state.caseSensitive || this.state.filterMode === 'case-sensitive') ? f : f.toLowerCase();\n          rows = rows.filter(r => this.columns.some(c => {\n            const text = (this.state.caseSensitive || this.state.filterMode === 'case-sensitive') ? this._cellText(r, c) : this._cellText(r, c).toLowerCase();\n            return text.includes(needle);\n          }));\n        }\n  this._updateFilterError(); // show/hide regex error state without full re-render\n      }\n\n      // Sort\n      const { sortKey, sortDir } = this.state;\n      if (sortKey) {\n        const col = this.columns.find(c => c.key === sortKey);\n        if (col) {\n          const dir = sortDir === 'desc' ? -1 : 1;\n          const type = (col.type || 'text').toLowerCase();\n          const cmp = (a, b) => this._compare(a, b, type, col);\n          rows.sort((ra, rb) => dir * cmp(ra[col.key], rb[col.key]));\n        }\n      }\n\n      // Group\n      const key = this.state.groupBy;\n      if (!key) return { hasGroups: false, rows };\n\n      const map = new Map();\n      rows.forEach(r => {\n        const k = r[key] == null ? '(null)' : String(r[key]);\n        if (!map.has(k)) map.set(k, []);\n        map.get(k).push(r);\n      });\n\n      const groupList = [];\n      for (const [gval, list] of map.entries()) {\n        groupList.push({\n          value: gval,\n          rows: list,\n          aggregates: this._computeAggregates(list),\n        });\n      }\n\n      // Keep group order stable based on first-row order\n      // (already stable because rows are sorted; we iterate map in insertion order)\n      return { hasGroups: true, groups: groupList };\n    }\n\n    _computeAggregates(rows) {\n      const out = {};\n      this.columns.forEach(col => {\n        if (!Array.isArray(col.aggregations) || col.aggregations.length === 0) return;\n        const nums = rows\n          .map(r => this._toNumber(r[col.key]))\n          .filter(v => typeof v === 'number' && !Number.isNaN(v));\n        if (!nums.length) return;\n        const agg = {};\n        if (col.aggregations.includes('sum')) agg.sum = nums.reduce((a, b) => a + b, 0);\n        if (col.aggregations.includes('min')) agg.min = Math.min(...nums);\n        if (col.aggregations.includes('max')) agg.max = Math.max(...nums);\n        out[col.key] = agg;\n      });\n      return out;\n    }\n\n    // ------------- Internal: helpers ----------------\n    _cellText(row, col) {\n      if (typeof col.render === 'function') {\n        try {\n          const el = col.render(row[col.key], row, col);\n          if (el instanceof Node) return (el.textContent || '').trim();\n          return String(el ?? '');\n        } catch { return ''; }\n      }\n      const type = (col.type || 'text').toLowerCase();\n      const val = row[col.key];\n      switch (type) {\n        case 'number': return String(this._toNumber(val) ?? '');\n        case 'html': {\n          const tmp = document.createElement('div');\n          tmp.innerHTML = String(val ?? '');\n          return (tmp.textContent || '').trim();\n        }\n        case 'image': return String(val ?? '');\n        case 'link': {\n          const url = String(val ?? '');\n          const txt = (col.link && col.link.text) || url;\n          return txt + ' ' + url;\n        }\n        case 'button': return (col.button && col.button.text) || 'Action';\n        default: return String(val ?? '');\n      }\n    }\n\n    _compare(a, b, type, col) {\n      if (typeof col.sort === 'function') {\n        try { return col.sort(a, b); } catch { /* fallthrough */ }\n      }\n      if (a == null && b == null) return 0;\n      if (a == null) return -1;\n      if (b == null) return 1;\n\n      switch (type) {\n        case 'number': {\n          const na = this._toNumber(a), nb = this._toNumber(b);\n          return (na === nb) ? 0 : (na < nb ? -1 : 1);\n        }\n        case 'html': {\n          const ta = this._stripHtml(String(a)), tb = this._stripHtml(String(b));\n          return ta.localeCompare(tb, undefined, { sensitivity: 'base', numeric: true });\n        }\n        default: {\n          const sa = String(a), sb = String(b);\n          return sa.localeCompare(sb, undefined, { sensitivity: 'base', numeric: true });\n        }\n      }\n    }\n\n    _toNumber(v) {\n      if (typeof v === 'number') return v;\n      if (typeof v === 'string') {\n        const s = v.replace(/[^\\d.+-]/g, '');\n        const n = parseFloat(s);\n        return Number.isNaN(n) ? undefined : n;\n      }\n      return undefined;\n    }\n\n    _stripHtml(s) { return s.replace(/<[^>]*>/g, ''); }\n    _esc(s) { return String(s ?? '').replace(/[&<>\"']/g, m => ({'&':'&amp;','<':'&lt;','>':'&gt;','\"':'&quot;',\"'\":'&#39;'}[m])); }\n    _escAttr(s) { return this._esc(s).replace(/\"/g, '&quot;'); }\n\n    // Lightweight toolbar update to avoid focus loss while typing\n    _updateFilterError() {\n      if (!this.opts.filterable || !this.toolbarEl) return;\n      const wrap = this.toolbarEl.querySelector('.vg-filter');\n      if (!wrap) return;\n      const existing = wrap.querySelector('.vg-error');\n      const need = this.state.regexMode && !!this.state.regexError;\n      if (need) {\n        if (!existing) {\n          const span = document.createElement('span');\n          span.className = 'vg-error';\n          span.title = this.state.regexError;\n          span.textContent = this.opts.i18n.invalidRegex;\n          wrap.appendChild(span);\n        } else {\n          existing.title = this.state.regexError;\n          existing.textContent = this.opts.i18n.invalidRegex;\n        }\n      } else if (existing) {\n        existing.remove();\n      }\n    }\n\n    // ---- Internal: selection and columns helpers ----\n    _colCount() { return this.columns.length + (this.opts.selectable ? 1 : 0); }\n    _currentPageRowIds() {\n      const ids = [];\n      if (this.opts.tree.enabled) {\n        const res = this._process();\n        (res.pageFlatRows || []).forEach(meta => ids.push(meta.row.__vgid));\n      } else {\n        const { hasGroups, pageRows, pageGroups } = this._process();\n        if (!hasGroups) (pageRows || []).forEach(r => ids.push(r.__vgid));\n        else (pageGroups || []).forEach(g => g.rows.forEach(r => ids.push(r.__vgid)));\n      }\n      return ids;\n    }\n    _updateHeaderSelectionToggle() {\n      if (!this.opts.selectable) return;\n      const cb = this.theadEl.querySelector('.vg-select-all');\n      if (!cb) return;\n      const pageIds = this._currentPageRowIds();\n      const selectedOnPage = pageIds.filter(id => this.state.selected.has(id));\n      cb.checked = pageIds.length > 0 && selectedOnPage.length === pageIds.length;\n      cb.indeterminate = selectedOnPage.length > 0 && selectedOnPage.length < pageIds.length;\n    }\n    _emitSelection() {\n      if (typeof this.opts.onSelectionChange === 'function') {\n        const rows = Array.from(this.state.selected).map(id => this.rowById.get(id)).filter(Boolean);\n        try { this.opts.onSelectionChange(rows); } catch {}\n      }\n    }\n    _applyColumnVisibility() {\n      const hidden = this.state.hiddenCols;\n      // Header\n      this.theadEl.querySelectorAll('.vg-th').forEach(th => {\n        const key = th.dataset.key;\n        if (!key) return;\n        th.style.display = hidden.has(key) ? 'none' : '';\n      });\n      // Body cells\n      this.tbodyEl.querySelectorAll('.vg-td').forEach(td => {\n        const key = td.dataset.key;\n        if (!key) return;\n        td.style.display = hidden.has(key) ? 'none' : '';\n      });\n    }\n\n    // ---- Pivot Table Internal Methods ----\n    \n    _generatePivotTable() {\n      const sourceData = this.state.originalData || this.data;\n      const config = this.opts.pivotConfig;\n      \n      if (!config.rows.length && !config.columns.length) {\n        // No pivot configuration, show summary of values\n        this._generatePivotSummary(sourceData, config);\n        return;\n      }\n      \n      // Group data by row fields\n      const rowGroups = this._groupByFields(sourceData, config.rows);\n      \n      // Get unique column values\n      const columnValues = config.columns.length \n        ? this._getUniqueValues(sourceData, config.columns)\n        : [null];\n      \n      // Generate pivot table structure\n      const pivotRows = [];\n      \n      Object.entries(rowGroups).forEach(([rowKey, rowData]) => {\n        const row = {};\n        \n        // Add row group labels\n        const rowKeys = rowKey.split('|');\n        config.rows.forEach((field, i) => {\n          row[field] = rowKeys[i] || '';\n        });\n        \n        // Calculate values for each column combination\n        columnValues.forEach(colKey => {\n          const filteredData = colKey \n            ? rowData.filter(item => this._getFieldPath(item, config.columns) === colKey)\n            : rowData;\n          \n          config.values.forEach(valueField => {\n            const aggFunc = config.aggregations[valueField] || 'sum';\n            const colName = colKey ? `${valueField}_${colKey}` : valueField;\n            row[colName] = this._aggregate(filteredData, valueField, aggFunc);\n          });\n        });\n        \n        pivotRows.push(row);\n      });\n      \n      // Generate columns for pivot table\n      const pivotColumns = [];\n      \n      // Add row field columns\n      config.rows.forEach(field => {\n        pivotColumns.push({\n          key: field,\n          label: this._getFieldLabel(field),\n          type: 'text',\n          sortable: true\n        });\n      });\n      \n      // Add value columns for each column combination\n      columnValues.forEach(colKey => {\n        config.values.forEach(valueField => {\n          const colName = colKey ? `${valueField}_${colKey}` : valueField;\n          const label = colKey \n            ? `${this._getFieldLabel(valueField)} (${colKey})`\n            : this._getFieldLabel(valueField);\n          \n          pivotColumns.push({\n            key: colName,\n            label: label,\n            type: 'number',\n            sortable: true,\n            format: this._getNumberFormatter(valueField)\n          });\n        });\n      });\n      \n      this.state.pivotData = { rows: pivotRows, columns: pivotColumns };\n      this.data = pivotRows;\n      this.columns = pivotColumns;\n    }\n    \n    _generatePivotSummary(data, config) {\n      if (!config.values.length) {\n        this.state.pivotData = { rows: [], columns: [] };\n        this.data = [];\n        this.columns = [];\n        return;\n      }\n      \n      const summaryRow = {};\n      config.values.forEach(field => {\n        const aggFunc = config.aggregations[field] || 'sum';\n        summaryRow[field] = this._aggregate(data, field, aggFunc);\n      });\n      \n      const summaryColumns = config.values.map(field => ({\n        key: field,\n        label: `${this._getFieldLabel(field)} (${config.aggregations[field] || 'sum'})`,\n        type: 'number',\n        sortable: false,\n        format: this._getNumberFormatter(field)\n      }));\n      \n      this.state.pivotData = { rows: [summaryRow], columns: summaryColumns };\n      this.data = [summaryRow];\n      this.columns = summaryColumns;\n    }\n    \n    _groupByFields(data, fields) {\n      const groups = {};\n      \n      data.forEach(item => {\n        const key = fields.map(field => this._getFieldValue(item, field)).join('|');\n        if (!groups[key]) groups[key] = [];\n        groups[key].push(item);\n      });\n      \n      return groups;\n    }\n    \n    _getUniqueValues(data, fields) {\n      const values = new Set();\n      data.forEach(item => {\n        const value = this._getFieldPath(item, fields);\n        if (value !== null && value !== undefined) {\n          values.add(value);\n        }\n      });\n      return Array.from(values).sort();\n    }\n    \n    _getFieldPath(item, fields) {\n      return fields.map(field => this._getFieldValue(item, field)).join('|');\n    }\n    \n    _getFieldValue(item, field) {\n      return item[field] ?? '';\n    }\n    \n    _getFieldLabel(field) {\n      const col = this.state.originalColumns?.find(c => c.key === field);\n      return col?.label || field;\n    }\n    \n    _aggregate(data, field, func) {\n      const values = data.map(item => Number(item[field])).filter(v => !isNaN(v));\n      if (!values.length) return 0;\n      \n      switch (func) {\n        case 'sum': return values.reduce((a, b) => a + b, 0);\n        case 'avg': return values.reduce((a, b) => a + b, 0) / values.length;\n        case 'min': return Math.min(...values);\n        case 'max': return Math.max(...values);\n        case 'count': return data.length;\n        default: return values.reduce((a, b) => a + b, 0);\n      }\n    }\n    \n    _getNumberFormatter(field) {\n      const col = this.state.originalColumns?.find(c => c.key === field);\n      return col?.format || ((v) => typeof v === 'number' ? v.toLocaleString() : v);\n    }\n    \n    _renderPivotToolbar() {\n      const toolbar = this.root.querySelector('.vg-toolbar');\n      if (!toolbar) return;\n      \n      this._closeAllSettingsPanels();\n\n      // Clear existing toolbar content\n      toolbar.innerHTML = '';\n      \n      const pivotControls = document.createElement('div');\n      pivotControls.className = 'vg-pivot-controls';\n      if (this.state.pivotControlsCollapsed) pivotControls.classList.add('collapsed');\n      const toggleLabel = this.state.pivotControlsCollapsed ? '▸ Show Controls' : '▾ Hide Controls';\n      pivotControls.innerHTML = `\n        <div class=\"vg-pivot-header\">\n          <div class=\"vg-pivot-title\">\n            <h3>📊 Pivot Table Builder</h3>\n            <p>Drag fields into the areas below to build your pivot table</p>\n          </div>\n          <div class=\"vg-pivot-header-actions\">\n            <button class=\"vg-btn vg-pivot-toggle\" aria-expanded=\"${!this.state.pivotControlsCollapsed}\">${toggleLabel}</button>\n            <button class=\"vg-btn vg-pivot-exit\">✕ Exit Pivot Mode</button>\n          </div>\n        </div>\n        \n        <div class=\"vg-pivot-workspace\">\n          <div class=\"vg-pivot-fields-panel\">\n            <h4>Available Fields</h4>\n            <div class=\"vg-pivot-available-fields\" id=\"pivot-available-fields\"></div>\n          </div>\n          \n          <div class=\"vg-pivot-config-panel\">\n            <div class=\"vg-pivot-drop-zones\">\n              <div class=\"vg-pivot-zone vg-pivot-filters\">\n                <div class=\"vg-pivot-zone-header\">\n                  <span class=\"vg-pivot-zone-icon\">🔍</span>\n                  <span class=\"vg-pivot-zone-title\">Filters</span>\n                  <span class=\"vg-pivot-zone-hint\">Filter your data</span>\n                </div>\n                <div class=\"vg-pivot-field-list\" data-type=\"filters\"></div>\n              </div>\n\n              <div class=\"vg-pivot-zone vg-pivot-columns\">\n                <div class=\"vg-pivot-zone-header\">\n                  <span class=\"vg-pivot-zone-icon\">📊</span>\n                  <span class=\"vg-pivot-zone-title\">Columns</span>\n                  <span class=\"vg-pivot-zone-hint\">Drag column fields here</span>\n                </div>\n                <div class=\"vg-pivot-field-list\" data-type=\"columns\"></div>\n              </div>\n              \n              <div class=\"vg-pivot-zone vg-pivot-rows\">\n                <div class=\"vg-pivot-zone-header\">\n                  <span class=\"vg-pivot-zone-icon\">📋</span>\n                  <span class=\"vg-pivot-zone-title\">Rows</span>\n                  <span class=\"vg-pivot-zone-hint\">Drag row fields here</span>\n                </div>\n                <div class=\"vg-pivot-field-list\" data-type=\"rows\"></div>\n              </div>\n              \n              <div class=\"vg-pivot-zone vg-pivot-values\">\n                <div class=\"vg-pivot-zone-header\">\n                  <span class=\"vg-pivot-zone-icon\">🔢</span>\n                  <span class=\"vg-pivot-zone-title\">Values</span>\n                  <span class=\"vg-pivot-zone-hint\">Drag numeric fields here</span>\n                </div>\n                <div class=\"vg-pivot-field-list\" data-type=\"values\"></div>\n              </div>\n            </div>\n            \n            <div class=\"vg-pivot-actions\">\n              <button class=\"vg-btn vg-pivot-refresh\">🔄 Refresh Pivot</button>\n              <button class=\"vg-btn vg-pivot-clear\">🗑️ Clear All</button>\n              <button class=\"vg-btn vg-pivot-export\">📊 Export Data</button>\n            </div>\n          </div>\n        </div>\n      `;\n      \n      if (this._styleControlsEnabled()) {\n        const headerActions = pivotControls.querySelector('.vg-pivot-header-actions');\n        if (headerActions) {\n          headerActions.insertAdjacentHTML('beforeend', this._styleControlsMarkup());\n          this._bindStyleControls(headerActions);\n        }\n      }\n\n      toolbar.appendChild(pivotControls);\n      \n      // Populate available fields\n      this._renderAvailableFields();\n      \n      // Render current configuration\n      this._updatePivotFieldLists();\n      \n      // Bind events\n      this._bindPivotEvents();\n      \n      // Initialize drag and drop\n      this._initializePivotDragDrop();\n    }\n    \n    _renderAvailableFields() {\n      const fieldsContainer = this.root.querySelector('#pivot-available-fields');\n      if (!fieldsContainer) return;\n      \n      fieldsContainer.innerHTML = '';\n      const fields = this.getAvailableFields();\n      \n      fields.forEach(field => {\n        const fieldElement = document.createElement('div');\n        fieldElement.className = 'vg-pivot-field-chip';\n        fieldElement.draggable = true;\n        fieldElement.dataset.field = field;\n        \n        const fieldType = this._getFieldType(field);\n        const icon = fieldType === 'number' ? '🔢' : fieldType === 'date' ? '📅' : '📝';\n        \n        fieldElement.innerHTML = `\n          <span class=\"vg-field-icon\">${icon}</span>\n          <span class=\"vg-field-label\">${this._getFieldLabel(field)}</span>\n          <span class=\"vg-field-type\">${fieldType}</span>\n        `;\n        \n        fieldsContainer.appendChild(fieldElement);\n      });\n    }\n    \n    _getFieldType(field) {\n      const originalData = this.state.originalData || this.data;\n      if (!originalData.length) return 'text';\n      \n      const sample = originalData[0][field];\n      if (typeof sample === 'number') return 'number';\n      if (sample instanceof Date || /^\\d{4}-\\d{2}-\\d{2}/.test(sample)) return 'date';\n      return 'text';\n    }\n    \n    _initializePivotDragDrop() {\n      const fieldsContainer = this.root.querySelector('#pivot-available-fields');\n      const dropZones = this.root.querySelectorAll('.vg-pivot-field-list');\n      \n      // Make field chips draggable\n      fieldsContainer.addEventListener('dragstart', (e) => {\n        if (e.target.classList.contains('vg-pivot-field-chip')) {\n          e.dataTransfer.setData('text/plain', e.target.dataset.field);\n          e.target.classList.add('vg-dragging');\n        }\n      });\n      \n      fieldsContainer.addEventListener('dragend', (e) => {\n        e.target.classList.remove('vg-dragging');\n      });\n      \n      // Setup drop zones\n      dropZones.forEach(zone => {\n        zone.addEventListener('dragover', (e) => {\n          e.preventDefault();\n          zone.classList.add('vg-drop-active');\n        });\n        \n        zone.addEventListener('dragleave', (e) => {\n          if (!zone.contains(e.relatedTarget)) {\n            zone.classList.remove('vg-drop-active');\n          }\n        });\n        \n        zone.addEventListener('drop', (e) => {\n          e.preventDefault();\n          zone.classList.remove('vg-drop-active');\n          \n          const field = e.dataTransfer.getData('text/plain');\n          const sourceType = e.dataTransfer.getData('source-type');\n          const type = zone.dataset.type;\n          \n          if (field && type) {\n            // Ensure pivot config is properly initialized\n            if (!this.opts.pivotConfig) {\n              this.opts.pivotConfig = {\n                rows: [],\n                columns: [],\n                values: [],\n                filters: [],\n                aggregations: {}\n              };\n            }\n            \n            // Ensure the specific type array exists\n            if (!this.opts.pivotConfig[type]) {\n              this.opts.pivotConfig[type] = [];\n            }\n            \n            // If moving from another zone, remove from source\n            if (sourceType && sourceType !== type && this.opts.pivotConfig[sourceType]) {\n              const sourceIndex = this.opts.pivotConfig[sourceType].indexOf(field);\n              if (sourceIndex > -1) {\n                this.opts.pivotConfig[sourceType].splice(sourceIndex, 1);\n                if (sourceType === 'values') {\n                  delete this.opts.pivotConfig.aggregations[field];\n                }\n              }\n            }\n            \n            // Add field if not already present in target zone\n            if (!this.opts.pivotConfig[type].includes(field)) {\n              this.opts.pivotConfig[type].push(field);\n              \n              if (type === 'values' && !this.opts.pivotConfig.aggregations[field]) {\n                this.opts.pivotConfig.aggregations[field] = 'sum';\n              }\n              \n              this._updatePivotFieldLists();\n              this.updatePivotConfig(this.opts.pivotConfig);\n            }\n          }\n        });\n      });\n      \n      // Make existing field items draggable within zones\n      this._makeFieldItemsDraggable();\n    }\n    \n    _makeFieldItemsDraggable() {\n      const fieldItems = this.root.querySelectorAll('.vg-pivot-field-item');\n      \n      fieldItems.forEach(item => {\n        item.draggable = true;\n        \n        item.addEventListener('dragstart', (e) => {\n          e.dataTransfer.setData('text/plain', item.dataset.field);\n          e.dataTransfer.setData('source-type', item.closest('.vg-pivot-field-list').dataset.type);\n          item.classList.add('vg-dragging');\n        });\n        \n        item.addEventListener('dragend', (e) => {\n          item.classList.remove('vg-dragging');\n        });\n      });\n    }\n    \n    _updatePivotFieldLists() {\n      const fieldLists = this.root.querySelectorAll('.vg-pivot-field-list');\n      \n      fieldLists.forEach(list => {\n        const type = list.dataset.type;\n        const fields = this.opts.pivotConfig[type] || [];\n        \n        list.innerHTML = '';\n        \n        fields.forEach((field, index) => {\n          const fieldItem = document.createElement('div');\n          fieldItem.className = 'vg-pivot-field-item';\n          fieldItem.dataset.field = field;\n          fieldItem.draggable = true;\n          \n          const fieldType = this._getFieldType(field);\n          const icon = fieldType === 'number' ? '🔢' : fieldType === 'date' ? '📅' : '📝';\n          \n          if (type === 'values') {\n            const aggregation = this.opts.pivotConfig.aggregations[field] || 'sum';\n            fieldItem.innerHTML = `\n              <div class=\"vg-field-item-content\">\n                <span class=\"vg-field-icon\">${icon}</span>\n                <span class=\"vg-field-label\">${this._getFieldLabel(field)}</span>\n                <select class=\"vg-aggregation-select\" data-field=\"${field}\">\n                  <option value=\"sum\" ${aggregation === 'sum' ? 'selected' : ''}>Sum</option>\n                  <option value=\"count\" ${aggregation === 'count' ? 'selected' : ''}>Count</option>\n                  <option value=\"avg\" ${aggregation === 'avg' ? 'selected' : ''}>Average</option>\n                  <option value=\"min\" ${aggregation === 'min' ? 'selected' : ''}>Min</option>\n                  <option value=\"max\" ${aggregation === 'max' ? 'selected' : ''}>Max</option>\n                </select>\n              </div>\n              <div class=\"vg-field-actions\">\n                <button class=\"vg-field-move-up\" data-field=\"${field}\" data-type=\"${type}\" ${index === 0 ? 'disabled' : ''}>↑</button>\n                <button class=\"vg-field-move-down\" data-field=\"${field}\" data-type=\"${type}\" ${index === fields.length - 1 ? 'disabled' : ''}>↓</button>\n                <button class=\"vg-field-remove\" data-field=\"${field}\" data-type=\"${type}\">✕</button>\n              </div>\n            `;\n          } else {\n            fieldItem.innerHTML = `\n              <div class=\"vg-field-item-content\">\n                <span class=\"vg-field-icon\">${icon}</span>\n                <span class=\"vg-field-label\">${this._getFieldLabel(field)}</span>\n                ${type === 'filters' ? `\n                  <select class=\"vg-filter-operator\" data-field=\"${field}\">\n                    <option value=\"equals\">Equals</option>\n                    <option value=\"contains\">Contains</option>\n                    <option value=\"starts\">Starts with</option>\n                    <option value=\"greater\">Greater than</option>\n                    <option value=\"less\">Less than</option>\n                  </select>\n                  <input type=\"text\" class=\"vg-filter-value\" data-field=\"${field}\" placeholder=\"Filter value...\">\n                ` : ''}\n              </div>\n              <div class=\"vg-field-actions\">\n                <button class=\"vg-field-move-up\" data-field=\"${field}\" data-type=\"${type}\" ${index === 0 ? 'disabled' : ''}>↑</button>\n                <button class=\"vg-field-move-down\" data-field=\"${field}\" data-type=\"${type}\" ${index === fields.length - 1 ? 'disabled' : ''}>↓</button>\n                <button class=\"vg-field-remove\" data-field=\"${field}\" data-type=\"${type}\">✕</button>\n              </div>\n            `;\n          }\n          \n          list.appendChild(fieldItem);\n        });\n        \n        if (fields.length === 0) {\n          const emptyState = document.createElement('div');\n          emptyState.className = 'vg-pivot-empty-state';\n          emptyState.innerHTML = `\n            <div class=\"vg-empty-icon\">📥</div>\n            <div class=\"vg-empty-text\">Drag fields here</div>\n          `;\n          list.appendChild(emptyState);\n        }\n      });\n      \n      // Rebind drag and drop events for new items\n      this._makeFieldItemsDraggable();\n    }\n    \n    _bindPivotEvents() {\n      const toolbar = this.root.querySelector('.vg-toolbar');\n      if (!toolbar) return;\n      \n      // Exit pivot mode\n      toolbar.querySelector('.vg-pivot-exit')?.addEventListener('click', () => {\n        this.disablePivot();\n      });\n\n      // Toggle pivot controls collapse/expand\n      toolbar.querySelector('.vg-pivot-toggle')?.addEventListener('click', (e) => {\n        const btn = e.currentTarget;\n        const wrapper = toolbar.querySelector('.vg-pivot-controls');\n        this.state.pivotControlsCollapsed = !this.state.pivotControlsCollapsed;\n        if (wrapper) wrapper.classList.toggle('collapsed', this.state.pivotControlsCollapsed);\n        if (btn) {\n          btn.textContent = this.state.pivotControlsCollapsed ? '▸ Show Controls' : '▾ Hide Controls';\n          btn.setAttribute('aria-expanded', String(!this.state.pivotControlsCollapsed));\n        }\n      });\n      \n      // Refresh pivot\n      toolbar.querySelector('.vg-pivot-refresh')?.addEventListener('click', () => {\n        this.updatePivotConfig(this.opts.pivotConfig);\n      });\n      \n      // Clear all fields\n      toolbar.querySelector('.vg-pivot-clear')?.addEventListener('click', () => {\n        this.clearPivotConfig();\n      });\n      \n      // Export data\n      toolbar.querySelector('.vg-pivot-export')?.addEventListener('click', () => {\n        this.exportPivotData();\n      });\n      \n      // Field actions (remove, move up/down)\n      toolbar.addEventListener('click', (e) => {\n        if (e.target.classList.contains('vg-field-remove')) {\n          const field = e.target.dataset.field;\n          const type = e.target.dataset.type;\n          this.removePivotField(type, field);\n        } else if (e.target.classList.contains('vg-field-move-up')) {\n          const field = e.target.dataset.field;\n          const type = e.target.dataset.type;\n          this.movePivotField(type, field, -1);\n        } else if (e.target.classList.contains('vg-field-move-down')) {\n          const field = e.target.dataset.field;\n          const type = e.target.dataset.type;\n          this.movePivotField(type, field, 1);\n        }\n      });\n      \n      // Aggregation changes\n      toolbar.addEventListener('change', (e) => {\n        if (e.target.classList.contains('vg-aggregation-select')) {\n          const field = e.target.dataset.field;\n          this.opts.pivotConfig.aggregations[field] = e.target.value;\n          this.updatePivotConfig(this.opts.pivotConfig);\n        } else if (e.target.classList.contains('vg-filter-operator') || e.target.classList.contains('vg-filter-value')) {\n          this.applyPivotFilters();\n        }\n      });\n      \n      // Filter input changes (debounced)\n      let filterTimeout;\n      toolbar.addEventListener('input', (e) => {\n        if (e.target.classList.contains('vg-filter-value')) {\n          clearTimeout(filterTimeout);\n          filterTimeout = setTimeout(() => {\n            this.applyPivotFilters();\n          }, 300);\n        }\n      });\n    }\n    \n    removePivotField(type, field) {\n      const index = this.opts.pivotConfig[type].indexOf(field);\n      if (index > -1) {\n        this.opts.pivotConfig[type].splice(index, 1);\n        if (type === 'values') {\n          delete this.opts.pivotConfig.aggregations[field];\n        }\n        this._updatePivotFieldLists();\n        this.updatePivotConfig(this.opts.pivotConfig);\n      }\n    }\n    \n    movePivotField(type, field, direction) {\n      const fields = this.opts.pivotConfig[type];\n      const index = fields.indexOf(field);\n      \n      if (index === -1) return;\n      \n      const newIndex = index + direction;\n      if (newIndex < 0 || newIndex >= fields.length) return;\n      \n      // Swap fields\n      [fields[index], fields[newIndex]] = [fields[newIndex], fields[index]];\n      \n      this._updatePivotFieldLists();\n      this.updatePivotConfig(this.opts.pivotConfig);\n    }\n    \n    clearPivotConfig() {\n      this.opts.pivotConfig = {\n        rows: [],\n        columns: [],\n        values: [],\n        filters: [],\n        aggregations: {}\n      };\n      this._updatePivotFieldLists();\n      this.updatePivotConfig(this.opts.pivotConfig);\n    }\n    \n    applyPivotFilters() {\n      const filters = {};\n      const filterInputs = this.root.querySelectorAll('.vg-filter-value');\n      \n      filterInputs.forEach(input => {\n        const field = input.dataset.field;\n        const value = input.value.trim();\n        const operator = this.root.querySelector(`.vg-filter-operator[data-field=\"${field}\"]`)?.value || 'equals';\n        \n        if (value) {\n          filters[field] = { operator, value };\n        }\n      });\n      \n      this.opts.pivotConfig.filters = filters;\n      this.updatePivotConfig(this.opts.pivotConfig);\n    }\n    \n    exportPivotData() {\n      // Use the current data which contains the pivot table rows\n      const pivotData = this.opts.pivotMode ? this.data : this.data;\n      \n      if (!pivotData || !pivotData.length) {\n        console.warn('No data available for export');\n        alert('No data available for export. Please configure your pivot table first.');\n        return;\n      }\n      \n      console.log('Exporting pivot data:', pivotData.length, 'rows');\n      const csvContent = this.convertToCSV(pivotData);\n      \n      if (!csvContent) {\n        console.warn('CSV conversion failed');\n        alert('Failed to convert data to CSV format.');\n        return;\n      }\n      \n      this.downloadCSV(csvContent, 'pivot-table.csv');\n    }\n    \n    convertToCSV(data) {\n      if (!data || !data.length) {\n        console.warn('ConvertToCSV: No data provided');\n        return '';\n      }\n      \n      console.log('Converting to CSV:', data.length, 'rows');\n      \n      // Get headers from the first row\n      const firstRow = data[0];\n      if (!firstRow || typeof firstRow !== 'object') {\n        console.warn('ConvertToCSV: Invalid data format');\n        return '';\n      }\n      \n      const headers = Object.keys(firstRow);\n      const csvRows = [headers.join(',')];\n      \n      data.forEach((row, index) => {\n        const values = headers.map(header => {\n          const value = row[header];\n          if (value === null || value === undefined) {\n            return '';\n          }\n          return typeof value === 'string' ? `\"${value.replace(/\"/g, '\"\"')}\"` : value;\n        });\n        csvRows.push(values.join(','));\n      });\n      \n      console.log('CSV generated:', csvRows.length, 'lines');\n      return csvRows.join('\\n');\n    }\n    \n    downloadCSV(content, filename) {\n      const blob = new Blob([content], { type: 'text/csv;charset=utf-8;' });\n      const link = document.createElement('a');\n      if (link.download !== undefined) {\n        const url = URL.createObjectURL(blob);\n        link.setAttribute('href', url);\n        link.setAttribute('download', filename);\n        link.style.visibility = 'hidden';\n        document.body.appendChild(link);\n        link.click();\n        document.body.removeChild(link);\n      }\n    }\n\n    // ---- Public selection API ----\n    getSelectedRows() { return Array.from(this.state.selected).map(id => this.rowById.get(id)).filter(Boolean); }\n    clearSelection() {\n      this.state.selected.clear();\n      this._updateHeaderSelectionToggle();\n      this._renderBody();\n      this._emitSelection();\n    }\n  }\n\n// Export as default (UMD will use this as window.VanillaGrid)\nexport default VanillaGrid;\n\n// Also export types for TypeScript consumers\nexport type {\n  VGColumn,\n  VGExporting,\n  VGTreeOptions,\n  VGPivotConfig,\n  VGStyleControls,\n  VGColumnsMenu,\n  VGI18n,\n  VanillaGridOptions,\n  VGCellType,\n  VGSortDirection,\n  VGFilterMode,\n  VGExportFormat,\n  VGExportScope,\n  VGThemeValue,\n  VGDensityValue,\n  VGAggregation,\n  VGFilterOperator,\n  VGDropPosition\n};\n"],"names":[],"mappings":"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"}