{"version":3,"file":"vanillagrid.umd.js","sources":["../src/vanillagrid.ts"],"sourcesContent":["/*!\n * VanillaGrid — a tiny table library\n * Features: sorting, multiple filtering modes (simple/CS/RegExp/tree),\n * pagination, grouping (sum/min/max), selection, resizing, basic editing,\n * context menu, export, tree data, and optional pivot-like view.\n * No dependencies. MIT License.\n */\n\n// @ts-nocheck - Temporarily disable type checking for the large conversion\n// TODO: Gradually enable strict typing by removing this and fixing errors\n\n// ============================================================================\n// Type Definitions\n// ============================================================================\n\nexport type VGCellType = 'text' | 'number' | 'date' | 'button' | 'image' | 'html' | 'progress' | 'rating' | 'badge' | 'color' | string;\nexport type VGSortDirection = 'asc' | 'desc';\nexport type VGFilterMode = 'simple' | 'case-sensitive' | 'regex' | 'tree';\nexport type VGExportFormat = 'csv' | 'md';\nexport type VGExportScope = 'page' | 'all';\nexport type VGThemeValue = 'light' | 'dark-blue' | 'dark-grey' | 'midnight' | 'forest' | 'ocean' | 'sand' | string;\nexport type VGDensityValue = 'comfortable' | 'compact';\nexport type VGAggregation = 'sum' | 'avg' | 'min' | 'max' | 'count';\nexport type VGFilterOperator = 'equals' | 'contains' | 'starts' | 'greater' | 'less';\nexport type VGDropPosition = 'before' | 'after';\n\n/** Column definition for VanillaGrid */\nexport interface VGColumn {\n  key: string;\n  label?: string;\n  type?: VGCellType;\n  sortable?: boolean;\n  filterable?: boolean;\n  format?: (val: any, row?: any) => string;\n  render?: (val: any, row?: any) => string | HTMLElement;\n  aggregations?: VGAggregation[];\n  link?: {\n    text?: string;\n    target?: string;\n  };\n  image?: {\n    alt?: string;\n    width?: number;\n    height?: number;\n  };\n  button?: {\n    text?: string;\n    onClick?: (row: any, btn: HTMLElement) => void;\n  };\n}\n\n/** Export configuration */\nexport interface VGExporting {\n  enabled: boolean;\n  formats: VGExportFormat[];\n  scope: VGExportScope;\n  filename: string;\n}\n\n/** Tree/hierarchical grid options */\nexport interface VGTreeOptions {\n  enabled: boolean;\n  childrenKey: string;\n  indent: number;\n  lazy: boolean;\n  initiallyExpanded: boolean;\n  hasChildrenKey: string;\n}\n\n/** Pivot table configuration */\nexport interface VGPivotConfig {\n  rows: string[];\n  columns: string[];\n  values: string[];\n  aggregations: Record<string, VGAggregation>;\n  filters?: Record<string, { operator: VGFilterOperator; value: string }> | any[];\n}\n\n/** Style controls configuration */\nexport interface VGStyleControls {\n  enabled: boolean;\n  persistKey?: string | false;\n  scope?: 'global' | 'instance';\n}\n\n/** Columns menu configuration */\nexport interface VGColumnsMenu {\n  location?: 'pager' | 'toolbar';\n  label?: string;\n  showSearch?: boolean;\n  showSelectAll?: boolean;\n  include?: string[];\n  exclude?: string[];\n  persistKey?: string;\n  initialHidden?: string[];\n}\n\n/** i18n strings */\nexport interface VGI18n {\n  tableLabel: string;\n  filterPlaceholder: string;\n  regexLabel: string;\n  invalidRegex: string;\n  noGroup: string;\n  groupByPrefix: string;\n  perPageSuffix: string;\n  search: {\n    simple: string;\n    caseSensitive: string;\n    regex: string;\n    treeFilter: string;\n  };\n  pager: {\n    pageInfo: (page: number, total: number) => string;\n    prev: string;\n    next: string;\n    first: string;\n    last: string;\n    totalRows: (n: number) => string;\n    totalGroups: (n: number) => string;\n  };\n  group: {\n    count: string;\n    min: string;\n    max: string;\n  };\n  aria: {\n    toggleGroup: string;\n    expandRow: string;\n    collapseRow: string;\n  };\n  export: {\n    button: string;\n    csv: string;\n    markdown: string;\n    format: string;\n  };\n}\n\n/** Options for VanillaGrid constructor */\nexport interface VanillaGridOptions<T extends Record<string, any> = Record<string, any>> {\n  data: T[];\n  columns: VGColumn[];\n  pageSize?: number;\n  pageSizes?: number[];\n  sortable?: boolean;\n  filterable?: boolean;\n  pagination?: boolean;\n  groupable?: boolean;\n  groupBy?: string | null;\n  regexFilter?: boolean;\n  className?: string;\n  emptyMessage?: string;\n  theme?: VGThemeValue;\n  density?: VGDensityValue;\n  striped?: boolean;\n  styleControls?: VGStyleControls | boolean;\n  i18n?: Partial<VGI18n>;\n  tree?: Partial<VGTreeOptions>;\n  loadChildren?: (row: T) => Promise<T[]>;\n  serverPagination?: boolean;\n  serverSorting?: boolean;\n  serverFiltering?: boolean;\n  loadPage?: (args: {\n    page: number;\n    pageSize: number;\n    sortKey?: string;\n    sortDir?: VGSortDirection;\n    filter?: string;\n    regexMode?: boolean;\n    caseSensitive?: boolean;\n  }) => Promise<{ rows: T[]; total: number }>;\n  exporting?: Partial<VGExporting>;\n  selectable?: boolean;\n  onSelectionChange?: (rows: T[]) => void;\n  columnsMenu?: boolean | Partial<VGColumnsMenu>;\n  onColumnsVisibilityChange?: (hidden: Set<string>) => void;\n  resizableColumns?: boolean;\n  editableRows?: boolean;\n  rowDragDrop?: boolean;\n  frozenColumns?: number;\n  keyboardNavigation?: boolean;\n  contextMenu?: boolean;\n  onRowEdit?: (row: T, field: string, newValue: any, oldValue: any) => void;\n  onRowDrop?: (draggedRow: T, targetRow: T, position: VGDropPosition) => void;\n  customCellTypes?: Record<string, (value: any, column: VGColumn, row: T) => string | HTMLElement>;\n  pivotMode?: boolean;\n  pivotConfig?: Partial<VGPivotConfig>;\n  onPivotChange?: (pivotData: any, config: VGPivotConfig) => void;\n}\n\n/** Internal row with assigned ID */\ninterface VGRow extends Record<string, any> {\n  __vgid?: number;\n  children?: VGRow[];\n}\n\n/** Internal state */\ninterface VGState {\n  sortKey: string | null;\n  sortDir: VGSortDirection;\n  filter: string;\n  filterMode: VGFilterMode;\n  regexMode: boolean;\n  caseSensitive: boolean;\n  treeFilterExpanded: Set<string>;\n  page: number;\n  pageSize: number;\n  groupBy: string | null;\n  regexError: string;\n  collapsed: Set<string>;\n  expanded: Set<number>;\n  loadingChildren: Set<number>;\n  serverTotalRows: number | null;\n  selected: Set<number>;\n  hiddenCols: Set<string>;\n  columnWidths: Map<string, number>;\n  editingCell: { rowId: number; columnKey: string } | null;\n  draggedRow: any | null;\n  focusedCell: { rowId: number; columnKey: string } | null;\n  pivotData: any | null;\n  originalData: any[] | null;\n  originalColumns: VGColumn[] | null;\n  pivotControlsCollapsed: boolean;\n}\n\n/** Style state */\ninterface VGStyleState {\n  theme: VGThemeValue;\n  density: VGDensityValue;\n  striped: boolean;\n}\n\n// ============================================================================\n// Constants\n// ============================================================================\n\nconst VG_STYLE_THEMES: Array<{ value: VGThemeValue; label: string; dark: boolean }> = [\n  { value: 'light', label: 'Light', dark: false },\n  { value: 'dark-blue', label: 'Dark Blue', dark: true },\n  { value: 'dark-grey', label: 'Dark Grey', dark: true },\n  { value: 'midnight', label: 'Midnight Violet', dark: true },\n  { value: 'forest', label: 'Forest Night', dark: true },\n  { value: 'ocean', label: 'Ocean Breeze', dark: false },\n  { value: 'sand', label: 'Sand Dune', dark: false }\n];\n\nconst VG_STYLE_DEFAULT_STATE: VGStyleState = {\n  theme: 'light',\n  density: 'comfortable',\n  striped: false,\n};\n\n// ============================================================================\n// Main Class\n// ============================================================================\n\n/**\n * VanillaGrid - A tiny, dependency-free data grid\n * \n * @template T - The type of data rows in the grid\n */\nclass VanillaGrid<T extends Record<string, any> = Record<string, any>> {\n\n  container: HTMLElement;\n  root: HTMLElement;\n  opts: any; // Using any to avoid deep Required issues with optional nested objects\n  columns: VGColumn[];\n  data: VGRow[];\n  state: VGState;\n  styleState: VGStyleState;\n  rowById: Map<number, VGRow>;\n  toolbarEl: HTMLElement | null = null;\n  headerEl: HTMLElement | null = null;\n  bodyEl: HTMLElement | null = null;\n  pagerEl: HTMLElement | null = null;\n  tableEl: HTMLTableElement | null = null;\n  theadEl: HTMLTableSectionElement | null = null;\n  tbodyEl: HTMLTableSectionElement | null = null;\n  \n  private _idCounter: number = 0;\n  private _totalPages: number = 1;\n  private _onDocClickFilterMode: ((e: Event) => void) | null = null;\n  private _onDocClickTreeFilter: ((e: Event) => void) | null = null;\n  private _onToolbarTreeClick: ((e: Event) => void) | null = null;\n  private _onBodyClick: ((e: Event) => void) | null = null;\n  private _onBodyDblClick: ((e: Event) => void) | null = null;\n  private _onBodyContextMenu: ((e: Event) => void) | null = null;\n  private _onBodyKeyDown: ((e: KeyboardEvent) => void) | null = null;\n  private _onHeaderClick: ((e: Event) => void) | null = null;\n  private _onHeaderMouseDown: ((e: MouseEvent) => void) | null = null;\n  private _onToolbarClick: ((e: Event) => void) | null = null;\n  private _onToolbarChange: ((e: Event) => void) | null = null;\n  private _onPagerClick: ((e: Event) => void) | null = null;\n  private _resizeState: {\n    column: string | null;\n    startX: number;\n    startWidth: number;\n  } | null = null;\n\n    /**\n     * Create a VanillaGrid instance.\n     * @param {string|HTMLElement} container - CSS selector or DOM node to mount into\n     * @param {VanillaGridOptions} options - Configuration and data\n     */\n    constructor(container: string | HTMLElement, options: VanillaGridOptions<T>) {\n      const el = (typeof container === 'string')\n        ? document.querySelector<HTMLElement>(container)\n        : container;\n\n      if (!el) throw new Error('VanillaGrid: container not found');\n      this.container = el;\n\n      // Options\n      const defaults = {\n        data: [],\n        columns: [], // [{ key, label, type, sortable, filterable, format, render, aggregations:['sum','min','max'], link:{text,target}, image:{alt,width,height}, button:{text, onClick} }]\n        pageSize: 10,\n        pageSizes: [10, 25, 50, 100, 1000],\n        sortable: true,\n        filterable: false,\n        pagination: true,\n        groupable: false,\n        groupBy: null, // key or null\n        regexFilter: false,\n        className: '',\n        emptyMessage: 'No rows to display.',\n        theme: 'light',\n        density: 'comfortable',\n        striped: false,\n        styleControls: {\n          enabled: true,\n          persistKey: 'vanillagrid:style',\n        },\n        // i18n strings (override any to localize)\n        i18n: {\n          tableLabel: 'Data table',\n          filterPlaceholder: 'Filter...',\n          regexLabel: 'RegExp',\n          invalidRegex: 'Invalid RegExp',\n          noGroup: 'No group',\n          groupByPrefix: 'Group by',\n          perPageSuffix: ' / page',\n          search: {\n            simple: 'Simple',\n            caseSensitive: 'Case-sensitive',\n            regex: 'RegExp',\n            treeFilter: 'Tree/Filter'\n          },\n          pager: {\n            pageInfo: (p, t) => `Page ${p} of ${t}`,\n            prev: 'Previous page',\n            next: 'Next page',\n            first: 'First page',\n            last: 'Last page',\n            totalRows: n => `${n} row(s)`,\n            totalGroups: n => `${n} group(s)`,\n          },\n          group: { count: 'Count', min: 'min', max: 'max' },\n          aria: { toggleGroup: 'Toggle group', expandRow: 'Expand', collapseRow: 'Collapse' },\n          export: { button: 'Export', csv: 'CSV', markdown: 'Markdown', format: 'Format' }\n        },\n        // Tree options\n        tree: {\n          enabled: false,\n          childrenKey: 'children',\n          indent: 16,\n          lazy: false,\n          initiallyExpanded: false,\n          hasChildrenKey: 'hasChildren',\n        },\n        loadChildren: null, // async (row) => children array\n        // Remote/server-side options\n        serverPagination: false,\n        serverSorting: false,\n        serverFiltering: false,\n  loadPage: null, // async ({page,pageSize,sortKey,sortDir,filter,regexMode}) => { rows, total }\n  // Export options\n        exporting: {\n          enabled: false,\n          formats: ['csv', 'md'], // supported: 'csv', 'md'\n          scope: 'page', // 'page' | 'all'\n          filename: 'vanillagrid'\n        },\n        // Selection\n        selectable: false, // adds a checkbox column and selection API\n        onSelectionChange: null, // (selectedRows) => void\n  // Column visibility\n  // columnsMenu can be:\n  // - false to disable\n  // - true for defaults\n  // - object for configuration: { location:'pager'|'toolbar', label:string, showSearch:boolean, showSelectAll:boolean, include:string[], exclude:string[], persistKey:string, initialHidden:string[] }\n  columnsMenu: false,\n  onColumnsVisibilityChange: null, // (hiddenCols:Set<string>) => void\n        // New features\n        resizableColumns: false, // allow column resizing by dragging borders\n        editableRows: false, // enable inline row editing\n        rowDragDrop: false, // enable row reordering via drag and drop\n        frozenColumns: 0, // number of columns to freeze on the left\n        keyboardNavigation: true, // enable arrow key navigation\n        contextMenu: true, // enable right-click context menu\n        onRowEdit: null, // (row, field, newValue, oldValue) => void\n        onRowDrop: null, // (draggedRow, targetRow, position) => void\n        customCellTypes: {}, // custom cell renderers: { typeName: renderFunction }\n        // Pivot table options\n        pivotMode: false, // enable pivot table mode\n        pivotConfig: {\n          rows: [], // field names for row grouping\n          columns: [], // field names for column grouping  \n          values: [], // field names for value aggregation\n          aggregations: {}, // field -> aggregation function mapping\n        },\n        onPivotChange: null, // (pivotData, config) => void\n      };\n      this.opts = Object.assign({}, defaults, options || {});\n      if (options && options.tree) this.opts.tree = Object.assign({}, defaults.tree, options.tree);\n      if (options) {\n        if (options.styleControls === false) {\n          this.opts.styleControls = false;\n        } else if (options.styleControls && typeof options.styleControls === 'object') {\n          this.opts.styleControls = Object.assign({}, defaults.styleControls, options.styleControls);\n        }\n      }\n      this.columns = this.opts.columns;\n      this.data = Array.isArray(this.opts.data) ? this.opts.data.slice() : [];\n\n  // Stable row ids for event delegation (deep for tree)\n  this._idCounter = 0;\n  this._assignIdsDeep(this.data);\n  this.rowById = new Map();\n  this._indexRowsDeep(this.data);\n\n      // State\n      this.state = {\n        sortKey: null,\n        sortDir: 'asc',\n        filter: '',\n        filterMode: 'simple', // 'simple' | 'case-sensitive' | 'regex' | 'tree'\n        regexMode: !!this.opts.regexFilter,\n        caseSensitive: false,\n        treeFilterExpanded: new Set(), // for tree filter navigation\n        page: 1,\n        pageSize: this.opts.pageSize,\n        groupBy: this.opts.groupBy,\n        regexError: '',\n  collapsed: new Set(), // group value -> collapsed\n  // Tree state\n  expanded: new Set(), // row id -> expanded\n  loadingChildren: new Set(),\n  // Remote total (for serverPagination)\n  serverTotalRows: null,\n        // Selection state\n        selected: new Set(), // row ids\n        // Column visibility state\n        hiddenCols: new Set(),\n        // New feature states\n        columnWidths: new Map(), // column key -> width in px\n        editingCell: null, // { rowId, columnKey }\n        draggedRow: null, // row being dragged\n        focusedCell: null, // { rowId, columnKey } for keyboard navigation\n        // Pivot state\n        pivotData: null, // processed pivot table data\n        originalData: null, // backup of original data when in pivot mode\n        originalColumns: null, // backup of original columns when in pivot mode\n        // Pivot UI state\n        pivotControlsCollapsed: false,\n      };\n\n      // Root\n      this.root = document.createElement('div');\n      this.root.className = `vg-container ${this.opts.className}`.trim();\n      this.container.innerHTML = '';\n      this.container.appendChild(this.root);\n\n  this._initStyleState();\n\n      this._render();\n    }\n\n  // ------------- Public API ----------------\n  /** Replace all data rows and reset page. */\n  setData(data) {\n  this.data = Array.isArray(data) ? data.slice() : [];\n  this._idCounter = 0;\n  this._assignIdsDeep(this.data);\n  this.rowById = new Map();\n  this._indexRowsDeep(this.data);\n      this.state.page = 1;\n      this._renderBody();\n      this._renderPager();\n    }\n\n  /** Get a shallow copy of current data. */\n  getData() { return this.data.slice(); }\n\n  /**\n   * Set grouping by a column key (or null to disable).\n   * Re-renders body and pager.\n   */\n  setGroupBy(key) {\n      this.state.groupBy = key || null;\n      this.state.page = 1;\n      this._renderBody();\n      this._renderPager();\n    }\n\n  /**\n   * Update filter text and options.\n   * For server mode, triggers remote load; otherwise re-renders body and pager.\n   * @param {string} text\n   * @param {{regexMode?:boolean, caseSensitive?:boolean}} [options]\n   */\n  setFilter(text, options = {}) {\n      this.state.filter = text ?? '';\n      if (options.regexMode != null) this.state.regexMode = !!options.regexMode;\n      if (options.caseSensitive != null) this.state.caseSensitive = !!options.caseSensitive;\n      this.state.page = 1;\n  this._updateFilterError();\n      if (this._shouldRemoteFetch('filter')) {\n        this._remoteLoad(1);\n      } else {\n        this._renderBody();\n        this._renderPager();\n      }\n    }\n\n  /**\n   * Apply sorting by column key and direction.\n   * @param {string} key\n   * @param {'asc'|'desc'} [dir='asc']\n   */\n  setSort(key, dir = 'asc') {\n      this.state.sortKey = key;\n      this.state.sortDir = dir === 'desc' ? 'desc' : 'asc';\n      this._renderHeader();\n  if (this._shouldRemoteFetch('sort')) this._remoteLoad(1);\n  else this._renderBody();\n    }\n\n    setPageSize(size) {\n      this.state.pageSize = +size || 10;\n      this.state.page = 1;\n      this._renderPager();\n  if (this._shouldRemoteFetch('page')) this._remoteLoad(1);\n  else this._renderBody();\n    }\n\n    // -------- Public: Markdown input --------\n    setMarkdown(markdown, options = {}) {\n      const tables = this._parseMarkdownTables(String(markdown || ''));\n      const idx = Math.max(0, Math.min(options.tableIndex || 0, tables.length - 1));\n      const table = tables[idx];\n      if (!table) {\n        // No table found: clear data\n        this.columns = [];\n        this.setData([]);\n        return;\n      }\n      const keys = this._uniqueKeys(table.headers.map(h => this._slugify(String(h || 'col'))));\n      const cols = keys.map((k, i) => ({ key: k, label: table.headers[i], type: 'html', sortable: true }));\n      const data = table.rows.map(row => {\n        const obj = {};\n        row.forEach((cell, i) => obj[keys[i]] = this._mdInlineToHtml(cell));\n        return obj;\n      });\n      this.columns = cols;\n      this._renderHeader();\n      this.setData(data);\n    }\n\n    async loadMarkdown(url, fetchOptions) {\n      const res = await fetch(url, fetchOptions);\n      const text = await res.text();\n      this.setMarkdown(text);\n    }\n\n    // -------- Public: Export --------\n    downloadCSV(filename) {\n      const name = (filename || this.opts.exporting.filename || 'vanillagrid') + '.csv';\n      const { headers, rows } = this._exportMatrix();\n      const csv = this._toCSV([headers, ...rows]);\n      this._downloadBlob(csv, name, 'text/csv;charset=utf-8;');\n    }\n\n    downloadMarkdown(filename) {\n      const name = (filename || this.opts.exporting.filename || 'vanillagrid') + '.md';\n      const { headers, rows } = this._exportMatrix();\n      const md = this._toMarkdown(headers, rows);\n      this._downloadBlob(md, name, 'text/markdown;charset=utf-8;');\n    }\n\n    // -------- Public: New Features API --------\n    \n    // Row management\n    addRow(rowData, index = -1) {\n      const newRow = { ...rowData };\n      this._assignIdsDeep([newRow]);\n      this._indexRowsDeep([newRow]);\n      \n      if (index >= 0 && index < this.data.length) {\n        this.data.splice(index, 0, newRow);\n      } else {\n        this.data.push(newRow);\n      }\n      \n      this._renderBody();\n      this._renderPager();\n      return newRow;\n    }\n\n    updateRow(rowId, newData) {\n      const row = this.rowById.get(rowId);\n      if (row) {\n        Object.assign(row, newData);\n        this._renderBody();\n        return row;\n      }\n      return null;\n    }\n\n    deleteRow(rowId) {\n      const index = this.data.findIndex(row => row.__vgid === rowId);\n      if (index > -1) {\n        const deleted = this.data.splice(index, 1)[0];\n        this.rowById.delete(rowId);\n        this.state.selected.delete(rowId);\n        this._renderBody();\n        this._renderPager();\n        return deleted;\n      }\n      return null;\n    }\n\n    // Column management\n    setColumnWidth(columnKey, width) {\n      this.state.columnWidths.set(columnKey, width);\n      this._renderHeader();\n    }\n\n    getColumnWidth(columnKey) {\n      return this.state.columnWidths.get(columnKey);\n    }\n\n    resetColumnWidths() {\n      this.state.columnWidths.clear();\n      this._renderHeader();\n    }\n\n    // Cell editing\n    startEdit(rowId, columnKey) {\n      const row = this.root.querySelector(`tr[data-rowid=\"${rowId}\"]`);\n      if (row) {\n        const cell = row.querySelector(`td[data-column-key=\"${columnKey}\"]`);\n        if (cell) {\n          this._startCellEdit(cell);\n          return true;\n        }\n      }\n      return false;\n    }\n\n    // Navigation and focus\n    focusCell(rowId, columnKey) {\n      const row = this.root.querySelector(`tr[data-rowid=\"${rowId}\"]`);\n      if (row) {\n        const cell = row.querySelector(`td[data-column-key=\"${columnKey}\"]`);\n        if (cell) {\n          cell.focus();\n          this.state.focusedCell = { rowId, columnKey };\n          return true;\n        }\n      }\n      return false;\n    }\n\n    // Custom cell type registration\n    registerCellType(typeName, renderFunction) {\n      this.opts.customCellTypes[typeName] = renderFunction;\n    }\n\n    unregisterCellType(typeName) {\n      delete this.opts.customCellTypes[typeName];\n    }\n\n    // -------- Public: Pivot Table API --------\n    \n    // Enable pivot mode with configuration\n    enablePivot(config = {}) {\n      if (!this.opts.pivotMode) {\n        // Backup original data and columns\n        this.state.originalData = this.data.slice();\n        this.state.originalColumns = this.columns.slice();\n      }\n      \n      this.opts.pivotMode = true;\n      this.opts.pivotConfig = {\n        rows: config.rows || [],\n        columns: config.columns || [],\n        values: config.values || [],\n        filters: config.filters || [],\n        aggregations: config.aggregations || {}\n      };\n      \n      this._generatePivotTable();\n      this._renderPivotToolbar();\n      this._renderHeader();\n      this._renderBody();\n      this._renderPager();\n      \n      if (this.opts.onPivotChange) {\n        this.opts.onPivotChange(this.state.pivotData, this.opts.pivotConfig);\n      }\n    }\n    \n    // Disable pivot mode and restore original data\n    disablePivot() {\n      if (this.state.originalData && this.state.originalColumns) {\n        this.data = this.state.originalData;\n        this.columns = this.state.originalColumns;\n        this.state.originalData = null;\n        this.state.originalColumns = null;\n      }\n      \n      this.opts.pivotMode = false;\n      this.state.pivotData = null;\n      \n      this._renderToolbar();\n      this._renderHeader();\n      this._renderBody();\n      this._renderPager();\n    }\n    \n    // Update pivot configuration\n    updatePivotConfig(config) {\n      if (!this.opts.pivotMode) return;\n      \n      Object.assign(this.opts.pivotConfig, config);\n      this._generatePivotTable();\n      this._updatePivotFieldLists(); // Update UI to show the fields\n      this._renderHeader();\n      this._renderBody();\n      \n      if (this.opts.onPivotChange) {\n        this.opts.onPivotChange(this.state.pivotData, this.opts.pivotConfig);\n      }\n    }\n    \n    // Get pivot table data\n    getPivotData() {\n      return this.state.pivotData;\n    }\n    \n    // Get available fields for pivot configuration\n    getAvailableFields() {\n      const originalData = this.state.originalData || this.data;\n      if (!originalData.length) return [];\n      \n      const sample = originalData[0];\n      return Object.keys(sample).filter(key => !key.startsWith('__vg'));\n    }\n\n    // ------------- Internal: Rendering ----------------\n    _render() {\n    this.root.innerHTML = `\n        <div class=\"vg-toolbar\"></div>\n        <div class=\"vg-table-wrap\">\n      <table class=\"vg-table\" role=\"table\" aria-label=\"${this._escAttr(this.opts.i18n.tableLabel)}\">\n            <thead></thead>\n            <tbody></tbody>\n          </table>\n        </div>\n        <div class=\"vg-pager\"></div>\n      `;\n\n      this.toolbarEl = this.root.querySelector('.vg-toolbar');\n      this.theadEl = this.root.querySelector('thead');\n      this.tbodyEl = this.root.querySelector('tbody');\n      this.pagerEl = this.root.querySelector('.vg-pager');\n      this.tableEl = this.root.querySelector('.vg-table');\n\n      this._renderToolbar();\n      this._renderHeader();\n      this._bindTableEvents();\n      this._bindMobileTouch();\n      this._bindKeyboardNavigation();\n      this._bindContextMenu();\n      // restore columns menu state if configured\n      this._restoreColumnsMenuState();\n      if (this._shouldRemoteFetch('init')) {\n        this._remoteLoad(1);\n      } else {\n        this._renderBody();\n        this._renderPager();\n      }\n      this._applyColumnVisibility();\n    }\n\n  /**\n   * Render the toolbar row (search, group-by, export, optional columns menu).\n   * This method is called frequently; keep it fast and avoid stacking listeners.\n   */\n  _renderToolbar() {\n      // If in pivot mode, render pivot toolbar instead\n      if (this.opts.pivotMode) {\n        this._renderPivotToolbar();\n        return;\n      }\n      \n      this._closeAllSettingsPanels();\n\n      const filterable = this.opts.filterable;\n      const groupable = this.opts.groupable;\n      const i18n = this.opts.i18n;\n      const pageSizes = this.opts.pageSizes;\n\n      const groupOptions = [`<option value=\"\">${this._esc(i18n.noGroup)}</option>`]\n        .concat(this.columns.map(c =>\n          `<option value=\"${this._esc(c.key)}\" ${this.state.groupBy === c.key ? 'selected' : ''}>${this._esc(i18n.groupByPrefix)} ${this._esc(c.label ?? c.key)}</option>`));\n\n      const exportBlock = (this.opts.exporting && this.opts.exporting.enabled)\n        ? `<div class=\"vg-export\">\n            <select class=\"vg-export-format\" aria-label=\"${this._escAttr(i18n.export.format)}\">\n              ${this.opts.exporting.formats.map(f => f === 'csv'\n                ? `<option value=\"csv\">${this._esc(i18n.export.csv)}</option>`\n                : `<option value=\"md\">${this._esc(i18n.export.markdown)}</option>`).join('')}\n            </select>\n            <button class=\"vg-export-btn\" type=\"button\" aria-label=\"${this._escAttr(i18n.export.button)}\" title=\"${this._escAttr(i18n.export.button)}\">${this._esc(i18n.export.button)}</button>\n          </div>`\n        : '';\n      const settingsMarkup = this._styleControlsMarkup();\n      const actionsMarkup = (exportBlock || settingsMarkup)\n        ? `<div class=\"vg-toolbar-actions\">\n            ${exportBlock}\n            ${settingsMarkup}\n          </div>`\n        : '';\n      // Columns menu may be rendered in pager or toolbar depending on config\n\n      const colMenuCfg = this._columnsMenuConfig();\n      const renderColumnsHere = colMenuCfg && colMenuCfg.location === 'toolbar';\n\n      this.toolbarEl.innerHTML = `\n        <div class=\"vg-toolbar-row\">\n          ${filterable ? `\n          <div class=\"vg-filter\">\n            <input type=\"text\" class=\"vg-filter-input\" placeholder=\"${this._escAttr(i18n.filterPlaceholder)}\" value=\"${this._escAttr(this.state.filter)}\" aria-label=\"${this._escAttr(i18n.filterPlaceholder)}\" />\n            <div class=\"vg-filter-mode\">\n              <div class=\"vg-filter-mode-btn\" aria-label=\"Filter mode\">\n                <span class=\"vg-filter-mode-current\">${this._esc(i18n.search[this.state.filterMode])}</span>\n              </div>\n              <div class=\"vg-filter-mode-dropdown\">\n                <div class=\"vg-filter-mode-option ${this.state.filterMode === 'simple' ? 'active' : ''}\" data-mode=\"simple\">\n                  ${this._esc(i18n.search.simple)}\n                </div>\n                <div class=\"vg-filter-mode-option ${this.state.filterMode === 'case-sensitive' ? 'active' : ''}\" data-mode=\"case-sensitive\">\n                  ${this._esc(i18n.search.caseSensitive)}\n                </div>\n                <div class=\"vg-filter-mode-option ${this.state.filterMode === 'regex' ? 'active' : ''}\" data-mode=\"regex\">\n                  ${this._esc(i18n.search.regex)}\n                </div>\n                <div class=\"vg-filter-mode-option ${this.state.filterMode === 'tree' ? 'active' : ''}\" data-mode=\"tree\">\n                  ${this._esc(i18n.search.treeFilter)}\n                </div>\n              </div>\n            </div>\n            ${this.state.regexError ? `<span class=\"vg-error\" title=\"${this._escAttr(this.state.regexError)}\">${this._esc(i18n.invalidRegex)}</span>` : ''}\n            ${this.state.filterMode === 'tree' ? this._renderTreeFilter() : ''}\n          </div>` : ''}\n          ${groupable ? `\n          <div class=\"vg-groupby\">\n            <select class=\"vg-group-select\" aria-label=\"${this._escAttr(i18n.groupByPrefix)}\">\n              ${groupOptions.join('')}\n            </select>\n          </div>` : ''}\n          ${renderColumnsHere ? this._columnsMenuMarkup(colMenuCfg) : ''}\n          ${actionsMarkup}\n        </div>\n      `;\n\n      // Events\n      const input = this.toolbarEl.querySelector('.vg-filter-input');\n      const modeBtn = this.toolbarEl.querySelector('.vg-filter-mode-btn');\n      const modeDropdown = this.toolbarEl.querySelector('.vg-filter-mode');\n      const selGroup = this.toolbarEl.querySelector('.vg-group-select');\n      // page size select moved to pager\n      const btnExport = this.toolbarEl.querySelector('.vg-export-btn');\n      const selExportFmt = this.toolbarEl.querySelector('.vg-export-format');\n      // column toggles may be in toolbar depending on config\n\n      if (input) {\n        input.oninput = () => {\n          // Add typing animation\n          input.style.transform = 'scale(1.02)';\n          setTimeout(() => {\n            input.style.transform = '';\n          }, 100);\n          \n          this._applyFilter();\n        };\n        \n        // Enhanced keyboard navigation\n        input.onkeydown = (e) => {\n          switch (e.key) {\n            case 'Escape':\n              input.value = '';\n              this._applyFilter();\n              break;\n            case 'ArrowDown':\n              if (this.state.filterMode === 'tree') {\n                e.preventDefault();\n                const treePanel = this.toolbarEl.querySelector('.vg-tree-filter-panel');\n                if (treePanel && treePanel.classList.contains('show')) {\n                  const firstColumn = treePanel.querySelector('.vg-tree-filter-column-name');\n                  if (firstColumn) firstColumn.focus();\n                }\n              }\n              break;\n            case 'F3':\n            case 'Enter':\n              if (e.ctrlKey || e.metaKey) {\n                // Cycle through search modes\n                e.preventDefault();\n                const modes = ['simple', 'case-sensitive', 'regex', 'tree'];\n                const currentIndex = modes.indexOf(this.state.filterMode);\n                const nextMode = modes[(currentIndex + 1) % modes.length];\n                this.state.filterMode = nextMode;\n                this.state.regexMode = nextMode === 'regex';\n                this._renderToolbar();\n                this._applyFilter();\n              }\n              break;\n          }\n        };\n        \n        // Add search suggestions on focus (for tree mode)\n        input.onfocus = () => {\n          if (this.state.filterMode === 'tree' && !input.value) {\n            // Show tree panel on focus if in tree mode\n            setTimeout(() => this._renderToolbar(), 100);\n          }\n        };\n      }\n      \n      // Filter mode dropdown (simple/CS/regex/tree)\n      if (modeBtn && modeDropdown) {\n        this._setupFilterModeDropdown(modeBtn, modeDropdown);\n      }\n      if (selGroup) {\n        selGroup.onchange = () => {\n          this.state.groupBy = selGroup.value || null;\n          this.state.page = 1;\n          this.state.collapsed.clear();\n          this._renderBody();\n          this._renderPager();\n        };\n      }\n      // no page size select in toolbar anymore\n      if (btnExport && selExportFmt) {\n        btnExport.onclick = () => {\n          const fmt = selExportFmt.value;\n          if (fmt === 'csv') this.downloadCSV();\n          else this.downloadMarkdown();\n        };\n      }\n      // bind column toggles if present in toolbar\n      if (renderColumnsHere) this._bindColumnsMenuEvents(this.toolbarEl);\n      this._bindStyleControls(this.toolbarEl);\n      \n      // Bind tree filter events if present (delegated, single handler)\n      this._bindTreeFilterEvents();\n    }\n\n    /**\n     * Setup filter mode dropdown interactions without stacking global listeners.\n     * @param {HTMLElement} modeBtn\n     * @param {HTMLElement} modeDropdown\n     */\n  /**\n   * Wire up filter mode dropdown interactions and a single outside-click handler.\n   * Re-entrant safe: replaces previous document handler via instance property.\n   * @param {HTMLElement} modeBtn\n   * @param {HTMLElement} modeDropdown\n   */\n  _setupFilterModeDropdown(modeBtn, modeDropdown) {\n      // Toggle dropdown\n      modeBtn.onclick = (e) => {\n        e.stopPropagation();\n        const isOpen = modeDropdown.classList.contains('open');\n        // Close all other open dropdowns first\n        document.querySelectorAll('.vg-filter-mode.open').forEach(d => {\n          if (d !== modeDropdown) d.classList.remove('open');\n        });\n        modeDropdown.classList.toggle('open');\n        if (!isOpen) {\n          setTimeout(() => {\n            const firstOption = modeDropdown.querySelector('.vg-filter-mode-option');\n            if (firstOption) firstOption.focus();\n          }, 100);\n        }\n      };\n\n      // Close dropdown when clicking outside — ensure only one document handler\n      if (this._onDocClickFilterMode) {\n        document.removeEventListener('click', this._onDocClickFilterMode);\n      }\n      this._onDocClickFilterMode = (e) => {\n        const target = e.target;\n        if (!modeDropdown.contains(target) && !modeBtn.contains(target)) {\n          modeDropdown.classList.remove('open');\n        }\n      };\n      document.addEventListener('click', this._onDocClickFilterMode);\n\n      // Keyboard navigation for dropdown\n      modeDropdown.addEventListener('keydown', (e) => {\n        const options = modeDropdown.querySelectorAll('.vg-filter-mode-option');\n        const currentIndex = Array.from(options).findIndex(o => o === document.activeElement);\n        switch (e.key) {\n          case 'ArrowDown':\n            e.preventDefault();\n            {\n              const nextIndex = (currentIndex + 1) % options.length;\n              options[nextIndex].focus();\n            }\n            break;\n          case 'ArrowUp':\n            e.preventDefault();\n            {\n              const prevIndex = (currentIndex - 1 + options.length) % options.length;\n              options[prevIndex].focus();\n            }\n            break;\n          case 'Enter':\n          case ' ':\n            e.preventDefault();\n            if (document.activeElement.classList.contains('vg-filter-mode-option')) {\n              document.activeElement.click();\n            }\n            break;\n          case 'Escape':\n            modeDropdown.classList.remove('open');\n            modeBtn.focus();\n            break;\n        }\n      });\n\n  // Handle mode selection and re-render toolbar accordingly\n      modeDropdown.addEventListener('click', (e) => {\n        const option = e.target.closest('.vg-filter-mode-option');\n        if (!option) return;\n        e.stopPropagation();\n        const newMode = option.dataset.mode;\n        // Selection animation\n        option.style.transform = 'scale(0.95)';\n        setTimeout(() => { option.style.transform = ''; }, 150);\n        this.state.filterMode = newMode;\n        this.state.regexMode = newMode === 'regex';\n        modeDropdown.classList.remove('open');\n        this._renderToolbar();\n        this._applyFilter();\n        // Focus back to input\n        setTimeout(() => {\n          const input = this.toolbarEl.querySelector('.vg-filter-input');\n          if (input) input.focus();\n        }, 100);\n      });\n\n      // Make options focusable for keyboard navigation\n      modeDropdown.querySelectorAll('.vg-filter-mode-option').forEach(option => {\n        option.setAttribute('tabindex', '0');\n      });\n    }\n\n    _styleControlsEnabled() {\n      const cfg = this.opts.styleControls;\n      if (cfg === false) return false;\n      if (cfg && typeof cfg.enabled === 'boolean') return cfg.enabled;\n      return true;\n    }\n\n    _normalizeThemeValue(theme) {\n      if (theme == null) return null;\n      const value = String(theme).trim().toLowerCase();\n      if (!value) return null;\n      return value === 'dark' ? 'dark-blue' : value;\n    }\n\n    _humanizeTheme(value) {\n      const normal = this._normalizeThemeValue(value) || '';\n      return normal.split(/[-_]/).filter(Boolean).map(part => part.charAt(0).toUpperCase() + part.slice(1)).join(' ') || 'Light';\n    }\n\n    _getThemeDefs() {\n      const cfg = this.opts.styleControls;\n      const custom = cfg && Array.isArray(cfg.themes) ? cfg.themes : null;\n      const source = (custom && custom.length ? custom : VG_STYLE_THEMES).map(def => ({\n        value: this._normalizeThemeValue(def && def.value != null ? def.value : def),\n        label: def && typeof def === 'object' && def.label ? String(def.label) : null,\n        dark: !!(def && typeof def === 'object' && def.dark)\n      }));\n      const seen = new Set();\n      const defs = [];\n      for (const def of source) {\n        if (!def.value || seen.has(def.value)) continue;\n        defs.push({\n          value: def.value,\n          label: def.label || this._humanizeTheme(def.value),\n          dark: def.dark\n        });\n        seen.add(def.value);\n      }\n      if (!seen.has('light')) {\n        defs.unshift({ value: 'light', label: 'Light', dark: false });\n      }\n      return defs;\n    }\n\n    _stylePersistKey() {\n      const cfg = this.opts.styleControls;\n      if (!cfg || cfg.persistKey === false) return null;\n      const key = typeof cfg.persistKey === 'string' ? cfg.persistKey.trim() : 'vanillagrid:style';\n      if (!key) return null;\n      // Namespace by container id if available to avoid collisions across unrelated grids when requested.\n      if (cfg && cfg.scope === 'instance') {\n        const suffix = this.container && this.container.id ? this.container.id : this._instanceId || (this._instanceId = Math.random().toString(36).slice(2));\n        return `${key}:${suffix}`;\n      }\n      return key;\n    }\n\n    _loadPersistedStyleState() {\n      const key = this._stylePersistKey();\n      if (!key || typeof window === 'undefined' || !window.localStorage) return null;\n      try {\n        const raw = window.localStorage.getItem(key);\n        if (!raw) return null;\n        const parsed = JSON.parse(raw);\n        if (parsed && typeof parsed === 'object') return parsed;\n      } catch (err) {\n        console.warn('[VanillaGrid] Failed to read persisted style state', err);\n      }\n      return null;\n    }\n\n    _persistStyleState() {\n      if (!this._styleControlsEnabled()) return;\n      const key = this._stylePersistKey();\n      if (!key || typeof window === 'undefined' || !window.localStorage) return;\n      try {\n        const payload = {\n          theme: this.styleState.theme,\n          density: this.styleState.density,\n          striped: !!this.styleState.striped,\n        };\n        window.localStorage.setItem(key, JSON.stringify(payload));\n      } catch (err) {\n        console.warn('[VanillaGrid] Failed to persist style state', err);\n      }\n    }\n\n    _extractThemeFromClassName() {\n      if (!this.root || !this.root.className) return null;\n      const match = String(this.root.className).match(/vg-theme-([a-z0-9-]+)/i);\n      return match ? this._normalizeThemeValue(match[1]) : null;\n    }\n\n    _initStyleState() {\n      const persisted = this._styleControlsEnabled() ? this._loadPersistedStyleState() : null;\n      const classTheme = this._extractThemeFromClassName();\n      const initialTheme = this._normalizeThemeValue((persisted && persisted.theme) || this.opts.theme || classTheme || VG_STYLE_DEFAULT_STATE.theme);\n      const densityOpt = (persisted && persisted.density) || this.opts.density || (this.root.classList.contains('vg-compact') ? 'compact' : VG_STYLE_DEFAULT_STATE.density);\n      const density = densityOpt === 'compact' ? 'compact' : 'comfortable';\n      const striped = (persisted && typeof persisted.striped === 'boolean') ? persisted.striped : (this.opts.striped || this.root.classList.contains('vg-striped'));\n\n      this.styleState = {\n        theme: initialTheme || 'light',\n        density,\n        striped: !!striped,\n      };\n\n      this._applyStyleState();\n      if (this._styleControlsEnabled()) {\n        this._persistStyleState();\n      }\n    }\n\n    _applyStyleState() {\n      if (!this.root) return;\n      const themeDefs = this._getThemeDefs();\n      const themeClassNames = themeDefs.map(def => `vg-theme-${def.value}`);\n      themeClassNames.push('vg-theme-light', 'vg-theme-dark', 'vg-theme-dark-base');\n      themeClassNames.forEach(cls => this.root.classList.remove(cls));\n\n      const themeValue = this.styleState.theme || 'light';\n      const matchedTheme = themeDefs.find(def => def.value === themeValue) || themeDefs.find(def => def.value === 'light');\n      const appliedTheme = matchedTheme ? matchedTheme.value : 'light';\n\n      if (appliedTheme === 'light') {\n        this.root.classList.add('vg-theme-light');\n      } else {\n        this.root.classList.add(`vg-theme-${appliedTheme}`);\n        if (matchedTheme && matchedTheme.dark) {\n          this.root.classList.add('vg-theme-dark-base');\n        }\n      }\n\n      this.root.classList.toggle('vg-compact', this.styleState.density === 'compact');\n      this.root.classList.toggle('vg-striped', !!this.styleState.striped);\n\n      this.opts.theme = appliedTheme;\n      this.opts.density = this.styleState.density;\n      this.opts.striped = !!this.styleState.striped;\n\n      this._syncStyleControlsUI();\n    }\n\n    _updateStyleState(partial) {\n      const next = Object.assign({}, this.styleState || VG_STYLE_DEFAULT_STATE, partial);\n      next.theme = this._normalizeThemeValue(next.theme) || 'light';\n      next.density = next.density === 'compact' ? 'compact' : 'comfortable';\n      next.striped = !!next.striped;\n      this.styleState = next;\n      this._applyStyleState();\n      if (this._styleControlsEnabled()) this._persistStyleState();\n    }\n\n    _styleControlsMarkup() {\n      if (!this._styleControlsEnabled()) return '';\n      const themes = this._getThemeDefs();\n      const currentTheme = this.styleState?.theme || 'light';\n      const themeOptions = themes.map(def =>\n        `<option value=\"${this._escAttr(def.value)}\"${def.value === currentTheme ? ' selected' : ''}>${this._esc(def.label)}</option>`\n      ).join('');\n      const density = this.styleState?.density === 'compact' ? 'compact' : 'comfortable';\n      const striped = !!this.styleState?.striped;\n      const persistKey = this._stylePersistKey();\n\n      return `<div class=\"vg-settings\">\n        <button class=\"vg-btn vg-settings-btn\" type=\"button\" aria-haspopup=\"true\" aria-expanded=\"false\">⚙ Settings</button>\n        <div class=\"vg-settings-panel\" role=\"menu\">\n          <div class=\"vg-settings-group\">\n            <label>Theme</label>\n            <select class=\"vg-settings-theme\">\n              ${themeOptions}\n            </select>\n          </div>\n          <div class=\"vg-settings-group\">\n            <label>Density</label>\n            <select class=\"vg-settings-density\">\n              <option value=\"comfortable\"${density === 'comfortable' ? ' selected' : ''}>Comfortable</option>\n              <option value=\"compact\"${density === 'compact' ? ' selected' : ''}>Compact</option>\n            </select>\n          </div>\n          <div class=\"vg-settings-group\">\n            <label class=\"vg-settings-checkbox\">\n              <input type=\"checkbox\" class=\"vg-settings-striped\"${striped ? ' checked' : ''} />\n              <span>Striped rows</span>\n            </label>\n          </div>\n          ${persistKey ? '<div class=\"vg-settings-divider\"></div><div class=\"vg-settings-meta\">Saved for this browser.</div>' : ''}\n        </div>\n      </div>`;\n    }\n\n    _bindStyleControls(container) {\n      if (!this._styleControlsEnabled() || !container) return;\n      const wrappers = container.querySelectorAll('.vg-settings');\n      if (!wrappers.length) return;\n\n      wrappers.forEach(wrapper => {\n        const btn = wrapper.querySelector('.vg-settings-btn');\n        const panel = wrapper.querySelector('.vg-settings-panel');\n        if (!btn || !panel) return;\n\n        const closeCurrent = () => {\n          panel.classList.remove('open');\n          btn.setAttribute('aria-expanded', 'false');\n          if (!this.root.querySelector('.vg-settings-panel.open')) {\n            this._detachSettingsDocHandler();\n          }\n        };\n\n        btn.onclick = (event) => {\n          event.preventDefault();\n          event.stopPropagation();\n          const isOpen = panel.classList.contains('open');\n          if (isOpen) {\n            closeCurrent();\n          } else {\n            this._closeAllSettingsPanels(wrapper);\n            panel.classList.add('open');\n            btn.setAttribute('aria-expanded', 'true');\n            this._ensureSettingsDocHandler();\n          }\n        };\n\n        panel.onclick = (event) => event.stopPropagation();\n        panel.onkeydown = (event) => {\n          if (event.key === 'Escape') {\n            closeCurrent();\n            btn.focus();\n          }\n        };\n\n        const themeSelect = panel.querySelector('.vg-settings-theme');\n        if (themeSelect) {\n          themeSelect.onchange = (event) => {\n            this._updateStyleState({ theme: this._normalizeThemeValue(event.target.value) || 'light' });\n          };\n        }\n\n        const densitySelect = panel.querySelector('.vg-settings-density');\n        if (densitySelect) {\n          densitySelect.onchange = (event) => {\n            this._updateStyleState({ density: event.target.value === 'compact' ? 'compact' : 'comfortable' });\n          };\n        }\n\n        const stripedToggle = panel.querySelector('.vg-settings-striped');\n        if (stripedToggle) {\n          stripedToggle.onchange = (event) => {\n            this._updateStyleState({ striped: !!event.target.checked });\n          };\n        }\n      });\n\n      this._syncStyleControlsUI();\n    }\n\n    _closeAllSettingsPanels(except) {\n      const wrappers = this.root ? this.root.querySelectorAll('.vg-settings') : [];\n      wrappers.forEach(wrapper => {\n        if (except && wrapper === except) return;\n        const btn = wrapper.querySelector('.vg-settings-btn');\n        const panel = wrapper.querySelector('.vg-settings-panel');\n        if (panel) panel.classList.remove('open');\n        if (btn) btn.setAttribute('aria-expanded', 'false');\n      });\n      if (!this.root || !this.root.querySelector('.vg-settings-panel.open')) {\n        this._detachSettingsDocHandler();\n      }\n    }\n\n    _ensureSettingsDocHandler() {\n      if (this._onDocClickSettings) return;\n      this._onDocClickSettings = (event) => {\n        if (!this.root) return;\n        if (!this.root.contains(event.target) || !event.target.closest('.vg-settings')) {\n          this._closeAllSettingsPanels();\n        }\n      };\n      document.addEventListener('click', this._onDocClickSettings);\n    }\n\n    _detachSettingsDocHandler() {\n      if (!this._onDocClickSettings) return;\n      document.removeEventListener('click', this._onDocClickSettings);\n      this._onDocClickSettings = null;\n    }\n\n    _syncStyleControlsUI() {\n      if (!this._styleControlsEnabled() || !this.root || !this.styleState) return;\n      const wrappers = this.root.querySelectorAll('.vg-settings');\n      wrappers.forEach(wrapper => {\n        const themeSelect = wrapper.querySelector('.vg-settings-theme');\n        if (themeSelect && themeSelect.value !== (this.styleState.theme || 'light')) {\n          const targetValue = this.styleState.theme || 'light';\n          if (Array.from(themeSelect.options).some(opt => opt.value === targetValue)) {\n            themeSelect.value = targetValue;\n          }\n        }\n        const densitySelect = wrapper.querySelector('.vg-settings-density');\n        if (densitySelect) densitySelect.value = this.styleState.density === 'compact' ? 'compact' : 'comfortable';\n        const stripedToggle = wrapper.querySelector('.vg-settings-striped');\n        if (stripedToggle) stripedToggle.checked = !!this.styleState.striped;\n      });\n    }\n\n    _applyFilter() {\n      const input = this.toolbarEl.querySelector('.vg-filter-input');\n      if (!input) return;\n      \n      const filterText = input.value;\n      const mode = this.state.filterMode;\n      \n      if (mode === 'regex') {\n        this.setFilter(filterText, { regexMode: true });\n      } else if (mode === 'tree') {\n        // Tree filter uses different logic\n        this.state.filter = filterText;\n        this.state.page = 1;\n        this._renderBody();\n        this._renderPager();\n      } else {\n        // simple or case-sensitive\n        this.setFilter(filterText, { regexMode: false, caseSensitive: mode === 'case-sensitive' });\n      }\n    }\n\n  /**\n   * Render the Tree/Filter panel. Shows columns where values have repetitions\n   * (unique-only columns are hidden), and for each column lists top values by\n   * frequency. Clicking a value writes `column:\"value\"` into the search box.\n   */\n  _renderTreeFilter() {\n      if (this.state.filterMode !== 'tree') return '';\n      \n  // Build value frequency map per column\n  const columnStats = this._getColumnValueStats();\n      const tree = Object.entries(columnStats)\n        .filter(([colKey, values]) => {\n          // Hide columns where all values are unique (count = 1 for all values)\n          const valueCounts = Object.values(values);\n          const hasNonUniqueValues = valueCounts.some(count => count > 1);\n          return hasNonUniqueValues;\n        })\n        .map(([colKey, values]) => {\n          const col = this.columns.find(c => c.key === colKey);\n          const label = col ? (col.label || col.key) : colKey;\n          const isExpanded = this.state.treeFilterExpanded.has(colKey);\n          \n          const valueItems = Object.entries(values)\n            .filter(([, count]) => count > 1) // show values with repetitions only\n            .sort(([,a], [,b]) => b - a) // sort by frequency descending\n            .slice(0, 10) // top N values (tunable)\n            .map(([value, count]) => \n              `<div class=\"vg-tree-filter-value\" data-column=\"${colKey}\" data-value=\"${this._escAttr(value)}\">\n                <span class=\"vg-tree-filter-value-text\">${this._esc(String(value))}</span>\n                <span class=\"vg-tree-filter-value-count\">${count}</span>\n              </div>`\n            ).join('');\n          \n          return `<div class=\"vg-tree-filter-column ${isExpanded ? 'expanded' : ''}\">\n            <div class=\"vg-tree-filter-column-name\" data-column=\"${colKey}\">\n              ${this._esc(label)}\n            </div>\n            <div class=\"vg-tree-filter-values\">${valueItems}</div>\n          </div>`;\n        }).join('');\n      \n      return `<div class=\"vg-tree-filter-panel show\">\n        <div class=\"vg-tree-filter-header\">Explore Data by Column Values</div>\n        ${tree}\n      </div>`;\n    }\n\n  /**\n   * Compute value counts for each configured column across the current dataset.\n   * Empty/undefined values are grouped under the literal \"(empty)\" key.\n   * @returns {Record<string, Record<string, number>>}\n   */\n  _getColumnValueStats() {\n      const stats = {};\n      \n      this.columns.forEach(col => {\n        stats[col.key] = {};\n      });\n      \n      this.data.forEach(row => {\n        this.columns.forEach(col => {\n          const value = row[col.key];\n          const key = String(value || '(empty)');\n          if (!stats[col.key][key]) stats[col.key][key] = 0;\n          stats[col.key][key]++;\n        });\n      });\n      \n      return stats;\n    }\n\n    /**\n     * Bind delegated click handlers for the Tree/Filter UI.\n     * Ensures only one listener is attached per toolbar render.\n     */\n    _bindTreeFilterEvents() {\n      if (!this.toolbarEl) return;\n      // Avoid stacking multiple listeners across re-renders\n      if (this._onToolbarTreeClick) {\n        this.toolbarEl.removeEventListener('click', this._onToolbarTreeClick);\n      }\n      this._onToolbarTreeClick = (e) => {\n        // Column expand/collapse\n        const colHeader = e.target.closest('.vg-tree-filter-column-name');\n        if (colHeader) {\n          const column = colHeader.dataset.column;\n          const columnDiv = colHeader.closest('.vg-tree-filter-column');\n          if (this.state.treeFilterExpanded.has(column)) {\n            this.state.treeFilterExpanded.delete(column);\n            if (columnDiv) columnDiv.classList.remove('expanded');\n          } else {\n            this.state.treeFilterExpanded.add(column);\n            if (columnDiv) columnDiv.classList.add('expanded');\n          }\n          return;\n        }\n        // Value click\n        const valueEl = e.target.closest('.vg-tree-filter-value');\n        if (valueEl) {\n          const column = valueEl.dataset.column;\n          const value = valueEl.dataset.value;\n          const input = this.toolbarEl.querySelector('.vg-filter-input');\n          if (input) {\n            input.value = `${column}:\"${value}\"`;\n            this._applyFilter();\n            // Close tree filter panel but keep tree mode active\n            const treePanel = this.toolbarEl.querySelector('.vg-tree-filter-panel');\n            if (treePanel) treePanel.classList.remove('show');\n            // Focus back to input for immediate editing\n            setTimeout(() => {\n              input.focus();\n              input.setSelectionRange(input.value.length, input.value.length);\n            }, 100);\n          }\n        }\n      };\n      this.toolbarEl.addEventListener('click', this._onToolbarTreeClick);\n    }\n\n    _columnsMenuConfig() {\n      if (this.opts.columnsMenu === false) return null;\n      const defaults = {\n        location: 'pager', // 'pager' | 'toolbar'\n        label: 'Columns',\n        showSearch: false,\n        showSelectAll: true,\n        include: null,\n        exclude: null,\n        persistKey: null,\n        initialHidden: null,\n      };\n      const cfg = (this.opts.columnsMenu === true) ? {} : (this.opts.columnsMenu || {});\n      return Object.assign({}, defaults, cfg);\n    }\n\n    _columnsMenuMarkup(cfg) {\n      const label = cfg.label || 'Columns';\n      const includeSet = cfg.include ? new Set(cfg.include) : null;\n      const excludeSet = cfg.exclude ? new Set(cfg.exclude) : null;\n      const cols = this.columns.filter(c => {\n        if (includeSet && !includeSet.has(c.key)) return false;\n        if (excludeSet && excludeSet.has(c.key)) return false;\n        return true;\n      });\n      const items = cols.map(c => {\n        const hidden = this.state.hiddenCols.has(c.key);\n        return `<label style=\"display:flex;gap:6px;align-items:center;padding:4px 2px;\">\n          <input type=\"checkbox\" data-col-toggle value=\"${this._escAttr(c.key)}\" ${hidden ? '' : 'checked'} />\n          <span>${this._esc(c.label ?? c.key)}</span>\n        </label>`;\n      }).join('');\n      const search = cfg.showSearch ? `<input type=\"text\" class=\"vg-cols-search\" placeholder=\"Search columns\" style=\"width:100%;padding:6px 8px;border:1px solid var(--vg-border);border-radius:6px;\" />` : '';\n      const selectAll = cfg.showSelectAll ? `<label style=\"display:flex;gap:6px;align-items:center;padding:4px 2px;\">\n        <input type=\"checkbox\" class=\"vg-cols-selectall\" ${this._allVisible(cols) ? 'checked' : ''} />\n        <span>Select all</span>\n      </label>` : '';\n      return `\n        <details class=\"vg-cols\">\n          <summary class=\"vg-btn\" aria-haspopup=\"true\">${this._esc(label)}</summary>\n          <div class=\"vg-cols-list\" role=\"menu\">\n            ${search}\n            ${selectAll}\n            <div class=\"vg-cols-items\">${items}</div>\n          </div>\n        </details>`;\n    }\n\n    _allVisible(cols) {\n      return cols.every(c => !this.state.hiddenCols.has(c.key));\n    }\n\n    _bindColumnsMenuEvents(scopeEl) {\n      const list = scopeEl.querySelector('.vg-cols-list');\n      if (!list) return;\n      const itemsWrap = list.querySelector('.vg-cols-items') || list;\n      const toggles = itemsWrap.querySelectorAll('input[data-col-toggle]');\n      toggles.forEach(chk => {\n        chk.onchange = () => {\n          const key = chk.value;\n          if (chk.checked) this.state.hiddenCols.delete(key);\n          else this.state.hiddenCols.add(key);\n          this._applyColumnVisibility();\n          if (typeof this.opts.onColumnsVisibilityChange === 'function') {\n            this.opts.onColumnsVisibilityChange(new Set(this.state.hiddenCols));\n          }\n          this._persistColumnsMenuState();\n        };\n      });\n      const selAll = list.querySelector('.vg-cols-selectall');\n      if (selAll) {\n        selAll.onchange = () => {\n          const check = selAll.checked;\n          (this.columns || []).forEach(c => {\n            if (check) this.state.hiddenCols.delete(c.key);\n            else this.state.hiddenCols.add(c.key);\n          });\n          this._applyColumnVisibility();\n          if (typeof this.opts.onColumnsVisibilityChange === 'function') {\n            this.opts.onColumnsVisibilityChange(new Set(this.state.hiddenCols));\n          }\n          this._persistColumnsMenuState();\n          // reflect in checkboxes\n          itemsWrap.querySelectorAll('input[data-col-toggle]').forEach(cb => { cb.checked = check; });\n        };\n      }\n      const search = list.querySelector('.vg-cols-search');\n      if (search) {\n        search.oninput = () => {\n          const q = search.value.toLowerCase();\n          itemsWrap.querySelectorAll('label').forEach(lab => {\n            const txt = lab.textContent.toLowerCase();\n            lab.style.display = txt.includes(q) ? '' : 'none';\n          });\n        };\n      }\n    }\n\n    _persistColumnsMenuState() {\n      const cfg = this._columnsMenuConfig();\n      if (cfg && cfg.persistKey) {\n        try {\n          const arr = Array.from(this.state.hiddenCols);\n          localStorage.setItem(`vg:hiddenCols:${cfg.persistKey}`, JSON.stringify(arr));\n        } catch {}\n      }\n    }\n\n    _restoreColumnsMenuState() {\n      const cfg = this._columnsMenuConfig();\n      if (!cfg) return;\n      if (cfg.persistKey) {\n        try {\n          const raw = localStorage.getItem(`vg:hiddenCols:${cfg.persistKey}`);\n          if (raw) {\n            const arr = JSON.parse(raw);\n            this.state.hiddenCols = new Set(Array.isArray(arr) ? arr : []);\n            return;\n          }\n        } catch {}\n      }\n      if (Array.isArray(cfg.initialHidden)) {\n        this.state.hiddenCols = new Set(cfg.initialHidden);\n      }\n    }\n\n    _renderHeader() {\n      const { sortKey, sortDir } = this.state;\n      const head = document.createElement('tr');\n      // Selection header cell\n      if (this.opts.selectable) {\n        const thSel = document.createElement('th');\n        thSel.className = 'vg-th';\n        const cb = document.createElement('input');\n        cb.type = 'checkbox';\n        cb.className = 'vg-select-all';\n        // Set state from current page\n        const pageIds = this._currentPageRowIds();\n        const selectedOnPage = pageIds.filter(id => this.state.selected.has(id));\n        cb.checked = pageIds.length > 0 && selectedOnPage.length === pageIds.length;\n        cb.indeterminate = selectedOnPage.length > 0 && selectedOnPage.length < pageIds.length;\n        cb.onchange = () => {\n          const ids = this._currentPageRowIds();\n          if (cb.checked) ids.forEach(id => this.state.selected.add(id));\n          else ids.forEach(id => this.state.selected.delete(id));\n          this._renderBody();\n          this._renderHeader();\n          this._emitSelection();\n        };\n        thSel.appendChild(cb);\n        head.appendChild(thSel);\n      }\n      this.columns.forEach((col, idx) => {\n        const th = document.createElement('th');\n        th.setAttribute('role', 'columnheader');\n        th.tabIndex = 0;\n        th.dataset.key = col.key;\n        th.className = 'vg-th';\n        \n        // Apply custom width if set\n        if (this.state.columnWidths.has(col.key)) {\n          th.style.width = this.state.columnWidths.get(col.key) + 'px';\n        }\n        \n        if (this.opts.sortable && (col.sortable !== false)) {\n          th.classList.add('vg-sortable');\n          if (sortKey === col.key) th.classList.add(sortDir === 'asc' ? 'vg-asc' : 'vg-desc');\n        }\n        let label = this._esc(col.label ?? col.key);\n        if (this.opts.tree.enabled && idx === 0) {\n          label = `<span class=\"vg-tree-th-pad\"></span>${label}`;\n        }\n        th.innerHTML = `<span class=\"vg-th-text\">${label}</span>`;\n        \n        // Add resize handle for resizable columns\n        if (this.opts.resizableColumns && idx < this.columns.length - 1) {\n          const resizeHandle = document.createElement('div');\n          resizeHandle.className = 'vg-resize-handle';\n          resizeHandle.dataset.columnKey = col.key;\n          th.appendChild(resizeHandle);\n        }\n        \n        if (this.opts.sortable && (col.sortable !== false)) {\n          th.setAttribute('aria-sort', (sortKey === col.key) ? (sortDir === 'asc' ? 'ascending' : 'descending') : 'none');\n        }\n        head.appendChild(th);\n      });\n      this.theadEl.innerHTML = '';\n      this.theadEl.appendChild(head);\n\n      // Header sort events\n      this.theadEl.querySelectorAll('.vg-th.vg-sortable').forEach(th => {\n        th.onclick = (e) => {\n          // Don't sort if clicking on resize handle\n          if (e.target.closest('.vg-resize-handle')) return;\n          \n          const key = th.dataset.key;\n          if (this.state.sortKey === key) {\n            this.state.sortDir = this.state.sortDir === 'asc' ? 'desc' : 'asc';\n          } else {\n            this.state.sortKey = key;\n            this.state.sortDir = 'asc';\n          }\n          this._renderHeader();\n          if (this._shouldRemoteFetch('sort')) this._remoteLoad(1);\n          else this._renderBody();\n        };\n        th.onkeydown = (e) => {\n          if (e.key === 'Enter' || e.key === ' ') { e.preventDefault(); th.click(); }\n        };\n      });\n      \n      // Column resize events\n      if (this.opts.resizableColumns) {\n        this._bindColumnResize();\n      }\n    }\n\n    _bindTableEvents() {\n      // Button clicks via delegation\n      this.tableEl.addEventListener('click', (e) => {\n        const btn = e.target.closest('.vg-btn');\n        if (btn) {\n          const id = btn.dataset.rowid;\n          const colKey = btn.dataset.colkey;\n          const row = this.rowById.get(Number(id));\n          const col = this.columns.find(c => c.key === colKey);\n          if (row && col && col.button && typeof col.button.onClick === 'function') {\n            col.button.onClick(row, btn);\n          }\n        }\n\n        // Toggle group collapse\n        const grp = e.target.closest('.vg-group-header');\n        if (grp) {\n          const gval = grp.dataset.groupValue;\n          if (this.state.collapsed.has(gval)) this.state.collapsed.delete(gval);\n          else this.state.collapsed.add(gval);\n          // just toggle the next sibling rows with data-group\n          const rows = this.tbodyEl.querySelectorAll(`tr[data-group=\"${CSS.escape(gval)}\"]`);\n          const collapsed = this.state.collapsed.has(gval);\n          rows.forEach(r => r.style.display = collapsed ? 'none' : '');\n          grp.classList.toggle('is-collapsed', collapsed);\n          grp.setAttribute('aria-expanded', collapsed ? 'false' : 'true');\n        }\n\n        // Tree expand/collapse\n        const tog = e.target.closest('.vg-tree-toggle');\n        if (tog) {\n          const id = Number(tog.dataset.rowid);\n          const row = this.rowById.get(id);\n          if (!row) return;\n          const isExpanded = this.state.expanded.has(id);\n          if (isExpanded) {\n            this.state.expanded.delete(id);\n            this._renderBody();\n          } else {\n            const needLazy = this.opts.tree.enabled && this.opts.tree.lazy && !this._rowHasChildren(row) && this._rowPotentialChildren(row) && (typeof this.opts.loadChildren === 'function');\n            if (needLazy) {\n              this.state.loadingChildren.add(id);\n              this._renderBody();\n              Promise.resolve()\n                .then(() => this.opts.loadChildren(row))\n                .then(children => {\n                  const key = this.opts.tree.childrenKey;\n                  row[key] = Array.isArray(children) ? children : [];\n                  this._assignIdsDeep(row[key]);\n                  this._indexRowsDeep(row[key]);\n                })\n                .finally(() => {\n                  this.state.loadingChildren.delete(id);\n                  this.state.expanded.add(id);\n                  this._renderBody();\n                });\n            } else {\n              this.state.expanded.add(id);\n              this._renderBody();\n            }\n          }\n        }\n      });\n    }\n\n    // Column resize functionality\n    _bindColumnResize() {\n      this.theadEl.querySelectorAll('.vg-resize-handle').forEach(handle => {\n        handle.addEventListener('mousedown', (e) => {\n          e.preventDefault();\n          e.stopPropagation();\n          \n          const columnKey = handle.dataset.columnKey;\n          const th = handle.closest('th');\n          const startX = e.clientX;\n          const startWidth = th.offsetWidth;\n          \n          const onMouseMove = (e) => {\n            const newWidth = Math.max(50, startWidth + (e.clientX - startX));\n            this.state.columnWidths.set(columnKey, newWidth);\n            th.style.width = newWidth + 'px';\n          };\n          \n          const onMouseUp = () => {\n            document.removeEventListener('mousemove', onMouseMove);\n            document.removeEventListener('mouseup', onMouseUp);\n            document.body.classList.remove('vg-resizing');\n          };\n          \n          document.addEventListener('mousemove', onMouseMove);\n          document.addEventListener('mouseup', onMouseUp);\n          document.body.classList.add('vg-resizing');\n        });\n      });\n    }\n\n    // Mobile touch enhancements\n    _bindMobileTouch() {\n      if (!('ontouchstart' in window)) return; // Not a touch device\n      \n      let touchState = {\n        startX: 0,\n        startY: 0,\n        threshold: 50,\n        scrolling: false,\n        swiping: false\n      };\n      \n      // Horizontal swipe on table wrapper for pagination\n      const tableWrap = this.root.querySelector('.vg-table-wrap');\n      if (tableWrap) {\n        tableWrap.addEventListener('touchstart', (e) => {\n          touchState.startX = e.touches[0].clientX;\n          touchState.startY = e.touches[0].clientY;\n          touchState.scrolling = false;\n          touchState.swiping = false;\n        }, { passive: true });\n        \n        tableWrap.addEventListener('touchmove', (e) => {\n          if (touchState.swiping) return;\n          \n          const deltaX = Math.abs(e.touches[0].clientX - touchState.startX);\n          const deltaY = Math.abs(e.touches[0].clientY - touchState.startY);\n          \n          // Determine if this is vertical scrolling\n          if (deltaY > deltaX && deltaY > 10) {\n            touchState.scrolling = true;\n          }\n        }, { passive: true });\n        \n        tableWrap.addEventListener('touchend', (e) => {\n          if (touchState.scrolling || touchState.swiping) return;\n          \n          const deltaX = e.changedTouches[0].clientX - touchState.startX;\n          const deltaY = Math.abs(e.changedTouches[0].clientY - touchState.startY);\n          \n          // Only trigger swipe if horizontal movement is significant and vertical is minimal\n          if (Math.abs(deltaX) > touchState.threshold && deltaY < 30) {\n            touchState.swiping = true;\n            \n            // Swipe left = next page, swipe right = prev page\n            if (deltaX < -touchState.threshold && this.opts.pagination) {\n              this._nextPage();\n            } else if (deltaX > touchState.threshold && this.opts.pagination) {\n              this._prevPage();\n            }\n          }\n        }, { passive: true });\n      }\n      \n      // Touch feedback for interactive elements\n      this.root.addEventListener('touchstart', (e) => {\n        const btn = e.target.closest('button, .vg-btn, .vg-sortable, .vg-group-header, .vg-tree-toggle');\n        if (btn) {\n          btn.classList.add('vg-touch-active');\n        }\n      }, { passive: true });\n      \n      this.root.addEventListener('touchend', (e) => {\n        // Remove touch feedback\n        this.root.querySelectorAll('.vg-touch-active').forEach(el => {\n          el.classList.remove('vg-touch-active');\n        });\n      }, { passive: true });\n      \n      // Improved dropdown handling for mobile\n      this._bindMobileDropdowns();\n    }\n    \n    _bindMobileDropdowns() {\n      // Make dropdowns work better on mobile by improving touch handling\n      this.root.addEventListener('touchend', (e) => {\n        const option = e.target.closest('.vg-filter-mode-option, .vg-tree-filter-value');\n        if (option) {\n          // Prevent ghost clicks\n          e.preventDefault();\n          option.click();\n        }\n      });\n      \n      // Auto-close dropdowns when scrolling on mobile\n      let scrollTimer;\n      window.addEventListener('scroll', () => {\n        clearTimeout(scrollTimer);\n        scrollTimer = setTimeout(() => {\n          // Close any open dropdowns after scroll ends\n          const openDropdowns = this.root.querySelectorAll('.vg-filter-mode.open');\n          openDropdowns.forEach(dropdown => {\n            dropdown.classList.remove('open');\n          });\n        }, 150);\n      }, { passive: true });\n    }\n    \n    // Helper methods for touch pagination\n    _nextPage() {\n      if (this.state.page < this._totalPages()) {\n        this.state.page++;\n        this._renderBody();\n        this._renderPager();\n      }\n    }\n    \n    _prevPage() {\n      if (this.state.page > 1) {\n        this.state.page--;\n        this._renderBody();\n        this._renderPager();\n      }\n    }\n\n    // Keyboard navigation functionality\n    _bindKeyboardNavigation() {\n      if (!this.opts.keyboardNavigation) return;\n      \n      this.tableEl.addEventListener('keydown', (e) => {\n        const cell = e.target.closest('td, th');\n        if (!cell) return;\n        \n        const row = cell.closest('tr');\n        const cells = Array.from(row.children);\n        const rows = Array.from(this.tbodyEl.children);\n        \n        let currentCellIndex = cells.indexOf(cell);\n        let currentRowIndex = rows.indexOf(row);\n        \n        switch (e.key) {\n          case 'ArrowRight':\n            e.preventDefault();\n            if (currentCellIndex < cells.length - 1) {\n              cells[currentCellIndex + 1].focus();\n            }\n            break;\n          case 'ArrowLeft':\n            e.preventDefault();\n            if (currentCellIndex > 0) {\n              cells[currentCellIndex - 1].focus();\n            }\n            break;\n          case 'ArrowDown':\n            e.preventDefault();\n            if (currentRowIndex < rows.length - 1) {\n              const nextRowCells = Array.from(rows[currentRowIndex + 1].children);\n              if (nextRowCells[currentCellIndex]) {\n                nextRowCells[currentCellIndex].focus();\n              }\n            }\n            break;\n          case 'ArrowUp':\n            e.preventDefault();\n            if (currentRowIndex > 0) {\n              const prevRowCells = Array.from(rows[currentRowIndex - 1].children);\n              if (prevRowCells[currentCellIndex]) {\n                prevRowCells[currentCellIndex].focus();\n              }\n            }\n            break;\n          case 'Enter':\n          case 'F2':\n            if (this.opts.editableRows) {\n              e.preventDefault();\n              this._startCellEdit(cell);\n            }\n            break;\n        }\n      });\n    }\n\n    // Inline editing functionality\n    _startCellEdit(cell) {\n      const row = cell.closest('tr');\n      const rowId = Number(row.dataset.rowid);\n      const columnKey = cell.dataset.columnKey;\n      const rowData = this.rowById.get(rowId);\n      \n      if (!rowData || !columnKey) return;\n      \n      const column = this.columns.find(c => c.key === columnKey);\n      if (!column || column.type === 'button' || column.type === 'image') return;\n      \n      this.state.editingCell = { rowId, columnKey };\n      \n      const currentValue = rowData[columnKey] || '';\n      const input = document.createElement('input');\n      input.type = column.type === 'number' ? 'number' : 'text';\n      input.value = currentValue;\n      input.className = 'vg-edit-input';\n      \n      cell.innerHTML = '';\n      cell.appendChild(input);\n      input.focus();\n      input.select();\n      \n      const finishEdit = (save = false) => {\n        const newValue = save ? input.value : currentValue;\n        if (save && newValue !== currentValue) {\n          const oldValue = rowData[columnKey];\n          rowData[columnKey] = column.type === 'number' ? Number(newValue) : newValue;\n          if (this.opts.onRowEdit) {\n            this.opts.onRowEdit(rowData, columnKey, newValue, oldValue);\n          }\n        }\n        this.state.editingCell = null;\n        this._renderBody();\n      };\n      \n      input.addEventListener('blur', () => finishEdit(true));\n      input.addEventListener('keydown', (e) => {\n        if (e.key === 'Enter') {\n          e.preventDefault();\n          finishEdit(true);\n        } else if (e.key === 'Escape') {\n          e.preventDefault();\n          finishEdit(false);\n        }\n      });\n    }\n\n    // Context menu functionality\n    _bindContextMenu() {\n      if (!this.opts.contextMenu) return;\n      \n      this.tableEl.addEventListener('contextmenu', (e) => {\n        const row = e.target.closest('tr[data-rowid]');\n        if (!row) return;\n        \n        e.preventDefault();\n        const rowId = Number(row.dataset.rowid);\n        const rowData = this.rowById.get(rowId);\n        \n        this._showContextMenu(e.clientX, e.clientY, rowData);\n      });\n    }\n\n    _showContextMenu(x, y, rowData) {\n      // Remove existing context menu\n      const existing = document.querySelector('.vg-context-menu');\n      if (existing) existing.remove();\n      \n      const menu = document.createElement('div');\n      menu.className = 'vg-context-menu';\n      menu.style.position = 'fixed';\n      menu.style.left = x + 'px';\n      menu.style.top = y + 'px';\n      menu.style.zIndex = '10000';\n      \n      const menuItems = [\n        { label: 'Copy Row', action: () => this._copyRowToClipboard(rowData) },\n        { label: 'Edit Row', action: () => console.log('Edit:', rowData) },\n        { label: 'Delete Row', action: () => this._deleteRow(rowData) }\n      ];\n      \n      menuItems.forEach(item => {\n        const menuItem = document.createElement('div');\n        menuItem.className = 'vg-context-menu-item';\n        menuItem.textContent = item.label;\n        menuItem.onclick = () => {\n          item.action();\n          menu.remove();\n        };\n        menu.appendChild(menuItem);\n      });\n      \n      document.body.appendChild(menu);\n      \n      // Close menu when clicking outside\n      const closeMenu = (e) => {\n        if (!menu.contains(e.target)) {\n          menu.remove();\n          document.removeEventListener('click', closeMenu);\n        }\n      };\n      setTimeout(() => document.addEventListener('click', closeMenu), 0);\n    }\n\n    _copyRowToClipboard(rowData) {\n      const text = this.columns.map(col => rowData[col.key] || '').join('\\t');\n      navigator.clipboard?.writeText(text).catch(() => {\n        // Fallback for older browsers\n        const textarea = document.createElement('textarea');\n        textarea.value = text;\n        document.body.appendChild(textarea);\n        textarea.select();\n        document.execCommand('copy');\n        document.body.removeChild(textarea);\n      });\n    }\n\n    _deleteRow(rowData) {\n      const index = this.data.findIndex(row => row === rowData);\n      if (index > -1) {\n        this.data.splice(index, 1);\n        this._renderBody();\n        this._renderPager();\n      }\n    }\n\n    _renderBody() {\n  const result = this._process();\n      this.tbodyEl.innerHTML = '';\n\n      if (this.opts.tree.enabled) {\n        const rows = result.pageFlatRows || [];\n        if (rows.length === 0) {\n          const tr = document.createElement('tr');\n          const td = document.createElement('td');\n          td.colSpan = this._colCount();\n          td.className = 'vg-empty';\n          td.textContent = this.opts.emptyMessage;\n          tr.appendChild(td);\n          this.tbodyEl.appendChild(tr);\n          return;\n        }\n        rows.forEach(meta => {\n          this.tbodyEl.appendChild(this._renderRow(meta.row, meta.depth, meta));\n        });\n      } else if (!result.hasGroups) {\n        const rows = result.pageRows;\n        if (rows.length === 0) {\n          const tr = document.createElement('tr');\n          const td = document.createElement('td');\n          td.colSpan = this._colCount();\n          td.className = 'vg-empty';\n          td.textContent = this.opts.emptyMessage;\n          tr.appendChild(td);\n          this.tbodyEl.appendChild(tr);\n          return;\n        }\n        rows.forEach(row => {\n          this.tbodyEl.appendChild(this._renderRow(row));\n        });\n      } else {\n        const groups = result.pageGroups;\n        if (groups.length === 0) {\n          const tr = document.createElement('tr');\n          const td = document.createElement('td');\n          td.colSpan = this._colCount();\n          td.className = 'vg-empty';\n          td.textContent = this.opts.emptyMessage;\n          tr.appendChild(td);\n          this.tbodyEl.appendChild(tr);\n          return;\n        }\n        groups.forEach(g => {\n          // Group header\n          const trh = document.createElement('tr');\n          trh.className = 'vg-group';\n          const tdh = document.createElement('td');\n          tdh.colSpan = this._colCount();\n          const collapsed = this.state.collapsed.has(g.value);\n          tdh.innerHTML = `\n            <button class=\"vg-group-header ${collapsed ? 'is-collapsed':''}\" data-group-value=\"${this._escAttr(g.value)}\" title=\"${this._escAttr(this.opts.i18n.aria.toggleGroup)}\" aria-expanded=\"${collapsed ? 'false' : 'true'}\">\n              <span class=\"vg-caret\" aria-hidden=\"true\"></span>\n              <span class=\"vg-group-title\">${this._esc(this._headerLabelForGroup(g))}</span>\n            </button>\n            ${this._renderAggSummary(g)}\n          `;\n          trh.appendChild(tdh);\n          this.tbodyEl.appendChild(trh);\n          g.rows.forEach(row => {\n            const tr = this._renderRow(row);\n            tr.dataset.group = g.value;\n            if (collapsed) tr.style.display = 'none';\n            this.tbodyEl.appendChild(tr);\n          });\n        });\n      }\n\n      // After body render, update header select-all state and apply column visibility\n      this._updateHeaderSelectionToggle();\n      this._applyColumnVisibility();\n    }\n\n    // -------- Internal: Markdown helpers --------\n    _parseMarkdownTables(md) {\n      const lines = md.split(/\\r?\\n/);\n      const tables = [];\n      let i = 0;\n      const isSep = (s) => /^\\s*\\|?\\s*:?-{3,}:?\\s*(\\|\\s*:?-{3,}:?\\s*)+\\|?\\s*$/.test(s);\n      const splitRow = (s) => {\n        // Split by pipe, ignoring escaped \\| and trim\n        const cells = [];\n        let cur = '';\n        let esc = false;\n        // strip leading/trailing pipe\n        s = s.replace(/^\\s*\\|?\\s*/, '').replace(/\\s*\\|?\\s*$/, '');\n        for (let ch of s) {\n          if (esc) { cur += ch; esc = false; continue; }\n          if (ch === '\\\\') { esc = true; continue; }\n          if (ch === '|') { cells.push(cur.trim()); cur = ''; continue; }\n          cur += ch;\n        }\n        cells.push(cur.trim());\n        return cells;\n      };\n\n      while (i < lines.length) {\n        // Find header row\n        while (i < lines.length && !/\\|/.test(lines[i])) i++;\n        if (i >= lines.length) break;\n        const headerLine = lines[i++];\n        if (i >= lines.length) break;\n        const sepLine = lines[i];\n        if (!isSep(sepLine)) continue;\n        i++; // consume sep\n        const headers = splitRow(headerLine);\n        const rows = [];\n        while (i < lines.length && /\\|/.test(lines[i]) && !/^\\s*$/.test(lines[i])) {\n          const row = splitRow(lines[i]);\n          if (row.length >= 1) rows.push(row);\n          i++;\n        }\n        // Normalize row lengths\n        const width = headers.length;\n        const normRows = rows.map(r => {\n          const a = r.slice(0, width);\n          while (a.length < width) a.push('');\n          return a;\n        });\n        tables.push({ headers, rows: normRows });\n      }\n      return tables;\n    }\n\n    _mdInlineToHtml(src) {\n      // safe-escape first\n      let s = String(src ?? '');\n      s = s.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;');\n      // images ![alt](url)\n      s = s.replace(/!\\[([^\\]]*)\\]\\(([^\\)\\s]+)(?:\\s+\"([^\"]+)\")?\\)/g, (m, alt, url) =>\n        `<img src=\"${this._escAttr(url)}\" alt=\"${this._escAttr(alt)}\" loading=\"lazy\" class=\"vg-img\" />`);\n      // links [text](url)\n      s = s.replace(/\\[([^\\]]+)\\]\\(([^\\)\\s]+)(?:\\s+\"([^\"]+)\")?\\)/g, (m, text, url) =>\n        `<a href=\"${this._escAttr(url)}\" target=\"_blank\" rel=\"noopener noreferrer\" class=\"vg-link\">${text}</a>`);\n      // bold/italic/code\n      s = s.replace(/\\*\\*([^*]+)\\*\\*/g, '<b>$1</b>')\n           .replace(/\\*([^*]+)\\*/g, '<i>$1</i>')\n           .replace(/`([^`]+)`/g, '<code>$1</code>');\n      return s;\n    }\n\n    _slugify(s) {\n      return String(s).toLowerCase().trim().replace(/[^a-z0-9]+/g, '_').replace(/^_+|_+$/g, '') || 'col';\n    }\n\n    _uniqueKeys(keys) {\n      const out = [];\n      const seen = new Map();\n      keys.forEach(k => {\n        let base = k || 'col';\n        let n = seen.get(base) || 0;\n        let cur = base;\n        if (n > 0) cur = `${base}_${n}`;\n        seen.set(base, n + 1);\n        out.push(cur);\n      });\n      return out;\n    }\n\n    // -------- Internal: Export helpers --------\n    _exportMatrix() {\n      // Determine data scope and current pipeline\n      const cols = this.columns.filter(c => !this.state.hiddenCols.has(c.key));\n      const headers = cols.map(c => String(c.label ?? c.key));\n      const scope = (this.opts.exporting && this.opts.exporting.scope) || 'page';\n\n      if (this.opts.tree.enabled) {\n        const flat = this._filterSortTreeFlatten();\n        const list = scope === 'page'\n          ? flat.slice((this.state.page - 1) * this.state.pageSize, (this.state.page - 1) * this.state.pageSize + this.state.pageSize)\n          : flat;\n        const rows = list.map(meta => cols.map(c => this._cellText(meta.row, c)));\n        return { headers, rows };\n      }\n\n      const { rows, groups, hasGroups } = this._filterSortGroup();\n      if (!hasGroups) {\n        const view = scope === 'page'\n          ? rows.slice((this.state.page - 1) * this.state.pageSize, (this.state.page - 1) * this.state.pageSize + this.state.pageSize)\n          : rows;\n        const out = view.map(r => cols.map(c => this._cellText(r, c)));\n        return { headers, rows: out };\n      } else {\n        const viewGroups = scope === 'page'\n          ? groups.slice((this.state.page - 1) * this.state.pageSize, (this.state.page - 1) * this.state.pageSize + this.state.pageSize)\n          : groups;\n        const out = [];\n        viewGroups.forEach(g => {\n          g.rows.forEach(r => out.push(cols.map(c => this._cellText(r, c))));\n        });\n        return { headers, rows: out };\n      }\n    }\n\n    _toCSV(matrix) {\n      const esc = (s) => {\n        const v = String(s ?? '');\n        if (/[\",\\n]/.test(v)) return '\"' + v.replace(/\"/g, '\"\"') + '\"';\n        return v;\n      };\n      return matrix.map(row => row.map(esc).join(',')).join('\\n');\n    }\n\n    _toMarkdown(headers, rows) {\n      const line = arr => '| ' + arr.map(s => String(s ?? '').replace(/\\n/g, ' ')).join(' | ') + ' |';\n      const sep = '| ' + headers.map(() => '---').join(' | ') + ' |';\n      return [line(headers), sep, ...rows.map(line)].join('\\n');\n    }\n\n    _downloadBlob(text, filename, mime) {\n      const blob = new Blob([text], { type: mime });\n      const url = URL.createObjectURL(blob);\n      const a = document.createElement('a');\n      a.href = url;\n      a.download = filename;\n      document.body.appendChild(a);\n      a.click();\n      setTimeout(() => { document.body.removeChild(a); URL.revokeObjectURL(url); }, 0);\n    }\n\n    _renderRow(row, depth = 0, meta = null) {\n      const tr = document.createElement('tr');\n      tr.className = 'vg-tr';\n      tr.dataset.rowid = row.__vgid;\n      if (this.opts.selectable) {\n        const tdSel = document.createElement('td');\n        tdSel.className = 'vg-td vg-td-select';\n        const cb = document.createElement('input');\n        cb.type = 'checkbox';\n        cb.className = 'vg-select-row';\n        cb.checked = this.state.selected.has(row.__vgid);\n        cb.onchange = () => {\n          if (cb.checked) this.state.selected.add(row.__vgid);\n          else this.state.selected.delete(row.__vgid);\n          this._updateHeaderSelectionToggle();\n          this._emitSelection();\n        };\n        tdSel.appendChild(cb);\n        tr.appendChild(tdSel);\n      }\n      this.columns.forEach((col, idx) => {\n        const td = document.createElement('td');\n        td.className = 'vg-td';\n        td.dataset.key = col.key;\n        td.dataset.columnKey = col.key; // For editing support\n        td.tabIndex = this.opts.keyboardNavigation ? 0 : -1; // For keyboard navigation\n        if (this.opts.tree.enabled && idx === 0) {\n          td.classList.add('vg-tree-cell');\n          const toggle = this._renderTreeToggle(row, meta);\n          if (toggle) td.appendChild(toggle);\n        }\n        this._renderCell(td, row, col);\n        tr.appendChild(td);\n      });\n      return tr;\n    }\n\n    _renderCell(td, row, col) {\n      if (typeof col.render === 'function') {\n        td.innerHTML = '';\n        const el = col.render(row[col.key], row, col);\n        if (el instanceof Node) td.appendChild(el);\n        else td.innerHTML = el ?? '';\n        return;\n      }\n\n      const type = (col.type || 'text').toLowerCase();\n      const value = row[col.key];\n      const hasToggle = !!td.querySelector && !!td.querySelector('.vg-tree-toggle');\n\n      switch (type) {\n        case 'number': {\n          const num = this._toNumber(value);\n          const content = (typeof col.format === 'function') ? col.format(num, row) : (num ?? '');\n          if (hasToggle) {\n            const span = document.createElement('span');\n            span.textContent = content;\n            td.appendChild(span);\n          } else {\n            td.textContent = content;\n          }\n          td.classList.add('vg-num');\n          break;\n        }\n        case 'html': {\n          if (hasToggle) {\n            const span = document.createElement('span');\n            span.innerHTML = value ?? '';\n            td.appendChild(span);\n          } else {\n            td.innerHTML = value ?? '';\n          }\n          break;\n        }\n        case 'image': {\n          const img = document.createElement('img');\n          img.src = String(value || '');\n          img.alt = (col.image && col.image.alt) || '';\n          if (col.image && col.image.width) img.width = col.image.width;\n          if (col.image && col.image.height) img.height = col.image.height;\n          img.loading = 'lazy';\n          img.className = 'vg-img';\n          td.appendChild(img);\n          break;\n        }\n        case 'link': {\n          const a = document.createElement('a');\n          const url = String(value || '');\n          const txt = (col.link && col.link.text) || url;\n          a.href = url;\n          a.target = (col.link && col.link.target) || '_blank';\n          a.rel = 'noopener noreferrer';\n          a.textContent = txt;\n          a.className = 'vg-link';\n          td.appendChild(a);\n          break;\n        }\n        case 'button': {\n          const btn = document.createElement('button');\n          btn.className = 'vg-btn';\n          btn.dataset.rowid = row.__vgid;\n          btn.dataset.colkey = col.key;\n          btn.type = 'button';\n          btn.textContent = (col.button && col.button.text) || 'Action';\n          td.appendChild(btn);\n          break;\n        }\n        case 'progress': {\n          const percent = Math.max(0, Math.min(100, Number(value) || 0));\n          const progressContainer = document.createElement('div');\n          progressContainer.className = 'vg-progress';\n          \n          const progressBar = document.createElement('div');\n          progressBar.className = 'vg-progress-bar';\n          progressBar.style.width = percent + '%';\n          \n          const progressText = document.createElement('span');\n          progressText.className = 'vg-progress-text';\n          progressText.textContent = percent + '%';\n          \n          progressContainer.appendChild(progressBar);\n          progressContainer.appendChild(progressText);\n          td.appendChild(progressContainer);\n          break;\n        }\n        case 'rating': {\n          const rating = Math.max(0, Math.min(5, Number(value) || 0));\n          const ratingSpan = document.createElement('span');\n          ratingSpan.className = 'vg-rating';\n          ratingSpan.title = rating + '/5';\n          ratingSpan.textContent = '★'.repeat(Math.floor(rating)) + '☆'.repeat(5 - Math.floor(rating));\n          td.appendChild(ratingSpan);\n          break;\n        }\n        case 'badge': {\n          const badgeClass = row[col.key + '_class'] || 'default';\n          const badge = document.createElement('span');\n          badge.className = `vg-badge vg-badge-${badgeClass}`;\n          badge.textContent = value || '';\n          td.appendChild(badge);\n          break;\n        }\n        case 'color': {\n          const colorDiv = document.createElement('div');\n          colorDiv.className = 'vg-color-indicator';\n          colorDiv.style.backgroundColor = value || '';\n          colorDiv.title = value || '';\n          td.appendChild(colorDiv);\n          break;\n        }\n        default: {\n          // Check for custom cell types\n          if (this.opts.customCellTypes[type]) {\n            const customHtml = this.opts.customCellTypes[type](value, col, row);\n            if (hasToggle) {\n              const span = document.createElement('span');\n              span.innerHTML = customHtml;\n              td.appendChild(span);\n            } else {\n              td.innerHTML = customHtml;\n            }\n          } else {\n            // text (safe)\n            const txt = (typeof col.format === 'function') ? col.format(value, row) : (value ?? '');\n            if (hasToggle) {\n              const span = document.createElement('span');\n              span.textContent = txt;\n              td.appendChild(span);\n            } else {\n              td.textContent = txt;\n            }\n          }\n        }\n      }\n    }\n\n    _renderTreeToggle(row, meta) {\n      const t = this.opts.tree;\n      if (!t.enabled) return null;\n      const hasKids = (meta && meta.hasChildren != null)\n        ? meta.hasChildren\n        : (this._rowHasChildren(row) || this._rowPotentialChildren(row));\n      const isLeaf = !hasKids;\n      const btn = document.createElement('button');\n      btn.type = 'button';\n      btn.className = 'vg-tree-toggle';\n      btn.dataset.rowid = row.__vgid;\n      const depth = meta?.depth || 0;\n      btn.style.marginLeft = `${(Number(t.indent) || 16) * depth}px`;\n      if (isLeaf) {\n        btn.classList.add('is-leaf');\n        btn.innerHTML = '<span class=\"vg-tree-spacer\"></span>';\n        btn.disabled = true;\n        return btn;\n      }\n      const loading = this.state.loadingChildren.has(row.__vgid);\n      const expanded = this.state.expanded.has(row.__vgid);\n  btn.classList.toggle('is-expanded', expanded);\n      btn.classList.toggle('is-loading', loading);\n  btn.setAttribute('aria-label', expanded ? this.opts.i18n.aria.collapseRow : this.opts.i18n.aria.expandRow);\n  btn.setAttribute('aria-expanded', expanded ? 'true' : 'false');\n      btn.innerHTML = loading ? '<span class=\"vg-spinner\"></span>' : '<span class=\"vg-caret\" aria-hidden=\"true\"></span>';\n      return btn;\n    }\n\n    _renderAggSummary(group) {\n      // Build a concise summary pill line: Count + per-column aggregates defined\n      const count = group.rows.length;\n  const parts = [`<span class=\"vg-chip\">${this._esc(this.opts.i18n.group.count)}: ${count}</span>`];\n\n      const numericCols = this.columns.filter(c => Array.isArray(c.aggregations) && c.aggregations.length);\n      numericCols.forEach(col => {\n        const ag = group.aggregates[col.key] || {};\n        const want = col.aggregations;\n        const bits = [];\n        if (want.includes('sum') && ag.sum != null) bits.push(`Σ ${this._fmtAgg(col, ag.sum)}`);\n        if (want.includes('min') && ag.min != null) bits.push(`min ${this._fmtAgg(col, ag.min)}`);\n        if (want.includes('max') && ag.max != null) bits.push(`max ${this._fmtAgg(col, ag.max)}`);\n        if (bits.length) {\n          parts.push(`<span class=\"vg-chip\">${this._esc(col.label ?? col.key)}: ${this._esc(bits.join(' · '))}</span>`);\n        }\n      });\n      return parts.length ? `<div class=\"vg-agg\">${parts.join('')}</div>` : '';\n    }\n\n    _fmtAgg(col, value) {\n      if (typeof col.format === 'function') {\n        try { return col.format(value); } catch { return String(value); }\n      }\n      return (typeof value === 'number') ? value : String(value);\n    }\n\n    _headerLabelForGroup(g) {\n      const col = this.columns.find(c => c.key === this.state.groupBy);\n      const label = col ? (col.label ?? col.key) : this.state.groupBy;\n      return `${label}: ${g.value}`;\n    }\n\n    _renderPager() {\n      if (!this.opts.pagination) { this.pagerEl.innerHTML = ''; return; }\n  const remote = this.opts.serverPagination;\n  const { hasGroups, totalPages, totalCount } = remote ? this._processMetaRemote() : this._processMeta();\n      const page = Math.min(this.state.page, totalPages || 1);\n\n      const prevDisabled = page <= 1 ? 'disabled' : '';\n      const nextDisabled = page >= totalPages ? 'disabled' : '';\n      const firstDisabled = prevDisabled;\n      const lastDisabled = nextDisabled;\n\n    const sizeOptions = this.opts.pageSizes.map(n =>\n      `<option value=\"${n}\" ${+this.state.pageSize === +n ? 'selected' : ''}>${n}${this._esc(this.opts.i18n.perPageSuffix)}</option>`).join('');\n\n    const colMenuCfg = this._columnsMenuConfig();\n    const columnsBlock = (colMenuCfg && colMenuCfg.location === 'pager') ? this._columnsMenuMarkup(colMenuCfg) : '';\n\n    this.pagerEl.innerHTML = `\n        <div class=\"vg-pager-row\">\n          <div class=\"vg-pager-left\">\n            <button class=\"vg-page-btn\" data-action=\"first\" ${firstDisabled} aria-label=\"${this._escAttr(this.opts.i18n.pager.first)}\" title=\"${this._escAttr(this.opts.i18n.pager.first)}\">«</button>\n            <button class=\"vg-page-btn\" data-action=\"prev\" ${prevDisabled} aria-label=\"${this._escAttr(this.opts.i18n.pager.prev)}\" title=\"${this._escAttr(this.opts.i18n.pager.prev)}\">‹</button>\n          </div>\n          <div class=\"vg-pager-center\" style=\"display:flex;gap:10px;align-items:center;flex-wrap:wrap;\">\n            <span class=\"vg-page-info\" aria-live=\"polite\">${this._esc(this.opts.i18n.pager.pageInfo(page, totalPages || 1))}</span>\n            <span class=\"vg-total\">${this._esc(hasGroups ? this.opts.i18n.pager.totalGroups(totalCount) : this.opts.i18n.pager.totalRows(totalCount))}</span>\n            <div class=\"vg-pagesize\">\n              <select class=\"vg-size-select\" aria-label=\"Page size\">${sizeOptions}</select>\n            </div>\n            ${columnsBlock}\n          </div>\n          <div class=\"vg-pager-right\">\n            <button class=\"vg-page-btn\" data-action=\"next\" ${nextDisabled} aria-label=\"${this._escAttr(this.opts.i18n.pager.next)}\" title=\"${this._escAttr(this.opts.i18n.pager.next)}\">›</button>\n            <button class=\"vg-page-btn\" data-action=\"last\" ${lastDisabled} aria-label=\"${this._escAttr(this.opts.i18n.pager.last)}\" title=\"${this._escAttr(this.opts.i18n.pager.last)}\">»</button>\n          </div>\n        </div>\n      `;\n\n      this.state.page = page; // clamp\n\n    this.pagerEl.querySelector('[data-action=\"first\"]').onclick = () => {\n        if (this.state.page !== 1) {\n          this.state.page = 1;\n      if (remote) this._remoteLoad(this.state.page);\n      else { this._renderBody(); this._renderPager(); }\n        }\n      };\n    this.pagerEl.querySelector('[data-action=\"prev\"]').onclick = () => {\n        if (this.state.page > 1) {\n          this.state.page--;\n      if (remote) this._remoteLoad(this.state.page);\n      else { this._renderBody(); this._renderPager(); }\n        }\n      };\n    this.pagerEl.querySelector('[data-action=\"next\"]').onclick = () => {\n        if (this.state.page < totalPages) {\n          this.state.page++;\n      if (remote) this._remoteLoad(this.state.page);\n      else { this._renderBody(); this._renderPager(); }\n        }\n      };\n    this.pagerEl.querySelector('[data-action=\"last\"]').onclick = () => {\n        if (this.state.page !== totalPages) {\n          this.state.page = totalPages;\n      if (remote) this._remoteLoad(this.state.page);\n      else { this._renderBody(); this._renderPager(); }\n        }\n      };\n\n      // Bind page size change\n      const selSize = this.pagerEl.querySelector('.vg-size-select');\n      if (selSize) {\n        selSize.onchange = () => this.setPageSize(+selSize.value);\n      }\n\n      // Bind column toggle events\n      this._bindColumnsMenuEvents(this.pagerEl);\n    }\n\n    // ------------- Internal: Data pipeline ----------------\n    _processMeta() {\n      if (this.opts.tree.enabled) {\n        const flat = this._filterSortTreeFlatten();\n        const totalCount = flat.length;\n        const totalPages = Math.max(1, Math.ceil(totalCount / this.state.pageSize));\n        return { hasGroups: false, totalPages, totalCount };\n      }\n      const { rows, groups, hasGroups } = this._filterSortGroup();\n      if (!this.opts.pagination) {\n        return { hasGroups, totalPages: 1, totalCount: hasGroups ? groups.length : rows.length };\n      }\n      const totalCount = hasGroups ? groups.length : rows.length;\n      const totalPages = Math.max(1, Math.ceil(totalCount / this.state.pageSize));\n      return { hasGroups, totalPages, totalCount };\n    }\n\n    _process() {\n      if (this.opts.tree.enabled) {\n        const flat = this._filterSortTreeFlatten();\n        if (!this.opts.pagination) return { hasGroups: false, pageFlatRows: flat };\n        const { page, pageSize } = this.state;\n        const start = (page - 1) * pageSize;\n        return { hasGroups: false, pageFlatRows: flat.slice(start, start + pageSize) };\n      }\n      const { rows, groups, hasGroups } = this._filterSortGroup();\n      if (!this.opts.pagination) {\n        return hasGroups\n          ? { hasGroups, pageGroups: groups }\n          : { hasGroups, pageRows: rows };\n      }\n      const { page, pageSize } = this.state;\n      if (!hasGroups) {\n        const start = (page - 1) * pageSize;\n        const pageRows = rows.slice(start, start + pageSize);\n        return { hasGroups, pageRows };\n      } else {\n        const start = (page - 1) * pageSize;\n        const pageGroups = groups.slice(start, start + pageSize);\n        return { hasGroups, pageGroups };\n      }\n    }\n\n    _filterSortTreeFlatten() {\n      const t = this.opts.tree;\n      const ck = t.childrenKey;\n      const roots = this.data.slice();\n\n      // Sort client-side if allowed\n      const { sortKey, sortDir } = this.state;\n      const col = sortKey ? this.columns.find(c => c.key === sortKey) : null;\n      const type = (col?.type || 'text').toLowerCase();\n      const doSort = this.opts.sortable && col && !this.opts.serverSorting;\n      const cmpVal = (a, b) => this._compare(a, b, type, col || {});\n      const sortNodes = (nodes) => {\n        if (!Array.isArray(nodes)) return;\n        if (doSort) {\n          const dir = sortDir === 'desc' ? -1 : 1;\n          nodes.sort((ra, rb) => dir * cmpVal(ra[sortKey], rb[sortKey]));\n        }\n        nodes.forEach(n => sortNodes(n[ck]));\n      };\n      sortNodes(roots);\n\n      // Filter\n      const f = String(this.state.filter || '');\n      let matcher = null;\n      if (f) {\n        if (this.state.regexMode) {\n          try { matcher = { type: 'regex', rx: new RegExp(f, 'i') }; this.state.regexError = ''; }\n          catch (err) { this.state.regexError = String(err?.message || 'Invalid RegExp'); }\n        } else { this.state.regexError = ''; matcher = { type: 'text', needle: f.toLowerCase() }; }\n      }\n      // Update error feedback without re-rendering toolbar to preserve focus\n      this._updateFilterError();\n      const matchesRow = (row) => {\n        if (!matcher) return true;\n        if (matcher.type === 'regex') return this.columns.some(c => matcher.rx.test(this._cellText(row, c)));\n        const needle = matcher.needle;\n        return this.columns.some(c => this._cellText(row, c).toLowerCase().includes(needle));\n      };\n\n      const visible = new Set();\n      const mark = (node, parents) => {\n        const kids = Array.isArray(node[ck]) ? node[ck] : [];\n        let ok = matchesRow(node);\n        kids.forEach(ch => { if (mark(ch, parents.concat(node))) ok = true; });\n        if (!matcher || ok) {\n          visible.add(node);\n          parents.forEach(p => visible.add(p));\n        }\n        return ok;\n      };\n      roots.forEach(r => mark(r, []));\n\n      const flat = [];\n      const trav = (nodes, depth) => {\n        if (!Array.isArray(nodes)) return;\n        nodes.forEach(n => {\n          if (!visible.has(n)) return;\n          const id = n.__vgid;\n          const hasChildren = this._rowHasChildren(n) || this._rowPotentialChildren(n);\n          const expanded = this.state.expanded.has(id) || !!matcher || this.opts.tree.initiallyExpanded;\n          flat.push({ row: n, depth, hasChildren, expanded });\n          if (expanded && Array.isArray(n[ck])) trav(n[ck], depth + 1);\n        });\n      };\n      trav(roots, 0);\n      return flat;\n    }\n\n    // Tree/id helpers and remote\n    _assignIdsDeep(list) {\n      if (!Array.isArray(list)) return;\n      const ck = this.opts.tree.childrenKey;\n      list.forEach(row => {\n        if (row.__vgid == null) row.__vgid = this._idCounter++;\n        if (Array.isArray(row[ck])) this._assignIdsDeep(row[ck]);\n      });\n    }\n    _indexRowsDeep(list) {\n      if (!Array.isArray(list)) return;\n      const ck = this.opts.tree.childrenKey;\n      list.forEach(row => {\n        this.rowById.set(row.__vgid, row);\n        if (Array.isArray(row[ck])) this._indexRowsDeep(row[ck]);\n      });\n    }\n    _rowHasChildren(row) {\n      const ck = this.opts.tree.childrenKey;\n      return Array.isArray(row?.[ck]) && row[ck].length > 0;\n    }\n    _rowPotentialChildren(row) {\n      const hk = this.opts.tree.hasChildrenKey;\n      return !!row && !!row[hk];\n    }\n    _shouldRemoteFetch(why) {\n      if (typeof this.opts.loadPage !== 'function') return false;\n      if (this.opts.serverPagination) return true;\n      if (this.opts.serverSorting && why === 'sort') return true;\n      if (this.opts.serverFiltering && why === 'filter') return true;\n      if (why === 'init') return this.opts.serverPagination || this.opts.serverSorting || this.opts.serverFiltering;\n      if (why === 'page') return this.opts.serverPagination;\n      return false;\n    }\n    _processMetaRemote() {\n      const total = this.state.serverTotalRows ?? this.data.length;\n      const totalPages = Math.max(1, Math.ceil(total / this.state.pageSize));\n      return { hasGroups: false, totalPages, totalCount: total };\n    }\n    _remoteLoad(page) {\n      if (typeof this.opts.loadPage !== 'function') { this._renderBody(); this._renderPager(); return; }\n      const params = {\n        page: page || this.state.page || 1,\n        pageSize: this.state.pageSize,\n        sortKey: this.state.sortKey,\n        sortDir: this.state.sortDir,\n        filter: this.state.filter,\n        regexMode: this.state.regexMode,\n      };\n      Promise.resolve(this.opts.loadPage(params)).then(res => {\n        const rows = Array.isArray(res?.rows) ? res.rows : [];\n        const total = Number.isFinite(res?.total) ? res.total : rows.length;\n        this._idCounter = 0;\n        this._assignIdsDeep(rows);\n        this.data = rows;\n        this.rowById = new Map();\n        this._indexRowsDeep(this.data);\n        this.state.serverTotalRows = total;\n        this.state.page = params.page;\n      }).finally(() => {\n        this._renderBody();\n        this._renderPager();\n      });\n    }\n\n    _filterSortGroup() {\n      let rows = this.data.slice();\n\n      // Filter\n      const f = String(this.state.filter || '');\n      if (f) {\n        if (this.state.filterMode === 'tree') {\n          // Tree filter with column:value syntax\n          this.state.regexError = '';\n          const match = f.match(/^(\\w+):\"(.+)\"$/);\n          if (match) {\n            const [, column, value] = match;\n            rows = rows.filter(r => String(r[column] || '') === value);\n          } else {\n            // Fallback to simple search\n            const needle = this.state.caseSensitive ? f : f.toLowerCase();\n            rows = rows.filter(r => this.columns.some(c => {\n              const text = this.state.caseSensitive ? this._cellText(r, c) : this._cellText(r, c).toLowerCase();\n              return text.includes(needle);\n            }));\n          }\n        } else if (this.state.regexMode || this.state.filterMode === 'regex') {\n          try {\n            const flags = this.state.caseSensitive || this.state.filterMode === 'case-sensitive' ? '' : 'i';\n            const rx = new RegExp(f, flags);\n            this.state.regexError = '';\n            rows = rows.filter(r => this.columns.some(c => rx.test(this._cellText(r, c))));\n          } catch (err) {\n            this.state.regexError = String(err?.message || 'Invalid RegExp');\n          }\n        } else {\n          // Simple or case-sensitive\n          this.state.regexError = '';\n          const needle = (this.state.caseSensitive || this.state.filterMode === 'case-sensitive') ? f : f.toLowerCase();\n          rows = rows.filter(r => this.columns.some(c => {\n            const text = (this.state.caseSensitive || this.state.filterMode === 'case-sensitive') ? this._cellText(r, c) : this._cellText(r, c).toLowerCase();\n            return text.includes(needle);\n          }));\n        }\n  this._updateFilterError(); // show/hide regex error state without full re-render\n      }\n\n      // Sort\n      const { sortKey, sortDir } = this.state;\n      if (sortKey) {\n        const col = this.columns.find(c => c.key === sortKey);\n        if (col) {\n          const dir = sortDir === 'desc' ? -1 : 1;\n          const type = (col.type || 'text').toLowerCase();\n          const cmp = (a, b) => this._compare(a, b, type, col);\n          rows.sort((ra, rb) => dir * cmp(ra[col.key], rb[col.key]));\n        }\n      }\n\n      // Group\n      const key = this.state.groupBy;\n      if (!key) return { hasGroups: false, rows };\n\n      const map = new Map();\n      rows.forEach(r => {\n        const k = r[key] == null ? '(null)' : String(r[key]);\n        if (!map.has(k)) map.set(k, []);\n        map.get(k).push(r);\n      });\n\n      const groupList = [];\n      for (const [gval, list] of map.entries()) {\n        groupList.push({\n          value: gval,\n          rows: list,\n          aggregates: this._computeAggregates(list),\n        });\n      }\n\n      // Keep group order stable based on first-row order\n      // (already stable because rows are sorted; we iterate map in insertion order)\n      return { hasGroups: true, groups: groupList };\n    }\n\n    _computeAggregates(rows) {\n      const out = {};\n      this.columns.forEach(col => {\n        if (!Array.isArray(col.aggregations) || col.aggregations.length === 0) return;\n        const nums = rows\n          .map(r => this._toNumber(r[col.key]))\n          .filter(v => typeof v === 'number' && !Number.isNaN(v));\n        if (!nums.length) return;\n        const agg = {};\n        if (col.aggregations.includes('sum')) agg.sum = nums.reduce((a, b) => a + b, 0);\n        if (col.aggregations.includes('min')) agg.min = Math.min(...nums);\n        if (col.aggregations.includes('max')) agg.max = Math.max(...nums);\n        out[col.key] = agg;\n      });\n      return out;\n    }\n\n    // ------------- Internal: helpers ----------------\n    _cellText(row, col) {\n      if (typeof col.render === 'function') {\n        try {\n          const el = col.render(row[col.key], row, col);\n          if (el instanceof Node) return (el.textContent || '').trim();\n          return String(el ?? '');\n        } catch { return ''; }\n      }\n      const type = (col.type || 'text').toLowerCase();\n      const val = row[col.key];\n      switch (type) {\n        case 'number': return String(this._toNumber(val) ?? '');\n        case 'html': {\n          const tmp = document.createElement('div');\n          tmp.innerHTML = String(val ?? '');\n          return (tmp.textContent || '').trim();\n        }\n        case 'image': return String(val ?? '');\n        case 'link': {\n          const url = String(val ?? '');\n          const txt = (col.link && col.link.text) || url;\n          return txt + ' ' + url;\n        }\n        case 'button': return (col.button && col.button.text) || 'Action';\n        default: return String(val ?? '');\n      }\n    }\n\n    _compare(a, b, type, col) {\n      if (typeof col.sort === 'function') {\n        try { return col.sort(a, b); } catch { /* fallthrough */ }\n      }\n      if (a == null && b == null) return 0;\n      if (a == null) return -1;\n      if (b == null) return 1;\n\n      switch (type) {\n        case 'number': {\n          const na = this._toNumber(a), nb = this._toNumber(b);\n          return (na === nb) ? 0 : (na < nb ? -1 : 1);\n        }\n        case 'html': {\n          const ta = this._stripHtml(String(a)), tb = this._stripHtml(String(b));\n          return ta.localeCompare(tb, undefined, { sensitivity: 'base', numeric: true });\n        }\n        default: {\n          const sa = String(a), sb = String(b);\n          return sa.localeCompare(sb, undefined, { sensitivity: 'base', numeric: true });\n        }\n      }\n    }\n\n    _toNumber(v) {\n      if (typeof v === 'number') return v;\n      if (typeof v === 'string') {\n        const s = v.replace(/[^\\d.+-]/g, '');\n        const n = parseFloat(s);\n        return Number.isNaN(n) ? undefined : n;\n      }\n      return undefined;\n    }\n\n    _stripHtml(s) { return s.replace(/<[^>]*>/g, ''); }\n    _esc(s) { return String(s ?? '').replace(/[&<>\"']/g, m => ({'&':'&amp;','<':'&lt;','>':'&gt;','\"':'&quot;',\"'\":'&#39;'}[m])); }\n    _escAttr(s) { return this._esc(s).replace(/\"/g, '&quot;'); }\n\n    // Lightweight toolbar update to avoid focus loss while typing\n    _updateFilterError() {\n      if (!this.opts.filterable || !this.toolbarEl) return;\n      const wrap = this.toolbarEl.querySelector('.vg-filter');\n      if (!wrap) return;\n      const existing = wrap.querySelector('.vg-error');\n      const need = this.state.regexMode && !!this.state.regexError;\n      if (need) {\n        if (!existing) {\n          const span = document.createElement('span');\n          span.className = 'vg-error';\n          span.title = this.state.regexError;\n          span.textContent = this.opts.i18n.invalidRegex;\n          wrap.appendChild(span);\n        } else {\n          existing.title = this.state.regexError;\n          existing.textContent = this.opts.i18n.invalidRegex;\n        }\n      } else if (existing) {\n        existing.remove();\n      }\n    }\n\n    // ---- Internal: selection and columns helpers ----\n    _colCount() { return this.columns.length + (this.opts.selectable ? 1 : 0); }\n    _currentPageRowIds() {\n      const ids = [];\n      if (this.opts.tree.enabled) {\n        const res = this._process();\n        (res.pageFlatRows || []).forEach(meta => ids.push(meta.row.__vgid));\n      } else {\n        const { hasGroups, pageRows, pageGroups } = this._process();\n        if (!hasGroups) (pageRows || []).forEach(r => ids.push(r.__vgid));\n        else (pageGroups || []).forEach(g => g.rows.forEach(r => ids.push(r.__vgid)));\n      }\n      return ids;\n    }\n    _updateHeaderSelectionToggle() {\n      if (!this.opts.selectable) return;\n      const cb = this.theadEl.querySelector('.vg-select-all');\n      if (!cb) return;\n      const pageIds = this._currentPageRowIds();\n      const selectedOnPage = pageIds.filter(id => this.state.selected.has(id));\n      cb.checked = pageIds.length > 0 && selectedOnPage.length === pageIds.length;\n      cb.indeterminate = selectedOnPage.length > 0 && selectedOnPage.length < pageIds.length;\n    }\n    _emitSelection() {\n      if (typeof this.opts.onSelectionChange === 'function') {\n        const rows = Array.from(this.state.selected).map(id => this.rowById.get(id)).filter(Boolean);\n        try { this.opts.onSelectionChange(rows); } catch {}\n      }\n    }\n    _applyColumnVisibility() {\n      const hidden = this.state.hiddenCols;\n      // Header\n      this.theadEl.querySelectorAll('.vg-th').forEach(th => {\n        const key = th.dataset.key;\n        if (!key) return;\n        th.style.display = hidden.has(key) ? 'none' : '';\n      });\n      // Body cells\n      this.tbodyEl.querySelectorAll('.vg-td').forEach(td => {\n        const key = td.dataset.key;\n        if (!key) return;\n        td.style.display = hidden.has(key) ? 'none' : '';\n      });\n    }\n\n    // ---- Pivot Table Internal Methods ----\n    \n    _generatePivotTable() {\n      const sourceData = this.state.originalData || this.data;\n      const config = this.opts.pivotConfig;\n      \n      if (!config.rows.length && !config.columns.length) {\n        // No pivot configuration, show summary of values\n        this._generatePivotSummary(sourceData, config);\n        return;\n      }\n      \n      // Group data by row fields\n      const rowGroups = this._groupByFields(sourceData, config.rows);\n      \n      // Get unique column values\n      const columnValues = config.columns.length \n        ? this._getUniqueValues(sourceData, config.columns)\n        : [null];\n      \n      // Generate pivot table structure\n      const pivotRows = [];\n      \n      Object.entries(rowGroups).forEach(([rowKey, rowData]) => {\n        const row = {};\n        \n        // Add row group labels\n        const rowKeys = rowKey.split('|');\n        config.rows.forEach((field, i) => {\n          row[field] = rowKeys[i] || '';\n        });\n        \n        // Calculate values for each column combination\n        columnValues.forEach(colKey => {\n          const filteredData = colKey \n            ? rowData.filter(item => this._getFieldPath(item, config.columns) === colKey)\n            : rowData;\n          \n          config.values.forEach(valueField => {\n            const aggFunc = config.aggregations[valueField] || 'sum';\n            const colName = colKey ? `${valueField}_${colKey}` : valueField;\n            row[colName] = this._aggregate(filteredData, valueField, aggFunc);\n          });\n        });\n        \n        pivotRows.push(row);\n      });\n      \n      // Generate columns for pivot table\n      const pivotColumns = [];\n      \n      // Add row field columns\n      config.rows.forEach(field => {\n        pivotColumns.push({\n          key: field,\n          label: this._getFieldLabel(field),\n          type: 'text',\n          sortable: true\n        });\n      });\n      \n      // Add value columns for each column combination\n      columnValues.forEach(colKey => {\n        config.values.forEach(valueField => {\n          const colName = colKey ? `${valueField}_${colKey}` : valueField;\n          const label = colKey \n            ? `${this._getFieldLabel(valueField)} (${colKey})`\n            : this._getFieldLabel(valueField);\n          \n          pivotColumns.push({\n            key: colName,\n            label: label,\n            type: 'number',\n            sortable: true,\n            format: this._getNumberFormatter(valueField)\n          });\n        });\n      });\n      \n      this.state.pivotData = { rows: pivotRows, columns: pivotColumns };\n      this.data = pivotRows;\n      this.columns = pivotColumns;\n    }\n    \n    _generatePivotSummary(data, config) {\n      if (!config.values.length) {\n        this.state.pivotData = { rows: [], columns: [] };\n        this.data = [];\n        this.columns = [];\n        return;\n      }\n      \n      const summaryRow = {};\n      config.values.forEach(field => {\n        const aggFunc = config.aggregations[field] || 'sum';\n        summaryRow[field] = this._aggregate(data, field, aggFunc);\n      });\n      \n      const summaryColumns = config.values.map(field => ({\n        key: field,\n        label: `${this._getFieldLabel(field)} (${config.aggregations[field] || 'sum'})`,\n        type: 'number',\n        sortable: false,\n        format: this._getNumberFormatter(field)\n      }));\n      \n      this.state.pivotData = { rows: [summaryRow], columns: summaryColumns };\n      this.data = [summaryRow];\n      this.columns = summaryColumns;\n    }\n    \n    _groupByFields(data, fields) {\n      const groups = {};\n      \n      data.forEach(item => {\n        const key = fields.map(field => this._getFieldValue(item, field)).join('|');\n        if (!groups[key]) groups[key] = [];\n        groups[key].push(item);\n      });\n      \n      return groups;\n    }\n    \n    _getUniqueValues(data, fields) {\n      const values = new Set();\n      data.forEach(item => {\n        const value = this._getFieldPath(item, fields);\n        if (value !== null && value !== undefined) {\n          values.add(value);\n        }\n      });\n      return Array.from(values).sort();\n    }\n    \n    _getFieldPath(item, fields) {\n      return fields.map(field => this._getFieldValue(item, field)).join('|');\n    }\n    \n    _getFieldValue(item, field) {\n      return item[field] ?? '';\n    }\n    \n    _getFieldLabel(field) {\n      const col = this.state.originalColumns?.find(c => c.key === field);\n      return col?.label || field;\n    }\n    \n    _aggregate(data, field, func) {\n      const values = data.map(item => Number(item[field])).filter(v => !isNaN(v));\n      if (!values.length) return 0;\n      \n      switch (func) {\n        case 'sum': return values.reduce((a, b) => a + b, 0);\n        case 'avg': return values.reduce((a, b) => a + b, 0) / values.length;\n        case 'min': return Math.min(...values);\n        case 'max': return Math.max(...values);\n        case 'count': return data.length;\n        default: return values.reduce((a, b) => a + b, 0);\n      }\n    }\n    \n    _getNumberFormatter(field) {\n      const col = this.state.originalColumns?.find(c => c.key === field);\n      return col?.format || ((v) => typeof v === 'number' ? v.toLocaleString() : v);\n    }\n    \n    _renderPivotToolbar() {\n      const toolbar = this.root.querySelector('.vg-toolbar');\n      if (!toolbar) return;\n      \n      this._closeAllSettingsPanels();\n\n      // Clear existing toolbar content\n      toolbar.innerHTML = '';\n      \n      const pivotControls = document.createElement('div');\n      pivotControls.className = 'vg-pivot-controls';\n      if (this.state.pivotControlsCollapsed) pivotControls.classList.add('collapsed');\n      const toggleLabel = this.state.pivotControlsCollapsed ? '▸ Show Controls' : '▾ Hide Controls';\n      pivotControls.innerHTML = `\n        <div class=\"vg-pivot-header\">\n          <div class=\"vg-pivot-title\">\n            <h3>📊 Pivot Table Builder</h3>\n            <p>Drag fields into the areas below to build your pivot table</p>\n          </div>\n          <div class=\"vg-pivot-header-actions\">\n            <button class=\"vg-btn vg-pivot-toggle\" aria-expanded=\"${!this.state.pivotControlsCollapsed}\">${toggleLabel}</button>\n            <button class=\"vg-btn vg-pivot-exit\">✕ Exit Pivot Mode</button>\n          </div>\n        </div>\n        \n        <div class=\"vg-pivot-workspace\">\n          <div class=\"vg-pivot-fields-panel\">\n            <h4>Available Fields</h4>\n            <div class=\"vg-pivot-available-fields\" id=\"pivot-available-fields\"></div>\n          </div>\n          \n          <div class=\"vg-pivot-config-panel\">\n            <div class=\"vg-pivot-drop-zones\">\n              <div class=\"vg-pivot-zone vg-pivot-filters\">\n                <div class=\"vg-pivot-zone-header\">\n                  <span class=\"vg-pivot-zone-icon\">🔍</span>\n                  <span class=\"vg-pivot-zone-title\">Filters</span>\n                  <span class=\"vg-pivot-zone-hint\">Filter your data</span>\n                </div>\n                <div class=\"vg-pivot-field-list\" data-type=\"filters\"></div>\n              </div>\n\n              <div class=\"vg-pivot-zone vg-pivot-columns\">\n                <div class=\"vg-pivot-zone-header\">\n                  <span class=\"vg-pivot-zone-icon\">📊</span>\n                  <span class=\"vg-pivot-zone-title\">Columns</span>\n                  <span class=\"vg-pivot-zone-hint\">Drag column fields here</span>\n                </div>\n                <div class=\"vg-pivot-field-list\" data-type=\"columns\"></div>\n              </div>\n              \n              <div class=\"vg-pivot-zone vg-pivot-rows\">\n                <div class=\"vg-pivot-zone-header\">\n                  <span class=\"vg-pivot-zone-icon\">📋</span>\n                  <span class=\"vg-pivot-zone-title\">Rows</span>\n                  <span class=\"vg-pivot-zone-hint\">Drag row fields here</span>\n                </div>\n                <div class=\"vg-pivot-field-list\" data-type=\"rows\"></div>\n              </div>\n              \n              <div class=\"vg-pivot-zone vg-pivot-values\">\n                <div class=\"vg-pivot-zone-header\">\n                  <span class=\"vg-pivot-zone-icon\">🔢</span>\n                  <span class=\"vg-pivot-zone-title\">Values</span>\n                  <span class=\"vg-pivot-zone-hint\">Drag numeric fields here</span>\n                </div>\n                <div class=\"vg-pivot-field-list\" data-type=\"values\"></div>\n              </div>\n            </div>\n            \n            <div class=\"vg-pivot-actions\">\n              <button class=\"vg-btn vg-pivot-refresh\">🔄 Refresh Pivot</button>\n              <button class=\"vg-btn vg-pivot-clear\">🗑️ Clear All</button>\n              <button class=\"vg-btn vg-pivot-export\">📊 Export Data</button>\n            </div>\n          </div>\n        </div>\n      `;\n      \n      if (this._styleControlsEnabled()) {\n        const headerActions = pivotControls.querySelector('.vg-pivot-header-actions');\n        if (headerActions) {\n          headerActions.insertAdjacentHTML('beforeend', this._styleControlsMarkup());\n          this._bindStyleControls(headerActions);\n        }\n      }\n\n      toolbar.appendChild(pivotControls);\n      \n      // Populate available fields\n      this._renderAvailableFields();\n      \n      // Render current configuration\n      this._updatePivotFieldLists();\n      \n      // Bind events\n      this._bindPivotEvents();\n      \n      // Initialize drag and drop\n      this._initializePivotDragDrop();\n    }\n    \n    _renderAvailableFields() {\n      const fieldsContainer = this.root.querySelector('#pivot-available-fields');\n      if (!fieldsContainer) return;\n      \n      fieldsContainer.innerHTML = '';\n      const fields = this.getAvailableFields();\n      \n      fields.forEach(field => {\n        const fieldElement = document.createElement('div');\n        fieldElement.className = 'vg-pivot-field-chip';\n        fieldElement.draggable = true;\n        fieldElement.dataset.field = field;\n        \n        const fieldType = this._getFieldType(field);\n        const icon = fieldType === 'number' ? '🔢' : fieldType === 'date' ? '📅' : '📝';\n        \n        fieldElement.innerHTML = `\n          <span class=\"vg-field-icon\">${icon}</span>\n          <span class=\"vg-field-label\">${this._getFieldLabel(field)}</span>\n          <span class=\"vg-field-type\">${fieldType}</span>\n        `;\n        \n        fieldsContainer.appendChild(fieldElement);\n      });\n    }\n    \n    _getFieldType(field) {\n      const originalData = this.state.originalData || this.data;\n      if (!originalData.length) return 'text';\n      \n      const sample = originalData[0][field];\n      if (typeof sample === 'number') return 'number';\n      if (sample instanceof Date || /^\\d{4}-\\d{2}-\\d{2}/.test(sample)) return 'date';\n      return 'text';\n    }\n    \n    _initializePivotDragDrop() {\n      const fieldsContainer = this.root.querySelector('#pivot-available-fields');\n      const dropZones = this.root.querySelectorAll('.vg-pivot-field-list');\n      \n      // Make field chips draggable\n      fieldsContainer.addEventListener('dragstart', (e) => {\n        if (e.target.classList.contains('vg-pivot-field-chip')) {\n          e.dataTransfer.setData('text/plain', e.target.dataset.field);\n          e.target.classList.add('vg-dragging');\n        }\n      });\n      \n      fieldsContainer.addEventListener('dragend', (e) => {\n        e.target.classList.remove('vg-dragging');\n      });\n      \n      // Setup drop zones\n      dropZones.forEach(zone => {\n        zone.addEventListener('dragover', (e) => {\n          e.preventDefault();\n          zone.classList.add('vg-drop-active');\n        });\n        \n        zone.addEventListener('dragleave', (e) => {\n          if (!zone.contains(e.relatedTarget)) {\n            zone.classList.remove('vg-drop-active');\n          }\n        });\n        \n        zone.addEventListener('drop', (e) => {\n          e.preventDefault();\n          zone.classList.remove('vg-drop-active');\n          \n          const field = e.dataTransfer.getData('text/plain');\n          const sourceType = e.dataTransfer.getData('source-type');\n          const type = zone.dataset.type;\n          \n          if (field && type) {\n            // Ensure pivot config is properly initialized\n            if (!this.opts.pivotConfig) {\n              this.opts.pivotConfig = {\n                rows: [],\n                columns: [],\n                values: [],\n                filters: [],\n                aggregations: {}\n              };\n            }\n            \n            // Ensure the specific type array exists\n            if (!this.opts.pivotConfig[type]) {\n              this.opts.pivotConfig[type] = [];\n            }\n            \n            // If moving from another zone, remove from source\n            if (sourceType && sourceType !== type && this.opts.pivotConfig[sourceType]) {\n              const sourceIndex = this.opts.pivotConfig[sourceType].indexOf(field);\n              if (sourceIndex > -1) {\n                this.opts.pivotConfig[sourceType].splice(sourceIndex, 1);\n                if (sourceType === 'values') {\n                  delete this.opts.pivotConfig.aggregations[field];\n                }\n              }\n            }\n            \n            // Add field if not already present in target zone\n            if (!this.opts.pivotConfig[type].includes(field)) {\n              this.opts.pivotConfig[type].push(field);\n              \n              if (type === 'values' && !this.opts.pivotConfig.aggregations[field]) {\n                this.opts.pivotConfig.aggregations[field] = 'sum';\n              }\n              \n              this._updatePivotFieldLists();\n              this.updatePivotConfig(this.opts.pivotConfig);\n            }\n          }\n        });\n      });\n      \n      // Make existing field items draggable within zones\n      this._makeFieldItemsDraggable();\n    }\n    \n    _makeFieldItemsDraggable() {\n      const fieldItems = this.root.querySelectorAll('.vg-pivot-field-item');\n      \n      fieldItems.forEach(item => {\n        item.draggable = true;\n        \n        item.addEventListener('dragstart', (e) => {\n          e.dataTransfer.setData('text/plain', item.dataset.field);\n          e.dataTransfer.setData('source-type', item.closest('.vg-pivot-field-list').dataset.type);\n          item.classList.add('vg-dragging');\n        });\n        \n        item.addEventListener('dragend', (e) => {\n          item.classList.remove('vg-dragging');\n        });\n      });\n    }\n    \n    _updatePivotFieldLists() {\n      const fieldLists = this.root.querySelectorAll('.vg-pivot-field-list');\n      \n      fieldLists.forEach(list => {\n        const type = list.dataset.type;\n        const fields = this.opts.pivotConfig[type] || [];\n        \n        list.innerHTML = '';\n        \n        fields.forEach((field, index) => {\n          const fieldItem = document.createElement('div');\n          fieldItem.className = 'vg-pivot-field-item';\n          fieldItem.dataset.field = field;\n          fieldItem.draggable = true;\n          \n          const fieldType = this._getFieldType(field);\n          const icon = fieldType === 'number' ? '🔢' : fieldType === 'date' ? '📅' : '📝';\n          \n          if (type === 'values') {\n            const aggregation = this.opts.pivotConfig.aggregations[field] || 'sum';\n            fieldItem.innerHTML = `\n              <div class=\"vg-field-item-content\">\n                <span class=\"vg-field-icon\">${icon}</span>\n                <span class=\"vg-field-label\">${this._getFieldLabel(field)}</span>\n                <select class=\"vg-aggregation-select\" data-field=\"${field}\">\n                  <option value=\"sum\" ${aggregation === 'sum' ? 'selected' : ''}>Sum</option>\n                  <option value=\"count\" ${aggregation === 'count' ? 'selected' : ''}>Count</option>\n                  <option value=\"avg\" ${aggregation === 'avg' ? 'selected' : ''}>Average</option>\n                  <option value=\"min\" ${aggregation === 'min' ? 'selected' : ''}>Min</option>\n                  <option value=\"max\" ${aggregation === 'max' ? 'selected' : ''}>Max</option>\n                </select>\n              </div>\n              <div class=\"vg-field-actions\">\n                <button class=\"vg-field-move-up\" data-field=\"${field}\" data-type=\"${type}\" ${index === 0 ? 'disabled' : ''}>↑</button>\n                <button class=\"vg-field-move-down\" data-field=\"${field}\" data-type=\"${type}\" ${index === fields.length - 1 ? 'disabled' : ''}>↓</button>\n                <button class=\"vg-field-remove\" data-field=\"${field}\" data-type=\"${type}\">✕</button>\n              </div>\n            `;\n          } else {\n            fieldItem.innerHTML = `\n              <div class=\"vg-field-item-content\">\n                <span class=\"vg-field-icon\">${icon}</span>\n                <span class=\"vg-field-label\">${this._getFieldLabel(field)}</span>\n                ${type === 'filters' ? `\n                  <select class=\"vg-filter-operator\" data-field=\"${field}\">\n                    <option value=\"equals\">Equals</option>\n                    <option value=\"contains\">Contains</option>\n                    <option value=\"starts\">Starts with</option>\n                    <option value=\"greater\">Greater than</option>\n                    <option value=\"less\">Less than</option>\n                  </select>\n                  <input type=\"text\" class=\"vg-filter-value\" data-field=\"${field}\" placeholder=\"Filter value...\">\n                ` : ''}\n              </div>\n              <div class=\"vg-field-actions\">\n                <button class=\"vg-field-move-up\" data-field=\"${field}\" data-type=\"${type}\" ${index === 0 ? 'disabled' : ''}>↑</button>\n                <button class=\"vg-field-move-down\" data-field=\"${field}\" data-type=\"${type}\" ${index === fields.length - 1 ? 'disabled' : ''}>↓</button>\n                <button class=\"vg-field-remove\" data-field=\"${field}\" data-type=\"${type}\">✕</button>\n              </div>\n            `;\n          }\n          \n          list.appendChild(fieldItem);\n        });\n        \n        if (fields.length === 0) {\n          const emptyState = document.createElement('div');\n          emptyState.className = 'vg-pivot-empty-state';\n          emptyState.innerHTML = `\n            <div class=\"vg-empty-icon\">📥</div>\n            <div class=\"vg-empty-text\">Drag fields here</div>\n          `;\n          list.appendChild(emptyState);\n        }\n      });\n      \n      // Rebind drag and drop events for new items\n      this._makeFieldItemsDraggable();\n    }\n    \n    _bindPivotEvents() {\n      const toolbar = this.root.querySelector('.vg-toolbar');\n      if (!toolbar) return;\n      \n      // Exit pivot mode\n      toolbar.querySelector('.vg-pivot-exit')?.addEventListener('click', () => {\n        this.disablePivot();\n      });\n\n      // Toggle pivot controls collapse/expand\n      toolbar.querySelector('.vg-pivot-toggle')?.addEventListener('click', (e) => {\n        const btn = e.currentTarget;\n        const wrapper = toolbar.querySelector('.vg-pivot-controls');\n        this.state.pivotControlsCollapsed = !this.state.pivotControlsCollapsed;\n        if (wrapper) wrapper.classList.toggle('collapsed', this.state.pivotControlsCollapsed);\n        if (btn) {\n          btn.textContent = this.state.pivotControlsCollapsed ? '▸ Show Controls' : '▾ Hide Controls';\n          btn.setAttribute('aria-expanded', String(!this.state.pivotControlsCollapsed));\n        }\n      });\n      \n      // Refresh pivot\n      toolbar.querySelector('.vg-pivot-refresh')?.addEventListener('click', () => {\n        this.updatePivotConfig(this.opts.pivotConfig);\n      });\n      \n      // Clear all fields\n      toolbar.querySelector('.vg-pivot-clear')?.addEventListener('click', () => {\n        this.clearPivotConfig();\n      });\n      \n      // Export data\n      toolbar.querySelector('.vg-pivot-export')?.addEventListener('click', () => {\n        this.exportPivotData();\n      });\n      \n      // Field actions (remove, move up/down)\n      toolbar.addEventListener('click', (e) => {\n        if (e.target.classList.contains('vg-field-remove')) {\n          const field = e.target.dataset.field;\n          const type = e.target.dataset.type;\n          this.removePivotField(type, field);\n        } else if (e.target.classList.contains('vg-field-move-up')) {\n          const field = e.target.dataset.field;\n          const type = e.target.dataset.type;\n          this.movePivotField(type, field, -1);\n        } else if (e.target.classList.contains('vg-field-move-down')) {\n          const field = e.target.dataset.field;\n          const type = e.target.dataset.type;\n          this.movePivotField(type, field, 1);\n        }\n      });\n      \n      // Aggregation changes\n      toolbar.addEventListener('change', (e) => {\n        if (e.target.classList.contains('vg-aggregation-select')) {\n          const field = e.target.dataset.field;\n          this.opts.pivotConfig.aggregations[field] = e.target.value;\n          this.updatePivotConfig(this.opts.pivotConfig);\n        } else if (e.target.classList.contains('vg-filter-operator') || e.target.classList.contains('vg-filter-value')) {\n          this.applyPivotFilters();\n        }\n      });\n      \n      // Filter input changes (debounced)\n      let filterTimeout;\n      toolbar.addEventListener('input', (e) => {\n        if (e.target.classList.contains('vg-filter-value')) {\n          clearTimeout(filterTimeout);\n          filterTimeout = setTimeout(() => {\n            this.applyPivotFilters();\n          }, 300);\n        }\n      });\n    }\n    \n    removePivotField(type, field) {\n      const index = this.opts.pivotConfig[type].indexOf(field);\n      if (index > -1) {\n        this.opts.pivotConfig[type].splice(index, 1);\n        if (type === 'values') {\n          delete this.opts.pivotConfig.aggregations[field];\n        }\n        this._updatePivotFieldLists();\n        this.updatePivotConfig(this.opts.pivotConfig);\n      }\n    }\n    \n    movePivotField(type, field, direction) {\n      const fields = this.opts.pivotConfig[type];\n      const index = fields.indexOf(field);\n      \n      if (index === -1) return;\n      \n      const newIndex = index + direction;\n      if (newIndex < 0 || newIndex >= fields.length) return;\n      \n      // Swap fields\n      [fields[index], fields[newIndex]] = [fields[newIndex], fields[index]];\n      \n      this._updatePivotFieldLists();\n      this.updatePivotConfig(this.opts.pivotConfig);\n    }\n    \n    clearPivotConfig() {\n      this.opts.pivotConfig = {\n        rows: [],\n        columns: [],\n        values: [],\n        filters: [],\n        aggregations: {}\n      };\n      this._updatePivotFieldLists();\n      this.updatePivotConfig(this.opts.pivotConfig);\n    }\n    \n    applyPivotFilters() {\n      const filters = {};\n      const filterInputs = this.root.querySelectorAll('.vg-filter-value');\n      \n      filterInputs.forEach(input => {\n        const field = input.dataset.field;\n        const value = input.value.trim();\n        const operator = this.root.querySelector(`.vg-filter-operator[data-field=\"${field}\"]`)?.value || 'equals';\n        \n        if (value) {\n          filters[field] = { operator, value };\n        }\n      });\n      \n      this.opts.pivotConfig.filters = filters;\n      this.updatePivotConfig(this.opts.pivotConfig);\n    }\n    \n    exportPivotData() {\n      // Use the current data which contains the pivot table rows\n      const pivotData = this.opts.pivotMode ? this.data : this.data;\n      \n      if (!pivotData || !pivotData.length) {\n        console.warn('No data available for export');\n        alert('No data available for export. Please configure your pivot table first.');\n        return;\n      }\n      \n      console.log('Exporting pivot data:', pivotData.length, 'rows');\n      const csvContent = this.convertToCSV(pivotData);\n      \n      if (!csvContent) {\n        console.warn('CSV conversion failed');\n        alert('Failed to convert data to CSV format.');\n        return;\n      }\n      \n      this.downloadCSV(csvContent, 'pivot-table.csv');\n    }\n    \n    convertToCSV(data) {\n      if (!data || !data.length) {\n        console.warn('ConvertToCSV: No data provided');\n        return '';\n      }\n      \n      console.log('Converting to CSV:', data.length, 'rows');\n      \n      // Get headers from the first row\n      const firstRow = data[0];\n      if (!firstRow || typeof firstRow !== 'object') {\n        console.warn('ConvertToCSV: Invalid data format');\n        return '';\n      }\n      \n      const headers = Object.keys(firstRow);\n      const csvRows = [headers.join(',')];\n      \n      data.forEach((row, index) => {\n        const values = headers.map(header => {\n          const value = row[header];\n          if (value === null || value === undefined) {\n            return '';\n          }\n          return typeof value === 'string' ? `\"${value.replace(/\"/g, '\"\"')}\"` : value;\n        });\n        csvRows.push(values.join(','));\n      });\n      \n      console.log('CSV generated:', csvRows.length, 'lines');\n      return csvRows.join('\\n');\n    }\n    \n    downloadCSV(content, filename) {\n      const blob = new Blob([content], { type: 'text/csv;charset=utf-8;' });\n      const link = document.createElement('a');\n      if (link.download !== undefined) {\n        const url = URL.createObjectURL(blob);\n        link.setAttribute('href', url);\n        link.setAttribute('download', filename);\n        link.style.visibility = 'hidden';\n        document.body.appendChild(link);\n        link.click();\n        document.body.removeChild(link);\n      }\n    }\n\n    // ---- Public selection API ----\n    getSelectedRows() { return Array.from(this.state.selected).map(id => this.rowById.get(id)).filter(Boolean); }\n    clearSelection() {\n      this.state.selected.clear();\n      this._updateHeaderSelectionToggle();\n      this._renderBody();\n      this._emitSelection();\n    }\n  }\n\n// Export as default (UMD will use this as window.VanillaGrid)\nexport default VanillaGrid;\n\n// Also export types for TypeScript consumers\nexport type {\n  VGColumn,\n  VGExporting,\n  VGTreeOptions,\n  VGPivotConfig,\n  VGStyleControls,\n  VGColumnsMenu,\n  VGI18n,\n  VanillaGridOptions,\n  VGCellType,\n  VGSortDirection,\n  VGFilterMode,\n  VGExportFormat,\n  VGExportScope,\n  VGThemeValue,\n  VGDensityValue,\n  VGAggregation,\n  VGFilterOperator,\n  VGDropPosition\n};\n"],"names":[],"mappings":"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"}